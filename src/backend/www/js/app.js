/*! For license information please see app.js.LICENSE.txt */
(()=>{var t={347:t=>{!function(){function e(t,e){document.addEventListener?t.addEventListener("scroll",e,!1):t.attachEvent("scroll",e)}function r(t){this.g=document.createElement("div"),this.g.setAttribute("aria-hidden","true"),this.g.appendChild(document.createTextNode(t)),this.h=document.createElement("span"),this.i=document.createElement("span"),this.m=document.createElement("span"),this.j=document.createElement("span"),this.l=-1,this.h.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.i.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.j.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.m.style.cssText="display:inline-block;width:200%;height:200%;font-size:16px;max-width:none;",this.h.appendChild(this.m),this.i.appendChild(this.j),this.g.appendChild(this.h),this.g.appendChild(this.i)}function n(t,e){t.g.style.cssText="max-width:none;min-width:20px;min-height:20px;display:inline-block;overflow:hidden;position:absolute;width:auto;margin:0;padding:0;top:-999px;white-space:nowrap;font-synthesis:none;font:"+e+";"}function o(t){var e=t.g.offsetWidth,r=e+100;return t.j.style.width=r+"px",t.i.scrollLeft=r,t.h.scrollLeft=t.h.scrollWidth+100,t.l!==e&&(t.l=e,!0)}function i(t,r){function n(){var t=i;o(t)&&null!==t.g.parentNode&&r(t.l)}var i=t;e(t.h,n),e(t.i,n),o(t)}function a(t,e,r){e=e||{},r=r||window,this.family=t,this.style=e.style||"normal",this.weight=e.weight||"normal",this.stretch=e.stretch||"normal",this.context=r}var s=null,c=null,l=null,u=null;function f(t){return null===u&&(u=!!t.document.fonts),u}function h(t,e){var r=t.style,n=t.weight;if(null===l){var o=document.createElement("div");try{o.style.font="condensed 100px sans-serif"}catch(t){}l=""!==o.style.font}return[r,n,l?t.stretch:"","100px",e].join(" ")}a.prototype.load=function(t,e){var o=this,a=t||"BESbswy",l=0,u=e||3e3,p=(new Date).getTime();return new Promise((function(t,e){if(f(o.context)&&!function(t){return null===c&&(f(t)&&/Apple/.test(window.navigator.vendor)?(t=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))(?:\.([0-9]+))/.exec(window.navigator.userAgent),c=!!t&&603>parseInt(t[1],10)):c=!1),c}(o.context)){var d=new Promise((function(t,e){!function r(){(new Date).getTime()-p>=u?e(Error(u+"ms timeout exceeded")):o.context.document.fonts.load(h(o,'"'+o.family+'"'),a).then((function(e){1<=e.length?t():setTimeout(r,25)}),e)}()})),y=new Promise((function(t,e){l=setTimeout((function(){e(Error(u+"ms timeout exceeded"))}),u)}));Promise.race([y,d]).then((function(){clearTimeout(l),t(o)}),e)}else!function(t){document.body?t():document.addEventListener?document.addEventListener("DOMContentLoaded",(function e(){document.removeEventListener("DOMContentLoaded",e),t()})):document.attachEvent("onreadystatechange",(function e(){"interactive"!=document.readyState&&"complete"!=document.readyState||(document.detachEvent("onreadystatechange",e),t())}))}((function(){function c(){var e;(e=-1!=b&&-1!=_||-1!=b&&-1!=g||-1!=_&&-1!=g)&&((e=b!=_&&b!=g&&_!=g)||(null===s&&(e=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent),s=!!e&&(536>parseInt(e[1],10)||536===parseInt(e[1],10)&&11>=parseInt(e[2],10))),e=s&&(b==v&&_==v&&g==v||b==m&&_==m&&g==m||b==w&&_==w&&g==w)),e=!e),e&&(null!==O.parentNode&&O.parentNode.removeChild(O),clearTimeout(l),t(o))}var f=new r(a),d=new r(a),y=new r(a),b=-1,_=-1,g=-1,v=-1,m=-1,w=-1,O=document.createElement("div");O.dir="ltr",n(f,h(o,"sans-serif")),n(d,h(o,"serif")),n(y,h(o,"monospace")),O.appendChild(f.g),O.appendChild(d.g),O.appendChild(y.g),o.context.document.body.appendChild(O),v=f.g.offsetWidth,m=d.g.offsetWidth,w=y.g.offsetWidth,function t(){if((new Date).getTime()-p>=u)null!==O.parentNode&&O.parentNode.removeChild(O),e(Error(u+"ms timeout exceeded"));else{var r=o.context.document.hidden;!0!==r&&void 0!==r||(b=f.g.offsetWidth,_=d.g.offsetWidth,g=y.g.offsetWidth,c()),l=setTimeout(t,50)}}(),i(f,(function(t){b=t,c()})),n(f,h(o,'"'+o.family+'",sans-serif')),i(d,(function(t){_=t,c()})),n(d,h(o,'"'+o.family+'",serif')),i(y,(function(t){g=t,c()})),n(y,h(o,'"'+o.family+'",monospace'))}))}))},t.exports=a}()}},e={};function r(n){var o=e[n];if(void 0!==o)return o.exports;var i=e[n]={exports:{}};return t[n](i,i.exports,r),i.exports}r.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return r.d(e,{a:e}),e},r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{"use strict";function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}function e(e,r){for(var n=0;n<r.length;n++){var o=r[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,(void 0,i=function(e,r){if("object"!==t(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,"string");if("object"!==t(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(o.key),"symbol"===t(i)?i:String(i)),o)}var i}function n(){return n="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=i(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},n.apply(this,arguments)}function o(t,e){return o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},o(t,e)}function i(t){return i=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},i(t)}var a=function(r){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&o(t,e)}(f,PIXI.Container);var a,s,c,l,u=(c=f,l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var e,r=i(c);if(l){var n=i(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,r){if(r&&("object"===t(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(e)}(this,e)});function f(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,f),(t=u.call(this))._label=new PIXI.Text("",{fontFamily:"MajorMonoDisplay-Regular",fontSize:15,fill:"#ff0000",stroke:"#ff0000",strokeThickness:1.5,align:"center"}),t._label.anchor.set(0,.5),t.addChild(t._label),t._text="",t._clearTime=0,t}return a=f,(s=[{key:"text",set:function(t){this._text=String(t),this._clearTime=100}},{key:"render",value:function(t){n(i(f.prototype),"render",this).call(this,t);var e,r,o,a,s,c,l=this._label.text;if(this._text===l){if(this._clearTime>0)return void this._clearTime--;this._text=""}this._text.length>this._label.text.length?l+="qwertyuiopasdfghjklzxcvbnmQWERTYUIOPASDFGHJKLZXCVBNM"[Math.floor(52*Math.random())]:this._text.length<l.length&&(l=l.substring(0,this._label.text.length-1)),l=l.split("");for(var u=0;u<l.length;u++)l[u]!==this._text[u]&&(l[u]=(e=l[u],r=this._text[u],void 0,void 0,a=void 0,s=void 0,c=void 0,s=(a=String(r).charCodeAt(0)-(o=String(e).charCodeAt(0)))>0?1:-1,(c=o+(s*=(a=Math.abs(a))>20?10:1))>126&&(c=32),c<32&&(c=126),String.fromCharCode(c)));this._label.text=l.join("")}}])&&e(a.prototype,s),Object.defineProperty(a,"prototype",{writable:!1}),f}();function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function c(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==s(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==s(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===s(o)?o:String(o)),n)}var o}function l(){return l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=f(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},l.apply(this,arguments)}function u(t,e){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},u(t,e)}function f(t){return f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},f(t)}var h=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&u(t,e)}(a,PIXI.Container);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=f(n);if(o){var r=f(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===s(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this))._clicker=new PIXI.Graphics,t._clicker.beginFill(0),t._clicker.drawCircle(0,0,40),t._clicker.beginFill(16711680),t._clicker.drawCircle(0,0,4),t.addChild(t._clicker),t.interactive=!0,t.pulse=!0,t}return e=a,(r=[{key:"render",value:function(t){l(f(a.prototype),"render",this).call(this,t),this.pulse?this.alpha=.6+.4*Math.sin(.01*performance.now()):this.alpha=1}}])&&c(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}();function p(t){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},p(t)}function d(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==p(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==p(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===p(o)?o:String(o)),n)}var o}function y(){return y="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=_(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},y.apply(this,arguments)}function b(t,e){return b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},b(t,e)}function _(t){return _=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},_(t)}var g=["hi","hello","hey there","what's up?","how is it going?","howdy","greetings","what's going on?","how's everything?","good to see you","nice to see you","what's new?","how are you feeling today?","look who it is?","sup?","yo!","hello my friend","good day"],v=["bye, bye...","see ya!","goodbye","have a nice day","have a great rest of your day","it was a pleasure seeing you","take care","cheers","keep in touch","have fun","have a good one","ciao","adios","peace out","catch you later","take it easy","see ya later, alligator"],m=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&b(t,e)}(s,PIXI.Container);var e,r,n,o,i=(n=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=_(n);if(o){var r=_(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===p(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function s(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),(t=i.call(this))._slots=[{index:0,x:810,y:165,size:1},{index:1,x:1080,y:155,size:1},{index:2,x:1275,y:80,size:.5},{index:3,x:1265,y:240,size:.5},{index:4,x:1410,y:80,size:.5},{index:5,x:1400,y:240,size:.5}],t._widgets={},t._widgetList=[],t._sleep=!localStorage.getItem("isAwake"),t._online=!1,t._sleepToggle=new h,t._sleepToggle.x=30,t._sleepToggle.y=300,t.addChild(t._sleepToggle),t._sleepToggle.on("pointertap",(function(){t._sleep=!t._sleep,t._sleep?t.goSleep():t.wakeUp()})),t._infoMessage=new a,t._infoMessage.x=55,t._infoMessage.y=298,t.addChild(t._infoMessage),t}return e=s,(r=[{key:"goSleep",value:function(){this._sleep=!0,this._infoMessage.text=v[Math.floor(Math.random()*v.length)],localStorage.removeItem("isAwake")}},{key:"wakeUp",value:function(){this._sleep=!1,this._infoMessage.text=g[Math.floor(Math.random()*g.length)],localStorage.setItem("isAwake",!0)}},{key:"online",get:function(){return this._online},set:function(t){this._online=t,this._sleepToggle.pulse=!t}},{key:"routeMessage",value:function(t,e){this._widgets[t].onMessage(e)}},{key:"addWidget",value:function(t){var e=this,r=this._widgetList.length;this._widgetList.push(t),this._widgets[t.id]=t,t.x=this._slots[r].x,t.y=this._slots[r].y,t.index=this._slots[r].index,t.size=this._slots[r].size,this.addChild(t),t.main.x=350,t.main.y=160,this.addChild(t.main),t.on("activate",(function(){return e._activate(t)}))}},{key:"_activate",value:function(t){var e=this._widgetList.indexOf(t);if(0!==e){this._widgetList.splice(e,1),this._widgetList.unshift(t);for(var r=0;r<this._widgetList.length;r++)this._widgetList[r].moveTo(this._slots[r])}}},{key:"render",value:function(t){for(var e=0;e<this._widgetList.length;e++){var r=this._widgetList[e];this._sleep?r.progress=Math.max(0,r.progress-.08):r.progress=Math.min(1,r.progress+.08)}this._sleepToggle.pulse&&(this._infoMessage.text="conNecting..."),y(_(s.prototype),"render",this).call(this,t)}}])&&d(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),s}(),w=r(347),O=r.n(w);function P(t){return P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},P(t)}function S(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return j(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?j(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw i}}}}function j(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function x(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==P(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==P(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===P(o)?o:String(o)),n)}var o}function k(){return k="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=T(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},k.apply(this,arguments)}function L(t,e){return L=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},L(t,e)}function T(t){return T=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},T(t)}var R=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&L(t,e)}(a,PIXI.Container);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=T(n);if(o){var r=T(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===P(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this)).size=1,t.progress=0,t._canvas=new PIXI.Graphics,t.addChild(t._canvas),t._linesChanged=!1,t._lastHash="",t._lineGroups=[],t._lines={},t}return e=a,r=[{key:"addLine",value:function(t,e,r,n){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:16777215,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:1,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,c=arguments.length>8&&void 0!==arguments[8]?arguments[8]:1;this._linesChanged=!0;var l="".concat(o.toFixed(1),"|").concat(i.toString(16),"|").concat(a.toFixed(2));this._lineGroups.push(l),this._lines[l]||(this._lines[l]={width:o,color:i,alpha:a,children:[]}),this._lines[l].children.push({x1:t,x2:r,y1:e,y2:n,startTime:s,endTime:c})}},{key:"addSequence",value:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:16777215,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,a=0,s=2;s<t.length;s+=2){var c=t[s]-t[s-2],l=t[s+1]-t[s-1];a+=Math.sqrt(c*c+l*l)}for(var u=0,f=2;f<t.length;f+=2){var h=t[f]-t[f-2],p=t[f+1]-t[f-1],d=u+Math.sqrt(h*h+p*p)/a;this.addLine(t[f-2],t[f-1],t[f],t[f+1],e,r,n,o+u*(i-o),o+d*(i-o)),u=d}}},{key:"render",value:function(t){var e="".concat(this.size.toFixed(3),"|").concat(this.progress.toFixed(3));if(e===this._lastHash&&!this._linesChanged)return this._canvas.cacheAsBitmap=!0,void k(T(a.prototype),"render",this).call(this,t);this._canvas.cacheAsBitmap=!1,k(T(a.prototype),"render",this).call(this,t),this._lastHash=e,this._linesChanged=!1,this._canvas.clear();var r,n=S(this._lineGroups);try{for(n.s();!(r=n.n()).done;){var o=r.value,i=this._lines[o];this._canvas.lineStyle({width:i.width,alpha:i.alpha,color:i.color});var s,c=S(i.children);try{for(c.s();!(s=c.n()).done;){var l=s.value;this._canvas.moveTo(l.x1*this.size,l.y1*this.size);var u=Math.min(1,Math.max(0,this.progress-l.startTime)/(l.endTime-l.startTime));this._canvas.lineTo((l.x1+(l.x2-l.x1)*u)*this.size,(l.y1+(l.y2-l.y1)*u)*this.size)}}catch(t){c.e(t)}finally{c.f()}}}catch(t){n.e(t)}finally{n.f()}}}],r&&x(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}();function M(t){return M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},M(t)}function z(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,E(n.key),n)}}function C(t,e,r,n){return C="undefined"!=typeof Reflect&&Reflect.set?Reflect.set:function(t,e,r,n){var o,i=D(t,e);if(i){if((o=Object.getOwnPropertyDescriptor(i,e)).set)return o.set.call(n,r),!0;if(!o.writable)return!1}if(o=Object.getOwnPropertyDescriptor(n,e)){if(!o.writable)return!1;o.value=r,Object.defineProperty(n,e,o)}else!function(t,e,r){(e=E(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}(n,e,r);return!0},C(t,e,r,n)}function E(t){var e=function(t,e){if("object"!==M(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==M(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===M(e)?e:String(e)}function I(){return I="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=D(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},I.apply(this,arguments)}function D(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=F(t)););return t}function B(t,e){return B=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},B(t,e)}function F(t){return F=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},F(t)}var A=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&B(t,e)}(a,PIXI.Text);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=F(n);if(o){var r=F(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===M(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(t,e){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(r=i.call(this,"",e))._progress=0,r._origText=t,r.anchor.set(.5),r}return e=a,(r=[{key:"progress",get:function(){return this._progress},set:function(t){this._progress=t}},{key:"text",get:function(){return this._origText},set:function(t){this._origText=String(t)}},{key:"render",value:function(t){I(F(a.prototype),"render",this).call(this,t),function(t,e,r,n,o){if(!C(t,"text",r,n||t))throw new TypeError("failed to set property")}(F(a.prototype),0,this._origText.substr(0,Math.round(this._progress*this._origText.length)),this)}}])&&z(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}();function X(t){return X="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},X(t)}function H(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==X(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==X(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===X(o)?o:String(o)),n)}var o}function W(){return W="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=U(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},W.apply(this,arguments)}function G(t,e){return G=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},G(t,e)}function U(t){return U=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},U(t)}var N=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&G(t,e)}(a,PIXI.Container);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=U(n);if(o){var r=U(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===X(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this)).progress=0,t.statusLeftText=null,t.statusRightText=null,t._frame=new R,t._frame.addSequence([295,-100,295,120,-295,120,-295,-100,295,-100],1,16777215,.1),t._frame.addLine(90,-120,-90,-120,3,16777215,1,.5),t._frame.addSequence([455,-110,455,-120,280,-120,280,-100,300,-80,260,-80,245,-95,150,-95,125,-120,-125,-120,-150,-95,-245,-95,-260,-80,-300,-80,-280,-100,-280,-120]),t._frame.addSequence([330,0,300,0,300,130,265,130,250,115,150,115,125,140,25,140,0,115,-245,115,-260,100,-300,100,-300,115,-280,115]),t._frame.addSequence([125,-120,100,-95,90,-95,85,-100,-85,-100,-90,-95,-100,-95,-125,-120],1,16777215,1,.4,1),t._frame.addLine(-300,-60,-300,60,1,16777215,1,.5),t._frame.addSequence([330,-20,300,-20,300,-60,350,-60],1,16777215,1,0,.5),t.addChild(t._frame),t._titleLabel=new A(">> widget <<",{fontFamily:"MajorMonoDisplay-Regular",fontSize:11,fill:"#ff0000",stroke:"#ff0000",strokeThickness:1.5,align:"center"}),t._titleLabel.y=-111,t.addChild(t._titleLabel),t._statusLeftLabel=new A("1234567890",{fontFamily:"MajorMonoDisplay-Regular",fontSize:8,fill:"#ffffff",stroke:"#ffffff",strokeThickness:.5,align:"center"}),t._statusLeftLabel.alpha=.2,t._statusLeftLabel.x=-210,t._statusLeftLabel.y=-111,t.addChild(t._statusLeftLabel),t._statusRightLabel=new A("1234567890",{fontFamily:"MajorMonoDisplay-Regular",fontSize:8,fill:"#ffffff",stroke:"#ffffff",strokeThickness:.5,align:"center"}),t._statusRightLabel.alpha=.2,t._statusRightLabel.x=210,t._statusRightLabel.y=-111,t.addChild(t._statusRightLabel),t}return e=a,(r=[{key:"render",value:function(t){W(U(a.prototype),"render",this).call(this,t),this._frame.progress=this.progress,this._titleLabel.progress=Math.max(0,2*this.progress-.5),this._statusLeftLabel.progress=this.progress,this._statusRightLabel.progress=this.progress,this._statusLeftLabel.text=null!==this.statusLeftText?this.statusLeftText:"0x"+(837231*Math.round(1e3*performance.now())%0xffffffffff).toString(16).padStart(10,"X"),this._statusRightLabel.text=null!==this.statusRightText?this.statusRightText:"0x"+(837231*Math.round(1e3*performance.now())%0xffffffffff).toString(16).padStart(10,"X")}}])&&H(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}();function V(t){return V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},V(t)}function q(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==V(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==V(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===V(o)?o:String(o)),n)}var o}function J(){return J="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Y(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},J.apply(this,arguments)}function K(t,e){return K=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},K(t,e)}function Y(t){return Y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Y(t)}var $=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&K(t,e)}(a,PIXI.Container);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Y(n);if(o){var r=Y(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===V(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this))._progress=0,t._size=1,t._text="",t._fontSize=10,t._chars=[],t._radius=100,t._alignOffset=.5,t._positionOffset=0,t._updated=!0,t._color=16777215,t}return e=a,(r=[{key:"progress",get:function(){return this._progress},set:function(t){this._updated=this._updated||this._progress!==t,this._updated&&(this.cacheAsBitmap=!1),this._progress=t}},{key:"size",get:function(){return this._size},set:function(t){this._updated=this._updated||this._size!==t,this._updated&&(this.cacheAsBitmap=!1),this._size=t}},{key:"text",get:function(){return this._text},set:function(t){var e=String(t);this._updated=this._updated||this._text!==e,this._updated&&(this.cacheAsBitmap=!1),this._text=e}},{key:"color",get:function(){return this._color},set:function(t){this._updated=this._updated||this._color!==t,this._updated&&(this.cacheAsBitmap=!1),this._color=t}},{key:"fontSize",get:function(){return this._fontSize},set:function(t){this._updated=this._updated||this._fontSize!==t,this._updated&&(this.cacheAsBitmap=!1),this._fontSize=t}},{key:"radius",get:function(){return this._radius},set:function(t){this._updated=this._updated||this._radius!==t,this._updated&&(this.cacheAsBitmap=!1),this._radius=t}},{key:"alignOffset",get:function(){return this._alignOffset},set:function(t){this._updated=this._updated||this._alignOffset!==t,this._updated&&(this.cacheAsBitmap=!1),this._alignOffset=t}},{key:"positionOffset",get:function(){return this._positionOffset},set:function(t){this._updated=this._updated||this._positionOffset!==t,this._updated&&(this.cacheAsBitmap=!1),this._positionOffset=t}},{key:"startAngleRange",get:function(){var t=.8*this.fontSize,e=Math.atan2(t,this.radius),r=(this._chars.length-1)*e*this.alignOffset+this.positionOffset;return[-r,-r+e*this.text.length-e]}},{key:"render",value:function(t){if(J(Y(a.prototype),"render",this).call(this,t),this._updated){for(;this._chars.length>this.text.length;)this.removeChild(this._chars.pop());for(;this._chars.length<this.text.length;){var e=new PIXI.Text("X",{fontFamily:"MajorMonoDisplay-Regular",fontSize:this._fontSize,fill:this.color,stroke:this.color,strokeThickness:.5,align:"center"});e.anchor.set(.5),this._chars.push(e),this.addChild(e)}for(var r=.8*this.fontSize,n=Math.atan2(r,this.radius),o=(this._chars.length-1)*n*this.alignOffset+this.positionOffset,i=0;i<this._chars.length;i++)this._chars[i].text=this.text[i],this._chars[i].style.fontSize=this.fontSize,this._chars[i].x=this.radius*Math.sin(n*i-o),this._chars[i].y=-this.radius*Math.cos(n*i-o),this._chars[i].rotation=Math.atan2(this._chars[i].y,this._chars[i].x)+Math.PI/2,this._chars[i].visible=i/this._chars.length<this.progress;this._updated=!1}}}])&&q(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}();function Q(t){return Q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Q(t)}function Z(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function tt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Q(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==Q(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===Q(o)?o:String(o)),n)}var o}function et(){return et="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=nt(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},et.apply(this,arguments)}function rt(t,e){return rt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},rt(t,e)}function nt(t){return nt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},nt(t)}var ot=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&rt(t,e)}(a,PIXI.Container);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=nt(n);if(o){var r=nt(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Q(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Widget";return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this))._canvas=new PIXI.Graphics,t._label=new $,t._label.text="|> ".concat(e," <|"),t.addChild(t._canvas),t.addChild(t._label),t._progress=0,t._size=1,t._updated=!0,t._stealTime=0,t}return e=a,(r=[{key:"progress",get:function(){return this._progress},set:function(t){this._updated=this._updated||this._progress!==t,this._updated&&(this.cacheAsBitmap=!1),this._progress=t}},{key:"size",get:function(){return this._size},set:function(t){this._updated=this._updated||this._size!==t,this._updated&&(this.cacheAsBitmap=!1),this._size=t}},{key:"render",value:function(t){if(et(nt(a.prototype),"render",this).call(this,t),!this._updated)return this._stealTime++,void(this.cacheAsBitmap=this._stealTime>10);this._label.progress=this.progress,this._canvas.clear();var e=100*this.size;this._label.radius=e,this._label.fontSize=6+6*this.size;var r,n,o=Math.PI/50,i=(r=this._label.startAngleRange,n=2,function(t){if(Array.isArray(t))return t}(r)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,s=[],c=!0,l=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==e);c=!0);}catch(t){l=!0,o=t}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(r,n)||function(t,e){if(t){if("string"==typeof t)return Z(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Z(t,e):void 0}}(r,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),s=i[0],c=i[1];this._canvas.moveTo(e*Math.sin(c),-e*Math.cos(c));for(var l=s+2*Math.PI-c,u=c;u<=c+l*this.progress;u+=o){var f=-e*Math.cos(u);this._canvas.lineStyle({color:16777215,width:2,alpha:f>0?.3:.8}),this._canvas.lineTo(e*Math.sin(u),f)}this._canvas.lineTo(e*Math.sin(c+l*this.progress),-e*Math.cos(c+l*this.progress)),this._updated=!1,this._stealTime=0}}])&&tt(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}();function it(t){return it="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},it(t)}function at(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==it(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==it(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===it(o)?o:String(o)),n)}var o}function st(t,e){return st=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},st(t,e)}function ct(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function lt(){return lt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=ut(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},lt.apply(this,arguments)}function ut(t){return ut=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ut(t)}var ft=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&st(t,e)}(a,PIXI.Container);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=ut(n);if(o){var r=ut(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===it(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return ct(t)}(this,t)});function a(t,e){var r,n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(n=i.call(this))._id=t,n._container=new PIXI.Container,lt((r=ct(n),ut(a.prototype)),"addChild",r).call(r,n._container),n._title=e,n._frame=new ot(e),n.addChild(n._frame),n._progress=0,n.size=1,n.index=0,n._bg=new PIXI.Graphics,n._bg.beginFill(0,.01),n._bg.drawCircle(0,0,100),n.addChild(n._bg),n.interactive=!0,n.main=new N;var o=0;return n.on("pointertap",(function(){var t=performance.now(),e=t-o;o=t,e<500&&(n.emit("activate"),o=0)})),n.movement={timeLeft:0,index1:0,x1:0,y1:0,size1:1,index2:0,x2:0,y2:0,size2:1,flickTime:0},n}return e=a,(r=[{key:"id",get:function(){return this._id}},{key:"addChild",value:function(t){this._container.addChild(t)}},{key:"addChildAt",value:function(t,e){this._container.addChildAt(t,e)}},{key:"removeChild",value:function(t){this._container.removeChild(t)}},{key:"progress",get:function(){return this._progress},set:function(t){this._progress=t}},{key:"moveTo",value:function(t){this.movement.timeLeft=1,this.movement.x1=this.x,this.movement.y1=this.y,this.movement.size1=this.size,this.movement.x2=t.x,this.movement.y2=t.y,this.movement.size2=t.size,this.movement.index1=this.index,this.movement.index2=t.index,this.movement.flickTime=Math.random()}},{key:"render",value:function(t){this._bg.scale.set(this.size),this._frame.size=this.size,this._frame.progress=this._progress;var e=function(t,e,r){return Math.min(1,Math.max(0,t-e)/(r-e))};if(this.movement.timeLeft>0){var r=this.movement,n=r.x1,o=r.y1,i=r.size1,s=r.x2,c=r.y2,l=r.size2;this.movement.timeLeft=Math.max(0,this.movement.timeLeft-.04);var u=this.movement.timeLeft,f=e(u,0,.4),h=e(u,.4,.6),p=e(u,.6,1);this.x=n*h+s*(1-h),this.y=o*h+c*(1-h),this.size=i*h+l*(1-h),0===this.movement.index2&&(this.main.progress=(1-f)*this.progress,this.alpha=p>0?.2+.8*Math.random():1),0===this.movement.index1&&(this.main.progress=p*this.progress),0===u&&(this.index=this.movement.index2)}else 0===this.index?this.main.progress=this.progress:this.main.progress=0;lt(ut(a.prototype),"render",this).call(this,t)}},{key:"onMessage",value:function(t){console.log('Widget "'.concat(this._id,'" received a message:'),t)}},{key:"sendMessage",value:function(t){this.emit("service",{serviceId:this._id,payload:t})}},{key:"toString",value:function(){return'[Widget title="'.concat(this._title,'"]')}}])&&at(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}();function ht(t){return ht="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ht(t)}function pt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==ht(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==ht(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===ht(o)?o:String(o)),n)}var o}function dt(){return dt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=bt(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},dt.apply(this,arguments)}function yt(t,e){return yt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},yt(t,e)}function bt(t){return bt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},bt(t)}var _t=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&yt(t,e)}(a,PIXI.Container);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=bt(n);if(o){var r=bt(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===ht(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this))._canvas=new PIXI.Graphics,t.addChild(t._canvas),t._progress=0,t.value=0,t.lineWidth=2,t._presentedValue=0,t._size=1,t.color=16777215,t._lastUpdateHash="",t}return e=a,(r=[{key:"progress",get:function(){return this._progress},set:function(t){this._progress=t}},{key:"size",get:function(){return this._size},set:function(t){this._size=t}},{key:"render",value:function(t){dt(bt(a.prototype),"render",this).call(this,t),this._presentedValue+=(this.value-this._presentedValue)/30;var e=this.size.toFixed(3)+"|"+this.progress.toFixed(3)+"|"+this._presentedValue.toFixed(3)+"|"+this.color.toString(16)+"|"+this.lineWidth.toFixed(0);if(e!==this._lastUpdateHash){this._lastUpdateHash=e,this._canvas.clear();var r=100*this.size,n=Math.PI/100;this._canvas.moveTo(r*Math.sin(0),-r*Math.cos(0)),this._canvas.lineStyle({color:this.color,width:this.lineWidth,alpha:.7});for(var o=0;o<=2*Math.PI*this._presentedValue*this.progress;o+=n)this._canvas.lineTo(r*Math.sin(o),-r*Math.cos(o))}}}])&&pt(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}();function gt(t){return gt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gt(t)}function vt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==gt(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==gt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===gt(o)?o:String(o)),n)}var o}function mt(){return mt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Ot(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},mt.apply(this,arguments)}function wt(t,e){return wt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},wt(t,e)}function Ot(t){return Ot=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ot(t)}var Pt=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],St=["sun","mon","tue","wed","thu","fri","sat"],jt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&wt(t,e)}(a,t);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Ot(n);if(o){var r=Ot(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===gt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,"dateTime","Date & Time"))._secPointer=new _t,t._secPointer.color=16711680,t.addChild(t._secPointer),t._minPointer=new _t,t._minPointer.color=16711680,t.addChild(t._minPointer),t._hourPointer=new _t,t._hourPointer.color=16711680,t.addChild(t._hourPointer),t._timeLabel=new A("00:00:00",{fontFamily:"MajorMonoDisplay-Regular",fontSize:10,fill:"#ffffff",stroke:"#ffffff",strokeThickness:.5,align:"center"}),t._timeLabel.anchor.set(.5),t.addChild(t._timeLabel),t._dateLabel=new A("???",{fontFamily:"MajorMonoDisplay-Regular",fontSize:10,fill:"#ffffff",stroke:"#ffffff",strokeThickness:.5,align:"center"}),t._dateLabel.anchor.set(.5),t.addChild(t._dateLabel),t._weekDays=[];for(var e=0;e<St.length;e++){var r=St[e],n=new $;t._weekDays.push(n),n.text=r,n.positionOffset=1.35*Math.PI-(e+6)%7*.4,n.progress=1,t.addChild(n)}return t}return e=a,(r=[{key:"render",value:function(t){mt(Ot(a.prototype),"render",this).call(this,t);var e=new Date,r=e.getHours().toString().padStart(2,"0"),n=e.getMinutes().toString().padStart(2,"0"),o=e.getSeconds().toString().padStart(2,"0");this._timeLabel.style.fontSize=2+20*this.size;var i="".concat(r,":").concat(n);1===this.size?(i+=":".concat(o),this._timeLabel.y=15*-this.size):(this._timeLabel.y=0,this._timeLabel.style.fontSize*=1.5),this._timeLabel.text=i,this._timeLabel.progress=this._progress,this._dateLabel.style.fontSize=2+18*this.size,this._dateLabel.text="".concat(Pt[e.getMonth()]," ").concat(e.getDate()),this._dateLabel.y=15*+this.size,this._dateLabel.visible=1===this.size,this._dateLabel.progress=this._progress,this._secPointer.value=e.getSeconds()/60,this._secPointer.progress=this._progress,this._secPointer.size=this.size*(1===this.size?.86:.8),this._minPointer.value=e.getMinutes()/60,this._minPointer.progress=this._progress,this._minPointer.size=.83*this.size,this._minPointer.visible=1===this.size,this._hourPointer.value=e.getHours()/24,this._hourPointer.progress=this._progress,this._hourPointer.size=.8*this.size,this._hourPointer.visible=1===this.size;for(var s=0;s<this._weekDays.length;s++){var c=this._weekDays[s];c.radius=94*this.size,c.fontSize=4+5*this.size,c.alpha=s==e.getDay()?1:.4,c.visible=1===this.size&&this.progress>(s+6)%7/7}}}])&&vt(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(ft);function xt(t){return xt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xt(t)}function kt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==xt(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==xt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===xt(o)?o:String(o)),n)}var o}function Lt(){return Lt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Rt(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},Lt.apply(this,arguments)}function Tt(t,e){return Tt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Tt(t,e)}function Rt(t){return Rt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Rt(t)}var Mt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Tt(t,e)}(a,PIXI.Container);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Rt(n);if(o){var r=Rt(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===xt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this))._shapes=new PIXI.Graphics,t.addChild(t._shapes),t.size=1,t.progress=0,t.count=30,t.countMax=1e5,t.length=.5,t._updateHash="",t}return e=a,(r=[{key:"render",value:function(t){Lt(Rt(a.prototype),"render",this).call(this,t);var e="".concat(this.size.toFixed(3),"|").concat(this.progress.toFixed(3),"|").concat(this.length.toFixed(3),"|").concat(this.count.toFixed(0),"|").concat(this.countMax.toFixed(0));if(this._updateHash!==e){this._updateHash=e,this._shapes.clear(),this._shapes.beginFill(16711680);for(var r=2*Math.PI/this.count,n=0;n<this.countMax&&n<this.count;n++)this._shapes.drawCircle(100*this.size*Math.sin(n*r),100*-this.size*Math.cos(n*r),2.5*this.size*this.progress)}}}])&&kt(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}();function zt(t){return zt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zt(t)}function Ct(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==zt(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==zt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===zt(o)?o:String(o)),n)}var o}function Et(){return Et="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Dt(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},Et.apply(this,arguments)}function It(t,e){return It=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},It(t,e)}function Dt(t){return Dt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Dt(t)}var Bt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&It(t,e)}(a,PIXI.Container);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Dt(n);if(o){var r=Dt(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===zt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this))._lines=new PIXI.Graphics,t.addChild(t._lines),t.size=1,t.progress=0,t.count=10,t.length=.5,t.countMax=1e5,t._updateHash="",t}return e=a,(r=[{key:"render",value:function(t){Et(Dt(a.prototype),"render",this).call(this,t);var e="".concat(this.size.toFixed(3),"|").concat(this.progress.toFixed(3),"|").concat(this.length.toFixed(3),"|").concat(this.count.toFixed(0),"|").concat(this.countMax.toFixed(0));if(this._updateHash!==e){this._updateHash=e,this._lines.clear(),this._lines.lineStyle({color:16777215,alpha:.3,width:2});for(var r=2*Math.PI/this.count,n=100*this.size,o=100*this.progress*this.size*(1-this.length)+(1-this.progress)*n,i=0;i<this.countMax&&i<this.count;i++)this._lines.moveTo(o*Math.sin(i*r),-o*Math.cos(i*r)),this._lines.lineTo(n*Math.sin(i*r),-n*Math.cos(i*r))}}}])&&Ct(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}();function Ft(t){return Ft="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ft(t)}function At(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Ft(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==Ft(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===Ft(o)?o:String(o)),n)}var o}function Xt(){return Xt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Wt(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},Xt.apply(this,arguments)}function Ht(t,e){return Ht=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ht(t,e)}function Wt(t){return Wt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Wt(t)}var Gt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ht(t,e)}(a,PIXI.Container);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Wt(n);if(o){var r=Wt(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Ft(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"long";!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this)).progress=0,t.size=1,t.pointerWidth=2,t._pointer=new PIXI.Graphics,t.addChild(t._pointer),t._pointerRotation=0,t._pointerUpdateHash="";var r={long:t.renderLong,arrow:t.renderArrow};return t._renderFunc=r[e],t}return e=a,(r=[{key:"pointerRotation",get:function(){return this._pointerRotation},set:function(t){this._pointerRotation=t}},{key:"render",value:function(t){Xt(Wt(a.prototype),"render",this).call(this,t),this._pointer.rotation=-this.progress*Math.PI*2+this._pointerRotation;var e="".concat(this.size.toFixed(3),"|").concat(this.progress.toFixed(3),"|").concat(this.pointerWidth.toFixed(1));e!==this._pointerUpdateHash&&(this._renderFunc(),this._pointerUpdateHash=e)}},{key:"renderLong",value:function(){var t=15,e=100*this.size*this.progress,r=this.pointerWidth;this._pointer.clear(),this._pointer.beginFill(16777215),this._pointer.moveTo(r,-t),this._pointer.lineTo(r,-Math.max(t,e-r)),this._pointer.lineTo(0,-Math.max(t,e)),this._pointer.lineTo(-r,-Math.max(t,e-2*r)),this._pointer.lineTo(-r,-t),this._pointer.moveTo(r,t),this._pointer.lineTo(r,t+.15*e),this._pointer.lineTo(-r,t+.15*e),this._pointer.lineTo(-r,t)}},{key:"renderArrow",value:function(){var t=100*this.size,e=this.pointerWidth*this.progress*this.size;this._pointer.clear(),this._pointer.beginFill(16777215),this._pointer.moveTo(0,-t),this._pointer.lineTo(e/2,-t+e),this._pointer.lineTo(-e/2,-t+e)}}])&&At(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}();function Ut(t){return Ut="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ut(t)}function Nt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Ut(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==Ut(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===Ut(o)?o:String(o)),n)}var o}function Vt(){return Vt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Jt(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},Vt.apply(this,arguments)}function qt(t,e){return qt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},qt(t,e)}function Jt(t){return Jt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Jt(t)}var Kt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&qt(t,e)}(a,PIXI.Container);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Jt(n);if(o){var r=Jt(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Ut(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this))._blink=!1,t._clicker=new PIXI.Graphics,t._clicker.beginFill(0,.75),t._clicker.drawCircle(0,0,30),t._clicker.endFill(),t._clicker.lineStyle({color:13421772,width:2}),t._clicker.drawCircle(0,0,25),t._clicker.lineStyle({color:8947848,width:1}),t._clicker.drawCircle(0,0,22),t.addChild(t._clicker),t.interactive=!0,t.on("pointertap",(function(e){t._blink=!0})),t}return e=a,(r=[{key:"render",value:function(t){Vt(Jt(a.prototype),"render",this).call(this,t);var e=this._blink?1.2:1,r=this._clicker.scale.x+(e-this._clicker.scale.x)/5;this._clicker.scale.set(r),this._clicker.scale.x>=1.18&&(this._blink=!1)}}])&&Nt(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}();function Yt(t){return Yt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yt(t)}function $t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Yt(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==Yt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===Yt(o)?o:String(o)),n)}var o}function Qt(){return Qt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=te(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},Qt.apply(this,arguments)}function Zt(t,e){return Zt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Zt(t,e)}function te(t){return te=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},te(t)}var ee=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Zt(t,e)}(a,t);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=te(n);if(o){var r=te(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Yt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this))._mode="stop",t._stopIcon=new PIXI.Graphics,t._stopIcon.beginFill(16711680),t._stopIcon.moveTo(-8,-8),t._stopIcon.lineTo(8,-8),t._stopIcon.lineTo(8,8),t._stopIcon.lineTo(-8,8),t._stopIcon.lineTo(-8,-8),t.addChild(t._stopIcon),t._playIcon=new PIXI.Graphics,t._playIcon.beginFill(16777215),t._playIcon.moveTo(-5,-10),t._playIcon.lineTo(11,0),t._playIcon.lineTo(-5,10),t._playIcon.lineTo(-5,-10),t.addChild(t._playIcon),t.on("pointertap",(function(e){e.stopPropagation(),"stop"===t.mode?(t.mode="play",t.emit("play")):(t.mode="stop",t.emit("stop"))})),t}return e=a,(r=[{key:"mode",get:function(){return this._mode},set:function(t){t!==this._mode&&(this._blink=!0),this._mode=t}},{key:"render",value:function(t){Qt(te(a.prototype),"render",this).call(this,t),this._playIcon.visible="stop"===this.mode,this._stopIcon.visible="play"===this.mode}}])&&$t(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(Kt);function re(t){return re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},re(t)}function ne(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==re(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==re(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===re(o)?o:String(o)),n)}var o}function oe(){return oe="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=ae(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},oe.apply(this,arguments)}function ie(t,e){return ie=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ie(t,e)}function ae(t){return ae=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ae(t)}var se=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ie(t,e)}(a,t);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=ae(n);if(o){var r=ae(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===re(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,"pomodoro","Pomodoro"))._ticks=new Bt,t._ticks.count=25,t._ticks.length=.1,t.addChild(t._ticks),t._redLight=new PIXI.Graphics,t._redLight.beginFill(16711680),t._redLight.drawCircle(0,0,100),t._redLight.alpha=0,t.addChildAt(t._redLight,0),t._history=t._loadHistory(),t._timerStart=Number(localStorage.getItem("Pomodoro_timerStart"))||null,t._timerStop=Number(localStorage.getItem("Pomodoro_timerStop"))||null,t._mode=localStorage.getItem("Pomodoro_mode")||"work",t._pulse=!1,t._playButton=new ee,t._updatePlayButtonStatus(),t._playButton.scale.set(0),t._playButton.on("play",(function(){t._timerStart=(new Date).getTime(),t._timerStop=null,t._mode="work"===t._mode?"break":"work",t._pulse=!1,localStorage.setItem("Pomodoro_timerStart",t._timerStart),localStorage.setItem("Pomodoro_timerStop",t._timerStop),localStorage.setItem("Pomodoro_mode",t._mode)})),t._playButton.on("stop",(function(){t._timerStop=(new Date).getTime(),t._pulse=!1,localStorage.setItem("Pomodoro_timerStop",t._timerStop)})),t._workLabel=new $,t._workLabel.text="Work",t._workLabel.positionOffset=1.8,t.addChild(t._workLabel),t._breakLabel=new $,t._breakLabel.text="Break",t._breakLabel.color=16711680,t._breakLabel.positionOffset=1.3,t.addChild(t._breakLabel),t._modeLabel=new A("Work",{fontFamily:"MajorMonoDisplay-Regular",fontSize:16,fill:"#ffffff",stroke:"#ffffff",strokeThickness:.5,align:"center"}),t._modeLabel.anchor.set(.5),t.addChild(t._modeLabel),t._pointer=new Gt,t.addChild(t._pointer),t._clockCenter=new PIXI.Graphics,t._clockCenter.lineStyle({width:2,alpha:.8,color:16777215}),t._clockCenter.drawCircle(0,0,10),t._clockCenter.beginFill(16777215),t._clockCenter.drawCircle(0,0,2),t.addChild(t._clockCenter),t._timeBg=new PIXI.Graphics,t._timeBg.beginFill(0),t._timeBg.drawRect(-55,-9,110,20),t.addChild(t._timeBg),t._timeBgRed=new PIXI.Graphics,t._timeBgRed.beginFill(16711680),t._timeBgRed.drawRect(-55,-9,110,20),t._timeBgRed.alpha=0,t.addChild(t._timeBgRed),t._timeLabel=new A("00:00.000",{fontFamily:"MajorMonoDisplay-Regular",fontSize:16,fill:"#ffffff",stroke:"#ffffff",strokeThickness:.5,align:"center"}),t._timeLabel.anchor.set(.5),t.addChild(t._timeLabel),t.addChild(t._playButton),t._dotLabel=new $,t._dotLabel.text="completed:",t._dotLabel.color=16711680,t._dotLabel.positionOffset=-1.6,t._dotLabel.alpha=0,t.addChild(t._dotLabel),t._dots=new Mt,t._dots.rotation=2.1,t._dots.count=40,t._dots.countMax=0,t.addChild(t._dots),t}return e=a,(r=[{key:"_loadHistory",value:function(){try{var t=localStorage.getItem("Pomodoro_history");return JSON.parse(t)||[]}catch(t){console.warn(t)}return[]}},{key:"_saveHistory",value:function(t){for(;t.length>1e3;)t.unshift();try{localStorage.setItem("Pomodoro_history",JSON.stringify(t))}catch(t){console.warn(t)}return[]}},{key:"_updatePlayButtonStatus",value:function(){this._playButton.mode=null!==this._timerStart&&null===this._timerStop?"play":"stop"}},{key:"_getCurrentTimeLimit",value:function(){return"work"===this._mode?15e5:3e5}},{key:"_updateTimer",value:function(){if(this._timerStart){var t=(new Date).getTime(),e=(this._timerStop||t)-this._timerStart,r=this._getCurrentTimeLimit();return e>r&&(this._timerStop=this._timerStart+r,localStorage.setItem("Pomodoro_timerStop",this._timerStop),this._updatePlayButtonStatus(),this._pulse=!0,"work"===this._mode&&(this._history.push((new Date).getTime()),this._saveHistory(this._history))),e/r}}},{key:"render",value:function(t){oe(ae(a.prototype),"render",this).call(this,t);var e=this._updateTimer(),r=(new Date).getTime(),n=this._timerStart?(this._timerStop||r)-this._timerStart:0;n=this._getCurrentTimeLimit()-n,this._playButton.scale.set(2*this.progress*Math.max(0,this.size-.5)),this._playButton.visible=.8,this._playButton.x=-100*this.size*Math.cos(.25*Math.PI),this._playButton.y=100*this.size*Math.sin(.25*Math.PI),this._timeLabel.progress=this.progress,this._timeBg.alpha=this.progress,this._timeLabel.y=40*-this.size,this._timeBg.y=this._timeLabel.y,this._timeBg.scale.x=.2+.8*this.size,this._timeBgRed.y=this._timeBg.y,this._timeBgRed.scale.x=this._timeBg.scale.x,this._pulse?(this._timeLabel.alpha=.6+.4*Math.sin(.01*performance.now()),this._redLight.alpha=(.4+.4*Math.sin(.01*performance.now()))*this.progress):(this._timeLabel.alpha=1,this._redLight.alpha=0),this._timeBgRed.alpha=this._redLight.alpha;var o=Math.floor(n/6e4),i=Math.floor((n-1e3*o*60)/1e3),s=n%1e3,c="".concat(o.toString().padStart(2,"0"),":").concat(i.toString().padStart(2,"0"));1===this.size&&(c+=".".concat(s.toString().padStart(3,"0"))),this._timeLabel.text=c,this._modeLabel.progress=this.progress,this._modeLabel.style.fontSize=26*this.size,this._modeLabel.y=20*this.size,this._modeLabel.visible=this.size<=.65,"work"===this._mode?(this._modeLabel.text="work",this._modeLabel.style.fill=16777215,this._modeLabel.style.stroke=16777215,this._ticks.count=25):(this._modeLabel.text="break",this._modeLabel.style.fill=16711680,this._modeLabel.style.stroke=16711680,this._ticks.count=5),this._workLabel.radius=110*this.size,this._workLabel.progress=this.progress,this._workLabel.fontSize=12*this.size,this._workLabel.alpha="work"===this._mode?1:.25,this._workLabel.visible=1===this.size,this._breakLabel.radius=110*this.size,this._breakLabel.progress=this.progress,this._breakLabel.fontSize=12*this.size,this._breakLabel.alpha="break"===this._mode?1:.25,this._breakLabel.visible=1===this.size,this._pointer.progress=this.progress,this._pointer.size=.8*this.size,this._pointer.alpha=Math.max(0,2*(this.size-.5)),this._pointer.pointerRotation=2*Math.PI*e,this._clockCenter.alpha=.8*this.progress*Math.max(0,2*(this.size-.5)),this._clockCenter.scale.set(this.size),this._redLight.scale.set(1.15*this.size),this._ticks.size=.9*this.size,this._ticks.progress=this.progress,this._dots.size=1.1*this.size,this._dots.progress=this.progress,this._dots.visible=1===this.size,this._dotLabel.progress=this.progress,this._dotLabel.radius=113*this.size,this._dotLabel.fontSize=12*this.size,this._dotLabel.visible=1===this.size;var l=864e5*Math.floor(r/864e5);this._dots.countMax=Math.min(10,this._history.filter((function(t){return t>l})).length),this._dotLabel.alpha=this._dots.countMax>0?1:0}}])&&ne(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(ft);function ce(t){return ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ce(t)}function le(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function ue(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==ce(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==ce(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===ce(o)?o:String(o)),n)}var o}function fe(){return fe="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=pe(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},fe.apply(this,arguments)}function he(t,e){return he=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},he(t,e)}function pe(t){return pe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},pe(t)}var de=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&he(t,e)}(a,PIXI.Container);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=pe(n);if(o){var r=pe(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===ce(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:5,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Math.PI;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this)).value=e,t.valueMin=e,t.valueMax=e,t._scaleMin=e,t._scaleMax=r,t._angleRange=s,t.size=1,t.progress=1,t._lastHash="";var c=r-e;t._rangeIndicator=new _t,t._rangeIndicator.color=16711680,t._rangeIndicator.lineWidth=10,t.addChild(t._rangeIndicator);var l=2*Math.PI/s;t._ticksSmall=new Bt,t._ticksSmall.count=l*c,t._ticksSmall.countMax=Math.floor(t._ticksSmall.count/l)+1,t.addChild(t._ticksSmall),t._ticksLarge=new Bt,t._ticksLarge.count=Math.floor(l*c/5),t._ticksLarge.countMax=Math.floor(t._ticksLarge.count/l)+1,t.addChild(t._ticksLarge);var u=c/(o-1);return t._labels=Array(o).fill(0).map((function(t,r){return Math.round(e+u*r)})).map((function(e,r,o){var i=new $;return i.text=String(e)+n,i.positionOffset=-r/(o.length-1)*t._angleRange,i.radius=100,i.progress=1,t.addChild(i),i})),t._pointer=new Gt("arrow"),t._pointer.pointerWidth=10,t.addChild(t._pointer),t}return e=a,(r=[{key:"render",value:function(t){fe(pe(a.prototype),"render",this).call(this,t);var e="".concat(this.size.toFixed(3),"|").concat(this.progress.toFixed(3),"|").concat(this.value.toFixed(1),"|").concat(this.valueMin.toFixed(1),"|").concat(this.valueMax.toFixed(1),"|");if(this._lastHash!==e){this._lastHash=e,this._ticksSmall.size=this.size,this._ticksSmall.progress=Math.min(1,2*this.progress),this._ticksSmall.length=.05*this.size,this._ticksLarge.size=.95*this.size,this._ticksLarge.progress=Math.max(0,2*this.progress-1),this._ticksLarge.length=.05*this.size,this._ticksLarge.length=.05*this.size;var r,n=function(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return le(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?le(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw i}}}}(this._labels);try{for(n.s();!(r=n.n()).done;){var o=r.value;o.progress=this.progress,o.radius=110*this.size,o.fontSize=9*this.size}}catch(t){n.e(t)}finally{n.f()}var i=this._angleRange/(2*Math.PI);this._pointer.progress=this.progress,this._pointer.size=this.size*(.9+.04/Math.max(.5,this.size)),this._pointer.pointerWidth=10/(.5+.5*Math.max(.5,this.size)),this._pointer.pointerRotation=this._angleRange*((this.value-this._scaleMin)/(this._scaleMax-this._scaleMin));var s=this._scaleMax-this._scaleMin;this._rangeIndicator.size=.95*this.size,this._rangeIndicator.lineWidth=4*this.size,this._rangeIndicator.progress=this.progress;var c=(this.valueMin-this._scaleMin)/s;this._rangeIndicator.rotation=this._angleRange*c,this._rangeIndicator.value=i*((this.valueMax-this._scaleMin)/s-c),this._rangeIndicator.visible=1===this.size}}}])&&ue(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}();function ye(t){return ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ye(t)}function be(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==ye(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==ye(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===ye(o)?o:String(o)),n)}var o}function _e(){return _e="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=ve(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},_e.apply(this,arguments)}function ge(t,e){return ge=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ge(t,e)}function ve(t){return ve=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ve(t)}var me={"01d":"","01n":"","02d":"","02n":"","03d":"","03n":"","04d":"","04n":"","09d":"","09n":"","10d":"","10n":"","11d":"","11n":"","13d":"","13n":"","50d":"","50n":""},we=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ge(t,e)}(a,t);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=ve(n);if(o){var r=ve(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===ye(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,"weather","Weather")).data={lastUpdate:null,currentTemperature:null,currentTemperatureMin:null,currentTemperatureMax:null,currentIcon:null,currentDescription:null,rainTime:null},t._dataLoadProgress=0,t._currentTempScale=new de(-10,30,"°c",5,.8*Math.PI),t._currentTempScale.rotation=.3*Math.PI+Math.PI/2,t.addChild(t._currentTempScale),t._currentTempLabel=new A("",{fontFamily:"MajorMonoDisplay-Regular",fontSize:16,fill:"#ffffff",stroke:"#ffffff",strokeThickness:.5,align:"center"}),t.addChild(t._currentTempLabel),t._currentDescriotionLabel=new A("",{fontFamily:"MajorMonoDisplay-Regular",fontSize:16,fill:"#ff0000",stroke:"#ff0000",strokeThickness:1,align:"center"}),t.addChild(t._currentDescriotionLabel),t._currentIcon=new A("",{fontFamily:"weathericons-regular-webfont",fontSize:60,fill:"#ffffff",stroke:"#ffffff",strokeThickness:.5,align:"center"}),t._currentIcon.progress=1,t.addChild(t._currentIcon),t._rainLabel=new $,t._rainLabel.text="",t._rainLabel.color=16711680,t._rainLabel.positionOffset=.45*-Math.PI,t.addChild(t._rainLabel),t}return e=a,(r=[{key:"onMessage",value:function(t){var e=t.current,r=t.forecast;this.data.lastUpdate=(new Date).getTime(),this.data.currentTemperature=e.main.temp,this.data.currentIcon=e.weather[0].icon,this.data.currentDescription=e.weather[0].description;var n=(new Date).getTime()/1e3,o=r.list.filter((function(t){return t.dt>=n&&t.dt<=n+86400})).map((function(t){return{min:t.main.temp_min,max:t.main.temp_max}})).reduce((function(t,e){return t.min=Math.min(e.min,t.min),t.max=Math.max(e.max,t.max),t}),{min:e.main.temp,max:e.main.temp});this.data.currentTemperatureMin=o.min,this.data.currentTemperatureMax=o.max;var i=r.list.filter((function(t){return t.rain}));this.data.rainTime=i||i.length>0?1e3*i[0].dt:null,console.log(this.data)}},{key:"render",value:function(t){if(_e(ve(a.prototype),"render",this).call(this,t),this.data.lastUpdate&&this._dataLoadProgress<1&&(this._dataLoadProgress=Math.min(1,this._dataLoadProgress+.02)),this._currentTempLabel.progress=this.progress*this._dataLoadProgress,this._currentTempLabel.text=null===this.data.currentTemperature?"":Math.round(this.data.currentTemperature)+"°c",this._currentTempLabel.y=40*this.size,this._currentTempLabel.style.fontSize=8*this.size+7,this._currentIcon.alpha=this.progress*this._dataLoadProgress,this._currentIcon.text=null===this.data.currentIcon?"":me[this.data.currentIcon],this._currentIcon.y=-29*this.size,this._currentIcon.style.fontSize=60*this.size,this._currentDescriotionLabel.progress=this.progress*this._dataLoadProgress,this._currentDescriotionLabel.text=null===this.data.currentDescription?"":this.data.currentDescription.substring(0,17),this._currentDescriotionLabel.y=15*this.size,this._currentDescriotionLabel.visible=1===this.size,this._currentDescriotionLabel.style.fontSize=12*this.size,this._currentTempScale.size=this.size,this._currentTempScale.progress=this.progress*this._dataLoadProgress,this._currentTempScale.visible=1===this.size,null!==this.data.currentTemperature&&(this._currentTempScale.value=Math.max(-30,Math.min(30,this.data.currentTemperature))),null!==this.data.currentTemperatureMin&&(this._currentTempScale.valueMin=Math.max(-30,Math.min(30,this.data.currentTemperatureMin))),null!==this.data.currentTemperatureMax&&(this._currentTempScale.valueMax=Math.max(-30,Math.min(30,this.data.currentTemperatureMax))),this.data.rainTime){var e=(new Date).getTime(),r=Math.round(Math.max(0,this.data.rainTime-e)/1e3),n="";n+=Math.floor(r/3600).toString().padStart(2,"0")+":",n+=(Math.floor(r/60)%60).toString().padStart(2,"0")+":",n+=(r%60).toString().padStart(2,"0"),this._rainLabel.text=r?"rain in "+n:""}else this._rainLabel.text="";this._rainLabel.visible=1===this.size,this._rainLabel.progress=this.progress*this._dataLoadProgress,this._rainLabel.size=this.size,this._rainLabel.radius=110*this.size,this._rainLabel.fontSize=11*this.size}}])&&be(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(ft);function Oe(t){return Oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Oe(t)}function Pe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Oe(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==Oe(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===Oe(o)?o:String(o)),n)}var o}function Se(){return Se="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=xe(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},Se.apply(this,arguments)}function je(t,e){return je=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},je(t,e)}function xe(t){return xe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},xe(t)}var ke=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&je(t,e)}(a,t);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=xe(n);if(o){var r=xe(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Oe(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,"calendar","Calendar"))._dataLoadProgress=0,t.data={lastUpdate:null,allEvents:null,todayEvents:null,todayEventsLeft:null},t._statsTitle=new A("completed\ntoday",{fontFamily:"MajorMonoDisplay-Regular",fontSize:9,fill:"#ff0000",stroke:"#ff0000",strokeThickness:.5,align:"center"}),t.addChild(t._statsTitle),t._statsLabel=new A("0/0",{fontFamily:"MajorMonoDisplay-Regular",fontSize:15,fill:"#ffffff",stroke:"#ffffff",strokeThickness:.5,align:"center"}),t.addChild(t._statsLabel),t._statusProgress=new _t,t._statusProgress.color=16711680,t._statusProgress.lineWidth=2,t._statusProgress.rotation=Math.PI/2,t.addChild(t._statusProgress),t._nextLabel=new $,t._nextLabel.color=16711680,t._nextMeetingLabel=new $,t._nextLabel.alignOffset=0,t._nextMeetingLabel.alignOffset=0,t._nextLabel.positionOffset=.37*-Math.PI,t._nextLabel.fontSize=11,t._nextMeetingLabel.fontSize=11,t.addChild(t._nextMeetingLabel),t.addChild(t._nextLabel),t._meetingClock=new PIXI.Container,t.addChild(t._meetingClock),t._clockAlert=new PIXI.Graphics,t._clockAlert.beginFill(16711680),t._clockAlert.drawCircle(0,0,40),t._meetingClock.addChild(t._clockAlert),t._clockAlert.visible=!1,t._clockScale=new Bt,t._clockScale.count=60,t._clockScale.length=.1,t._meetingClock.addChild(t._clockScale),t._clockSplit=new Bt,t._clockSplit.count=6,t._clockSplit.length=.5,t._meetingClock.addChild(t._clockSplit),t._clockFrame=new _t,t._clockFrame.value=1,t._clockFrame.lineWidth=1.5,t._meetingClock.addChild(t._clockFrame),t._clockPointer=new Gt,t._meetingClock.addChild(t._clockPointer),t._clockCenter=new PIXI.Graphics,t._clockCenter.lineStyle({color:11184810,width:1}),t._clockCenter.drawCircle(0,0,10),t._clockCenter.drawCircle(0,0,1),t._clockCenter.alpha=0,t._meetingClock.addChild(t._clockCenter),t._clockTitle=new $,t._meetingClock.addChild(t._clockTitle),t}return e=a,(r=[{key:"onMessage",value:function(t){var e=864e5*Math.floor((new Date).getTime()/864e5)+6e4*(new Date).getTimezoneOffset();this.data.allEvents=t.filter((function(t){return t.start<e+6048e5})),this.data.todayEvents=this.data.allEvents.filter((function(t){return t.start<e+864e5&&!t.allDay})),this.data.todayEventsLeft=this.data.todayEvents.filter((function(t){return t.end>=(new Date).getTime()})),this.data.lastUpdate=(new Date).getTime(),console.log(this.data)}},{key:"render",value:function(t){Se(xe(a.prototype),"render",this).call(this,t),this.data.lastUpdate&&this._dataLoadProgress<1&&(this._dataLoadProgress=Math.min(1,this._dataLoadProgress+.02));var e=(new Date).getTime();if(this._statsLabel.progress=this.progress*this._dataLoadProgress,this._statsTitle.progress=this.progress*this._dataLoadProgress,this._statsLabel.y=25*this.size-120*Math.max(0,this.size-.5),this._statsTitle.y=-20*this.size-80*Math.max(0,this.size-.5),this._statusProgress.progress=this.progress*this._dataLoadProgress,this._statusProgress.size=this.size,this.data.todayEvents&&this.data.todayEventsLeft){var r=this.data.todayEvents.length-this.data.todayEventsLeft.length,n=this.data.todayEvents.length;this._statsLabel.text=r+"/"+n,this._statusProgress.value=n?r/n*.5:0}if(this.data.todayEventsLeft&&this.data.todayEventsLeft.length>0){var o=this.data.todayEvents.filter((function(t){return t.start>e}));if(o.length>0){var i=new Date(o[0].start),s=i.getHours().toString().padStart(2,"0"),c=i.getMinutes().toString().padStart(2,"0");this._nextMeetingLabel.visible=!0,this._nextMeetingLabel.radius=105*this.size+5,this._nextMeetingLabel.text="".concat(s,":").concat(c," ").concat(1===this.size?o[0].summary.substring(0,40):""),this._nextMeetingLabel.progress=this.progress*this._dataLoadProgress,this._nextMeetingLabel.positionOffset=.52*-Math.PI-.5*(1-this.size),this._nextLabel.visible=!0,this._nextLabel.radius=105*this.size+5,this._nextLabel.text="next:",this._nextLabel.progress=this.progress*this._dataLoadProgress,this._nextLabel.fontSize=7+4*this.size,this._nextMeetingLabel.fontSize=7+4*this.size}else this._nextMeetingLabel.visible=!1,this._nextLabel.visible=!1}else this._nextMeetingLabel.visible=!1,this._nextLabel.visible=!1;if(1===this.size&&this.data.todayEvents){var l=this.data.todayEvents.find((function(t){return t.start<e&&t.end>e})),u=0,f=0;l&&(f=l.end-e,u=(e-l.start)/(l.end-l.start)),this._meetingClock.visible=!0,this._meetingClock.y=40*this.size,this._clockScale.size=.4*this.size,this._clockScale.progress=this.progress*this._dataLoadProgress,this._clockSplit.size=.4*this.size,this._clockSplit.progress=this.progress*this._dataLoadProgress,this._clockFrame.size=.45*this.size,this._clockFrame.progress=this.progress*this._dataLoadProgress,this._clockPointer.size=.35,this._clockPointer.progress=this.progress*this._dataLoadProgress,this._clockCenter.alpha=this.progress*this._dataLoadProgress,this._clockTitle.radius=53,this._clockTitle.progress=this.progress*this._dataLoadProgress,this._clockTitle.text=l?"meeting clock":"no meetings now",this._clockTitle.alpha=l?1:.4,this._clockPointer.pointerRotation=2*Math.PI*u,this._clockPointer.visible=!!l,this._clockAlert.visible=!0,this._clockAlert.alpha=f>0&&f<3e5?.4*Math.sin(.01*performance.now())+.4:0,this._clockAlert.alpha*=this.progress*this._dataLoadProgress}else this._meetingClock.visible=!1,this._clockAlert.visible=!1}}])&&Pe(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(ft);function Le(t){return Le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Le(t)}function Te(){return Te="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=De(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},Te.apply(this,arguments)}function Re(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Me(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Le(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==Le(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===Le(o)?o:String(o)),n)}var o}function ze(t,e,r){return e&&Me(t.prototype,e),r&&Me(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ce(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ee(t,e)}function Ee(t,e){return Ee=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ee(t,e)}function Ie(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=De(t);if(e){var o=De(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===Le(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function De(t){return De=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},De(t)}var Be=function(t){Ce(r,PIXI.Graphics);var e=Ie(r);function r(){var t;return Re(this,r),(t=e.call(this))._completed=null,t._radius=null,t._angle=null,t.radius=50,t.angle=0,t.completed=!1,t}return ze(r,[{key:"completed",get:function(){return this._completed},set:function(t){t!==this._completed&&(this._completed=t,this.clear(),this.completed?(this.lineStyle({width:2,alpha:.9,color:16777215}),this.moveTo(-4,-4),this.lineTo(4,4),this.moveTo(4,-4),this.lineTo(-4,4)):(this.lineStyle({width:1.5,alpha:.8,color:16777215}),this.beginFill(0),this.drawCircle(0,0,4)))}},{key:"radius",get:function(){return this._radius},set:function(t){this._radius=t,this._updatePos()}},{key:"angle",get:function(){return this._angle},set:function(t){this._angle=t,this._updatePos()}},{key:"_updatePos",value:function(){this.x=this._radius*Math.sin(this.angle),this.y=-this._radius*Math.cos(this.angle),this.rotation=this.angle}}]),r}(),Fe=function(t){Ce(r,PIXI.Container);var e=Ie(r);function r(t,n){var o,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2*Math.PI;return Re(this,r),(o=e.call(this))._startTime=t,o._endTime=n,o._angularRange=i,o._startAngle=(2*Math.PI-i)/2,o._endAngle=o._startAngle+i,o.now=t,o.size=1,o.progress=0,o._dataVersion=0,o._lastHash="",o._dots=[],o}return ze(r,[{key:"setPoints",value:function(t){var e;for(this._points=t;this._dots.length>this._points.length;)this.removeChild(this._dots.pop());for(;this._dots.length<this._points.length;)(e=new Be).visible=!1,e.angle=this._startAngle,this.addChild(e),this._dots.push(e);this._dataVersion++}},{key:"render",value:function(t){Te(De(r.prototype),"render",this).call(this,t);var e="".concat(this._dataVersion.toFixed(0),"|").concat(this.size.toFixed(3),"|").concat(this.progress.toFixed(3),"|").concat(Math.round(this.now/1e3));if(this._lastHash!==e){this._lastHash=e;for(var n=0,o=0;o<this._dots.length;o++){var i=this._points[o]||this.now,a=this._dots[o];a.visible=!0,this._points[o]?a.completed=!0:(n++,a.completed=!1),a.alpha=this.progress;var s=(i-this._startTime)/(this._endTime-this._startTime),c=this._startAngle+this._angularRange*this.progress*s;a.completed||(c+=.15*n),a.angle=Math.max(this._startAngle,Math.min(this._endAngle,c)),a.radius=100*this.size}}}}]),r}();function Ae(t){return Ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ae(t)}function Xe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Ae(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==Ae(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===Ae(o)?o:String(o)),n)}var o}function He(){return He="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Ge(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},He.apply(this,arguments)}function We(t,e){return We=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},We(t,e)}function Ge(t){return Ge=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ge(t)}var Ue=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&We(t,e)}(a,PIXI.Container);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Ge(n);if(o){var r=Ge(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Ae(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this)).progress=0,t.count=0,t.title="Count",t._lastHash="",t._dots=[];for(var e=0,r=0,n=42,o=1;n>0;){0===r&&(e+=8);var s=2*Math.PI*e,c=Math.floor(s/8);c=2*Math.floor(c/2);var l=e?2*Math.PI/c:0;0===r&&(r=Math.round(2*Math.PI/l),o=1);var u=t._createDot(2.4,e,o*l);u.y>0?u.y+=13.5:u.y-=13.5,t.addChild(u),t._dots.push(u),r--,n--,Math.abs(Math.sin(o*l))<.01&&n>0&&((u=t._createDot(2.4,e,o*l)).y>=0?u.y-=13.5:u.y+=13.5,t.addChild(u),t._dots.push(u),n--),o++}return t._label=new A("",{fontFamily:"MajorMonoDisplay-Regular",fontSize:11,fill:"#ffffff",stroke:"#ffffff",strokeThickness:.5,align:"center"}),t.addChild(t._label),t}return e=a,(r=[{key:"_createDot",value:function(t,e,r){var n=new PIXI.Graphics;return n.lineStyle({color:16711680,width:1.5,alpha:.4}),n.beginFill(16711680,.9),n.drawCircle(0,0,t),n.x=1.35*e*Math.cos(r),n.y=e*Math.sin(r),n}},{key:"render",value:function(t){He(Ge(a.prototype),"render",this).call(this,t);var e="".concat(this.title,"|").concat(this.count.toFixed(0),"|").concat(this.progress.toFixed(3));if(this._lastHash!==e){this._lastHash=e;for(var r=0;r<this._dots.length;r++)this._dots[r].visible=this.progress>r/this._dots.length,this._dots[r].alpha=r<this.count?1:.25;this._label.progress=this.progress,this._label.text=this.count>0?"".concat(this.title,":").concat(this.count):this.title}}}])&&Xe(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}();function Ne(t){return Ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ne(t)}function Ve(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Ne(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==Ne(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===Ne(o)?o:String(o)),n)}var o}function qe(){return qe="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Ke(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},qe.apply(this,arguments)}function Je(t,e){return Je=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Je(t,e)}function Ke(t){return Ke=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ke(t)}var Ye=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Je(t,e)}(a,t);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Ke(n);if(o){var r=Ke(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Ne(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,"todo","Tasks"))._dataLoadProgress=0,t.data={lastUpdate:null,inboxList:null,actionList:null},t._scaleLarge=new Bt,t._scaleLarge.count=8,t._scaleLarge.countMax=7,t._scaleLarge.rotation=Math.PI/4,t._scaleLarge.length=.2,t.addChild(t._scaleLarge),t._inboxFrame=new _t,t._inboxFrame.size=.51,t._inboxFrame.value=1,t._inboxFrame.lineWidth=1,t._inboxFrame.alpha=.5,t.addChild(t._inboxFrame),t._timeScale=new de(0,24,"h",7,1.5*Math.PI),t._timeScale.rotation=.25*Math.PI,t.addChild(t._timeScale),t._dotCluster=new Ue,t._dotCluster.title="inbox",t.addChild(t._dotCluster),t._timeline=new Fe(0,864e5,1.5*Math.PI),t.addChild(t._timeline),t}return e=a,(r=[{key:"onMessage",value:function(t){var e=this;this.data.lastUpdate=(new Date).getTime(),this.data.inboxList=t.inbox,this.data.actionList=t.action,this.data.todayLeft=this.data.actionList.filter((function(t){return"needsAction"===t.status})),console.log(this.data);var r=864e5*Math.floor((new Date).getTime()/864e5)+6e4*(new Date).getTimezoneOffset();this._timeline.setPoints(this.data.actionList.map((function(t){return t.completed?t.completed-r:null}))),setTimeout((function(){return e.updateData()}),3e5)}},{key:"render",value:function(t){qe(Ke(a.prototype),"render",this).call(this,t);var e=864e5*Math.floor((new Date).getTime()/864e5)+6e4*(new Date).getTimezoneOffset();this.data.lastUpdate&&this._dataLoadProgress<1&&(this._dataLoadProgress=Math.min(1,this._dataLoadProgress+.02)),this._dotCluster.count=this.data.inboxList?this.data.inboxList.length:0,this._dotCluster.progress=this.progress*this._dataLoadProgress,this._timeline.progress=this.progress*this._dataLoadProgress,this._timeline.size=this.size,this._timeline.now=(new Date).getTime()-e,this._scaleLarge.progress=this.progress,this._scaleLarge.size=this.size,this._scaleLarge.visible=1===this.size,this._timeScale.progress=this.progress,this._timeScale.size=1.05*this.size,this._timeScale.value=this._timeline.now/36e5,this._timeScale.visible=1===this.size,this._inboxFrame.progress=this.progress,this._inboxFrame.visible=1===this.size}}])&&Ve(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(ft);function $e(t){return $e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$e(t)}function Qe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==$e(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==$e(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===$e(o)?o:String(o)),n)}var o}function Ze(){return Ze="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=er(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},Ze.apply(this,arguments)}function tr(t,e){return tr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},tr(t,e)}function er(t){return er=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},er(t)}var rr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&tr(t,e)}(a,t);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=er(n);if(o){var r=er(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===$e(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(e=i.call(this))._icon=new PIXI.Text(String.fromCharCode(t),{fontFamily:"Material Symbols Outlined",fontSize:29,fill:"#ffffff",stroke:"#ffffff",strokeThickness:.5,align:"center"}),e._icon.anchor.set(.5,.35),e.addChild(e._icon),e}return e=a,(r=[{key:"render",value:function(t){Ze(er(a.prototype),"render",this).call(this,t)}}])&&Qe(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(Kt);function nr(t){return nr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nr(t)}function or(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==nr(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==nr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===nr(o)?o:String(o)),n)}var o}function ir(){return ir="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=sr(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},ir.apply(this,arguments)}function ar(t,e){return ar=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ar(t,e)}function sr(t){return sr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},sr(t)}var cr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ar(t,e)}(a,PIXI.Container);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=sr(n);if(o){var r=sr(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===nr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this)).size=1,t.progress=0,t._lastHash="",t._bg=new R,t.addChild(t._bg),t._coverCanvas=new PIXI.Graphics,t.addChild(t._coverCanvas);var e=5592405,r=function(t,e){return 0==t?0:e+t*e*.02};return t._windows=[{x1:-76,y1:r(36,-10),x2:-62,y2:r(22,-10),x3:-76,y3:r(36,20),x4:-62,y4:r(22,20)},{x1:-58,y1:r(18,-10),x2:-44,y2:r(4,-10),x3:-58,y3:r(18,20),x4:-44,y4:r(4,20)},{x1:-24,y1:-9,x2:-8,y2:-9,x3:-24,y3:20,x4:-8,y4:20},{x1:60,y1:r(20,-10),x2:44,y2:r(4,-10),x3:60,y3:r(20,20),x4:44,y4:r(4,20)},{x1:76,y1:r(36,-10),x2:60,y2:r(20,-10),x3:76,y3:r(36,20),x4:60,y4:r(20,20)}],t.covers=t._windows.map((function(){return 0})),t._coversActual=t._windows.map((function(){return 0})),t._bg.addLine(-40,-20,-40,20,1,e),t._bg.addLine(-40,-20,40,-20,1,e),t._bg.addLine(40,20,40,-20,1,e),t._bg.addLine(40,20,-40,20,1,e),t._bg.addLine(-40,-20,-80,r(40,-20),1,e),t._bg.addLine(-40,20,-80,r(40,20),1,e),t._bg.addLine(40,-20,80,r(40,-20),1,e),t._bg.addLine(40,20,80,r(40,20),1,e),t._windows.forEach((function(r){var n=r.x1,o=r.x2,i=r.x3,a=r.x4,s=r.y1,c=r.y2,l=r.y3,u=r.y4;t._bg.addLine(i,l,n,s,2,e),t._bg.addLine(a,u,o,c,2,e)})),t}return e=a,(r=[{key:"render",value:function(t){var e=this;ir(sr(a.prototype),"render",this).call(this,t),this._bg.size=this.size,this._bg.progress=this.progress;for(var r=0;r<this.covers.length;r++)this._coversActual[r]+=(this.covers[r]-this._coversActual[r])/100;var n=this._coversActual.map((function(t){return t.toFixed(3)})).join("|")+"|".concat(this.size,"|").concat(this.progress);n!==this._lastHash&&(this._lastHash=n,this._coverCanvas.clear(),this._coverCanvas.beginFill(16777215),this._coverCanvas.alpha=this.progress,this._windows.forEach((function(t,r){return n=t,o=e._coversActual[r],i=n.x1,a=n.x2,s=n.x3,c=n.x4,l=n.y1,u=n.y2,f=n.y3,h=n.y4,p=(.1+.9*o)*e.progress,e._coverCanvas.moveTo(i*e.size,l*e.size),e._coverCanvas.lineTo(a*e.size,u*e.size),e._coverCanvas.lineTo(c*e.size,(h*p+u*(1-p))*e.size),void e._coverCanvas.lineTo(s*e.size,(f*p+l*(1-p))*e.size);var n,o,i,a,s,c,l,u,f,h,p})))}}])&&or(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}();function lr(t){return lr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lr(t)}function ur(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==lr(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==lr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===lr(o)?o:String(o)),n)}var o}function fr(){return fr="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=pr(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},fr.apply(this,arguments)}function hr(t,e){return hr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},hr(t,e)}function pr(t){return pr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},pr(t)}var dr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&hr(t,e)}(a,t);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=pr(n);if(o){var r=pr(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===lr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,"room","rooM"))._dataLoadProgress=0,t.data={lastUpdate:null,currentTemperature:null,acState:null,covers:null},t._currentTempLabel=new A("",{fontFamily:"MajorMonoDisplay-Regular",fontSize:16,fill:"#ffffff",stroke:"#ffffff",strokeThickness:.5,align:"center"}),t.addChild(t._currentTempLabel),t._acStateLabel=new A("Off",{fontFamily:"MajorMonoDisplay-Regular",fontSize:11,fill:"#ff0000",stroke:"#ff0000",strokeThickness:1,align:"center"}),t.addChild(t._acStateLabel),t._roomView=new cr,t.addChild(t._roomView),t._buttonFrame=new R,t._buttonFrame.addLine(0,45,30,45,1,11141120),t._buttonFrame.addLine(0,45,-30,45,1,11141120),t._buttonFrame.addLine(0,60,0,45,1,11141120),t._buttonFrame.addLine(45,55,30,45,1,11141120),t._buttonFrame.addLine(-45,55,-30,45,1,11141120),t.addChild(t._buttonFrame),t._dayButton=new rr(58648),t._callButton=new rr(57419),t._nightButton=new rr(58652),t.addChild(t._dayButton),t.addChild(t._callButton),t.addChild(t._nightButton),t._dayButton.on("pointertap",(function(e){e.stopPropagation(),t.sendMessage({target:"cover1",value:100}),t.sendMessage({target:"cover2",value:100}),t.sendMessage({target:"cover3",value:100}),t.sendMessage({target:"cover4",value:100}),t.sendMessage({target:"cover5",value:100})})),t._callButton.on("pointertap",(function(e){e.stopPropagation(),t.sendMessage({target:"cover1",value:100}),t.sendMessage({target:"cover2",value:100}),t.sendMessage({target:"cover3",value:30}),t.sendMessage({target:"cover4",value:0}),t.sendMessage({target:"cover5",value:0})})),t._nightButton.on("pointertap",(function(e){e.stopPropagation(),t.sendMessage({target:"cover1",value:0}),t.sendMessage({target:"cover2",value:0}),t.sendMessage({target:"cover3",value:0}),t.sendMessage({target:"cover4",value:0}),t.sendMessage({target:"cover5",value:0})})),t._scenesLabel=new A("SceNes",{fontFamily:"MajorMonoDisplay-Regular",fontSize:11,fill:"#aa0000",stroke:"#aa0000",strokeThickness:.5,align:"center"}),t.addChild(t._scenesLabel),t}return e=a,(r=[{key:"onMessage",value:function(t){console.log(t),this.data.lastUpdate=(new Date).getTime(),this.data.currentTemperature=t.ac.attributes.current_temperature,this.data.acState="off"===t.ac.state?"off":t.ac.attributes.temperature+"°c",this.data.covers=[1-t.cover1.attributes.current_position/100,1-t.cover2.attributes.current_position/100,1-t.cover3.attributes.current_position/100,1-t.cover4.attributes.current_position/100,1-t.cover5.attributes.current_position/100],console.log(this.data)}},{key:"render",value:function(t){fr(pr(a.prototype),"render",this).call(this,t),this.data.lastUpdate&&this._dataLoadProgress<1&&(this._dataLoadProgress=Math.min(1,this._dataLoadProgress+.02)),this._currentTempLabel.progress=this.progress*this._dataLoadProgress,this._currentTempLabel.text=null===this.data.currentTemperature?"":Math.round(this.data.currentTemperature)+"°c",this._currentTempLabel.y=-60*this.size,this._currentTempLabel.style.fontSize=8*this.size+7,this._acStateLabel.progress=this.progress*this._dataLoadProgress,this._acStateLabel.text=this.data.acState||"",1===this.size?(this._acStateLabel.y=-40*this.size,this._acStateLabel.style.fontSize=8*this.size+3):(this._acStateLabel.y=60*this.size,this._acStateLabel.style.fontSize=8*this.size+7),this._roomView.size=this.size,this._roomView.progress=this.progress*this._dataLoadProgress,this.data.covers&&(this._roomView.covers=this.data.covers),this._dayButton.x=-100*this.size*Math.cos(.25*Math.PI),this._dayButton.y=100*this.size*Math.sin(.25*Math.PI),this._callButton.x=-100*this.size*Math.cos(.5*Math.PI),this._callButton.y=100*this.size*Math.sin(.5*Math.PI)-10*this.size,this._nightButton.x=-100*this.size*Math.cos(.75*Math.PI),this._nightButton.y=100*this.size*Math.sin(.75*Math.PI),this._dayButton.visible=1===this.size,this._callButton.visible=1===this.size,this._nightButton.visible=1===this.size,this._dayButton.scale.set(this.progress*this._dataLoadProgress),this._callButton.scale.set(this.progress*this._dataLoadProgress),this._nightButton.scale.set(this.progress*this._dataLoadProgress),this._buttonFrame.size=this.size,this._buttonFrame.progress=this.progress,this._buttonFrame.visible=1===this.size,this._scenesLabel.progress=this.progress,this._scenesLabel.y=35,this._scenesLabel.visible=1===this.size}}])&&ur(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(ft);function yr(t){return yr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yr(t)}function br(){br=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,r){return t[e]=r}}function l(t,e,r,o){var i=e&&e.prototype instanceof h?e:h,a=Object.create(i.prototype),s=new j(o||[]);return n(a,"_invoke",{value:w(t,r,s)}),a}function u(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=l;var f={};function h(){}function p(){}function d(){}var y={};c(y,i,(function(){return this}));var b=Object.getPrototypeOf,_=b&&b(b(x([])));_&&_!==e&&r.call(_,i)&&(y=_);var g=d.prototype=h.prototype=Object.create(y);function v(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function m(t,e){function o(n,i,a,s){var c=u(t[n],t,i);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==yr(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,a,s)}),(function(t){o("throw",t,a,s)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return o("throw",t,a,s)}))}s(c.arg)}var i;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return i=i?i.then(n,n):n()}})}function w(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var s=O(a,r);if(s){if(s===f)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=u(t,e,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg)}}}function O(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,O(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var o=u(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,f;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function P(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function S(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function j(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(P,this),this.reset(!0)}function x(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:k}}function k(){return{value:void 0,done:!0}}return p.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:p,configurable:!0}),p.displayName=c(d,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,s,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},v(m.prototype),c(m.prototype,a,(function(){return this})),t.AsyncIterator=m,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new m(l(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},v(g),c(g,s,"Generator"),c(g,i,(function(){return this})),c(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=x,j.prototype={constructor:j,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var s=r.call(i,"catchLoc"),c=r.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),S(r),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;S(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:x(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},t}function _r(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function gr(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){_r(i,n,o,a,s,"next",t)}function s(t){_r(i,n,o,a,s,"throw",t)}a(void 0)}))}}gr(br().mark((function t(){var e,r,n,o,i;return br().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=function(){return(r=gr(br().mark((function t(e){var r;return br().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=new(O())(e),t.next=3,r.load();case 3:console.log(e+" has loaded.");case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)},e=function(t){return r.apply(this,arguments)},t.next=4,e("weathericons-regular-webfont");case 4:return t.next=6,e("MajorMonoDisplay-Regular");case 6:return t.next=8,e("Material Symbols Outlined");case 8:n=io(),o=new PIXI.Application({width:1480,height:320,antialias:!1,useContextAlpha:!1}),document.body.appendChild(o.view),i=new m,o.stage.addChild(i),[new dr,new se,new Ye,new ke,new we,new jt].forEach((function(t){i.addWidget(t),t.on("service",(function(t){n.emit("service",t)}))})),n.on("connect",(function(){i.online=!0})),n.on("disconnect",(function(){i.online=!1})),n.on("widget",(function(t){var e=t.widgetId,r=t.payload;i.routeMessage(e,r)})),n.on("distance",function(){var t=gr(br().mark((function t(e){return br().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:console.log(e),"goSleep"===e.action?i.goSleep():"wakeUp"===e.action&&i.wakeUp();case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 19:case"end":return t.stop()}}),t)})))()})()})();