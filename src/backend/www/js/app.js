/*! For license information please see app.js.LICENSE.txt */
(()=>{var t={347:t=>{!function(){function e(t,e){document.addEventListener?t.addEventListener("scroll",e,!1):t.attachEvent("scroll",e)}function r(t){this.g=document.createElement("div"),this.g.setAttribute("aria-hidden","true"),this.g.appendChild(document.createTextNode(t)),this.h=document.createElement("span"),this.i=document.createElement("span"),this.m=document.createElement("span"),this.j=document.createElement("span"),this.l=-1,this.h.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.i.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.j.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.m.style.cssText="display:inline-block;width:200%;height:200%;font-size:16px;max-width:none;",this.h.appendChild(this.m),this.i.appendChild(this.j),this.g.appendChild(this.h),this.g.appendChild(this.i)}function n(t,e){t.g.style.cssText="max-width:none;min-width:20px;min-height:20px;display:inline-block;overflow:hidden;position:absolute;width:auto;margin:0;padding:0;top:-999px;white-space:nowrap;font-synthesis:none;font:"+e+";"}function o(t){var e=t.g.offsetWidth,r=e+100;return t.j.style.width=r+"px",t.i.scrollLeft=r,t.h.scrollLeft=t.h.scrollWidth+100,t.l!==e&&(t.l=e,!0)}function i(t,r){function n(){var t=i;o(t)&&null!==t.g.parentNode&&r(t.l)}var i=t;e(t.h,n),e(t.i,n),o(t)}function a(t,e,r){e=e||{},r=r||window,this.family=t,this.style=e.style||"normal",this.weight=e.weight||"normal",this.stretch=e.stretch||"normal",this.context=r}var s=null,c=null,l=null,u=null;function f(t){return null===u&&(u=!!t.document.fonts),u}function h(t,e){var r=t.style,n=t.weight;if(null===l){var o=document.createElement("div");try{o.style.font="condensed 100px sans-serif"}catch(t){}l=""!==o.style.font}return[r,n,l?t.stretch:"","100px",e].join(" ")}a.prototype.load=function(t,e){var o=this,a=t||"BESbswy",l=0,u=e||3e3,p=(new Date).getTime();return new Promise((function(t,e){if(f(o.context)&&!function(t){return null===c&&(f(t)&&/Apple/.test(window.navigator.vendor)?(t=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))(?:\.([0-9]+))/.exec(window.navigator.userAgent),c=!!t&&603>parseInt(t[1],10)):c=!1),c}(o.context)){var d=new Promise((function(t,e){!function r(){(new Date).getTime()-p>=u?e(Error(u+"ms timeout exceeded")):o.context.document.fonts.load(h(o,'"'+o.family+'"'),a).then((function(e){1<=e.length?t():setTimeout(r,25)}),e)}()})),y=new Promise((function(t,e){l=setTimeout((function(){e(Error(u+"ms timeout exceeded"))}),u)}));Promise.race([y,d]).then((function(){clearTimeout(l),t(o)}),e)}else!function(t){document.body?t():document.addEventListener?document.addEventListener("DOMContentLoaded",(function e(){document.removeEventListener("DOMContentLoaded",e),t()})):document.attachEvent("onreadystatechange",(function e(){"interactive"!=document.readyState&&"complete"!=document.readyState||(document.detachEvent("onreadystatechange",e),t())}))}((function(){function c(){var e;(e=-1!=b&&-1!=_||-1!=b&&-1!=g||-1!=_&&-1!=g)&&((e=b!=_&&b!=g&&_!=g)||(null===s&&(e=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent),s=!!e&&(536>parseInt(e[1],10)||536===parseInt(e[1],10)&&11>=parseInt(e[2],10))),e=s&&(b==v&&_==v&&g==v||b==m&&_==m&&g==m||b==w&&_==w&&g==w)),e=!e),e&&(null!==O.parentNode&&O.parentNode.removeChild(O),clearTimeout(l),t(o))}var f=new r(a),d=new r(a),y=new r(a),b=-1,_=-1,g=-1,v=-1,m=-1,w=-1,O=document.createElement("div");O.dir="ltr",n(f,h(o,"sans-serif")),n(d,h(o,"serif")),n(y,h(o,"monospace")),O.appendChild(f.g),O.appendChild(d.g),O.appendChild(y.g),o.context.document.body.appendChild(O),v=f.g.offsetWidth,m=d.g.offsetWidth,w=y.g.offsetWidth,function t(){if((new Date).getTime()-p>=u)null!==O.parentNode&&O.parentNode.removeChild(O),e(Error(u+"ms timeout exceeded"));else{var r=o.context.document.hidden;!0!==r&&void 0!==r||(b=f.g.offsetWidth,_=d.g.offsetWidth,g=y.g.offsetWidth,c()),l=setTimeout(t,50)}}(),i(f,(function(t){b=t,c()})),n(f,h(o,'"'+o.family+'",sans-serif')),i(d,(function(t){_=t,c()})),n(d,h(o,'"'+o.family+'",serif')),i(y,(function(t){g=t,c()})),n(y,h(o,'"'+o.family+'",monospace'))}))}))},t.exports=a}()}},e={};function r(n){var o=e[n];if(void 0!==o)return o.exports;var i=e[n]={exports:{}};return t[n](i,i.exports,r),i.exports}r.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return r.d(e,{a:e}),e},r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{"use strict";function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}function e(e,r){for(var n=0;n<r.length;n++){var o=r[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,(void 0,i=function(e,r){if("object"!==t(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,"string");if("object"!==t(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(o.key),"symbol"===t(i)?i:String(i)),o)}var i}function n(){return n="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=i(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},n.apply(this,arguments)}function o(t,e){return o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},o(t,e)}function i(t){return i=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},i(t)}var a=function(r){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&o(t,e)}(f,PIXI.Container);var a,s,c,l,u=(c=f,l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var e,r=i(c);if(l){var n=i(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,r){if(r&&("object"===t(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(e)}(this,e)});function f(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,f),(t=u.call(this))._label=new PIXI.Text("",{fontFamily:"MajorMonoDisplay-Regular",fontSize:15,fill:"#ff0000",stroke:"#ff0000",strokeThickness:1.5,align:"center"}),t._label.anchor.set(0,.5),t.addChild(t._label),t._text="",t._clearTime=0,t}return a=f,(s=[{key:"text",set:function(t){this._text=String(t),this._clearTime=100}},{key:"render",value:function(t){n(i(f.prototype),"render",this).call(this,t);var e,r,o,a,s,c,l=this._label.text;if(this._text===l){if(this._clearTime>0)return void this._clearTime--;this._text=""}this._text.length>this._label.text.length?l+="qwertyuiopasdfghjklzxcvbnmQWERTYUIOPASDFGHJKLZXCVBNM"[Math.floor(52*Math.random())]:this._text.length<l.length&&(l=l.substring(0,this._label.text.length-1)),l=l.split("");for(var u=0;u<l.length;u++)l[u]!==this._text[u]&&(l[u]=(e=l[u],r=this._text[u],void 0,void 0,a=void 0,s=void 0,c=void 0,s=(a=String(r).charCodeAt(0)-(o=String(e).charCodeAt(0)))>0?1:-1,(c=o+(s*=(a=Math.abs(a))>20?10:1))>126&&(c=32),c<32&&(c=126),String.fromCharCode(c)));this._label.text=l.join("")}}])&&e(a.prototype,s),Object.defineProperty(a,"prototype",{writable:!1}),f}();function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function c(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==s(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==s(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===s(o)?o:String(o)),n)}var o}function l(){return l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=f(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},l.apply(this,arguments)}function u(t,e){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},u(t,e)}function f(t){return f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},f(t)}var h=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&u(t,e)}(a,PIXI.Container);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=f(n);if(o){var r=f(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===s(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this))._clicker=new PIXI.Graphics,t._clicker.beginFill(0),t._clicker.drawCircle(0,0,40),t._clicker.beginFill(16711680),t._clicker.drawCircle(0,0,4),t.addChild(t._clicker),t.interactive=!0,t.pulse=!0,t}return e=a,(r=[{key:"render",value:function(t){l(f(a.prototype),"render",this).call(this,t),this.pulse?this.alpha=.6+.4*Math.sin(.01*performance.now()):this.alpha=1}}])&&c(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}();function p(t){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},p(t)}function d(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==p(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==p(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===p(o)?o:String(o)),n)}var o}function y(){return y="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=_(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},y.apply(this,arguments)}function b(t,e){return b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},b(t,e)}function _(t){return _=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},_(t)}var g=["hi","hello","hey there","what's up?","howdy","greetings","what's going on?","how's everything?","good to see you","nice to see you","what's new?","look who it is?","yo!","hello my friend","good day"],v=["bye, bye...","see ya!","goodbye","have a nice day","take care","cheers","keep in touch","have fun","have a good one","ciao","adios","peace out","catch you later","take it easy"],m=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&b(t,e)}(s,PIXI.Container);var e,r,n,o,i=(n=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=_(n);if(o){var r=_(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===p(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function s(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),(t=i.call(this))._slots=[{index:0,x:810,y:165,size:1},{index:1,x:1080,y:155,size:1},{index:2,x:1275,y:80,size:.5},{index:3,x:1265,y:240,size:.5},{index:4,x:1410,y:80,size:.5},{index:5,x:1400,y:240,size:.5}],t._widgets={},t._widgetList=[],t._sleep=!localStorage.getItem("isAwake"),t._online=!1,t._sleepToggle=new h,t._sleepToggle.x=30,t._sleepToggle.y=300,t.addChild(t._sleepToggle),t._sleepToggle.on("pointertap",(function(){t._sleep=!t._sleep,t._sleep?t.goSleep():t.wakeUp()})),t._infoMessage=new a,t._infoMessage.x=55,t._infoMessage.y=298,t.addChild(t._infoMessage),t}return e=s,(r=[{key:"goSleep",value:function(){this._sleep=!0,this._infoMessage.text=v[Math.floor(Math.random()*v.length)],localStorage.removeItem("isAwake")}},{key:"wakeUp",value:function(){this._sleep=!1,this._infoMessage.text=g[Math.floor(Math.random()*g.length)],localStorage.setItem("isAwake",!0)}},{key:"online",get:function(){return this._online},set:function(t){this._online=t,this._sleepToggle.pulse=!t}},{key:"routeMessage",value:function(t,e){this._widgets[t].onMessage(e)}},{key:"routeConfig",value:function(t,e){this._widgets[t].onConfig(e)}},{key:"addWidget",value:function(t){var e=this,r=this._widgetList.length;this._widgetList.push(t),this._widgets[t.id]=t,t.x=this._slots[r].x,t.y=this._slots[r].y,t.index=this._slots[r].index,t.size=this._slots[r].size,this.addChild(t),t.main.x=350,t.main.y=160,0===r&&this.addChild(t.main),t.on("activate",(function(){return e._activate(t)}))}},{key:"_activate",value:function(t){var e=this._widgetList.indexOf(t);if(0!==e){this._widgetList.splice(e,1),this._widgetList.unshift(t),this.addChild(t.main);for(var r=0;r<this._widgetList.length;r++)this._widgetList[r].moveTo(this._slots[r])}}},{key:"render",value:function(t){for(var e=0;e<this._widgetList.length;e++){var r=this._widgetList[e];this._sleep?r.progress=Math.max(0,r.progress-.08):r.progress=Math.min(1,r.progress+.08)}this._sleepToggle.pulse&&(this._infoMessage.text="conNecting..."),y(_(s.prototype),"render",this).call(this,t)}}])&&d(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),s}(),w=r(347),O=r.n(w);function P(t){return P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},P(t)}function S(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return j(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?j(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw i}}}}function j(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function x(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==P(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==P(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===P(o)?o:String(o)),n)}var o}function M(){return M="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=T(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},M.apply(this,arguments)}function k(t,e){return k=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},k(t,e)}function T(t){return T=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},T(t)}var R=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&k(t,e)}(a,PIXI.Container);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=T(n);if(o){var r=T(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===P(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this)).size=1,t.progress=0,t._canvas=new PIXI.Graphics,t.addChild(t._canvas),t._linesChanged=!1,t._lastHash="",t._lineGroups=[],t._lines={},t}return e=a,r=[{key:"addLine",value:function(t,e,r,n){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:16777215,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:1,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,c=arguments.length>8&&void 0!==arguments[8]?arguments[8]:1;this._linesChanged=!0;var l="".concat(o.toFixed(1),"|").concat(i.toString(16),"|").concat(a.toFixed(2));this._lineGroups.push(l),this._lines[l]||(this._lines[l]={width:o,color:i,alpha:a,children:[]}),this._lines[l].children.push({x1:t,x2:r,y1:e,y2:n,startTime:s,endTime:c})}},{key:"addSequence",value:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:16777215,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,a=0,s=2;s<t.length;s+=2){var c=t[s]-t[s-2],l=t[s+1]-t[s-1];a+=Math.sqrt(c*c+l*l)}for(var u=0,f=2;f<t.length;f+=2){var h=t[f]-t[f-2],p=t[f+1]-t[f-1],d=u+Math.sqrt(h*h+p*p)/a;this.addLine(t[f-2],t[f-1],t[f],t[f+1],e,r,n,o+u*(i-o),o+d*(i-o)),u=d}}},{key:"render",value:function(t){var e="".concat(this.size.toFixed(3),"|").concat(this.progress.toFixed(3));if(e===this._lastHash&&!this._linesChanged)return this._canvas.cacheAsBitmap=!0,void M(T(a.prototype),"render",this).call(this,t);this._canvas.cacheAsBitmap=!1,M(T(a.prototype),"render",this).call(this,t),this._lastHash=e,this._linesChanged=!1,this._canvas.clear();var r,n=S(this._lineGroups);try{for(n.s();!(r=n.n()).done;){var o=r.value,i=this._lines[o];this._canvas.lineStyle({width:i.width,alpha:i.alpha,color:i.color});var s,c=S(i.children);try{for(c.s();!(s=c.n()).done;){var l=s.value;this._canvas.moveTo(l.x1*this.size,l.y1*this.size);var u=Math.min(1,Math.max(0,this.progress-l.startTime)/(l.endTime-l.startTime));this._canvas.lineTo((l.x1+(l.x2-l.x1)*u)*this.size,(l.y1+(l.y2-l.y1)*u)*this.size)}}catch(t){c.e(t)}finally{c.f()}}}catch(t){n.e(t)}finally{n.f()}}}],r&&x(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}();function L(t){return L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},L(t)}function C(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,I(n.key),n)}}function z(t,e,r,n){return z="undefined"!=typeof Reflect&&Reflect.set?Reflect.set:function(t,e,r,n){var o,i=B(t,e);if(i){if((o=Object.getOwnPropertyDescriptor(i,e)).set)return o.set.call(n,r),!0;if(!o.writable)return!1}if(o=Object.getOwnPropertyDescriptor(n,e)){if(!o.writable)return!1;o.value=r,Object.defineProperty(n,e,o)}else!function(t,e,r){(e=I(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}(n,e,r);return!0},z(t,e,r,n)}function I(t){var e=function(t,e){if("object"!==L(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==L(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===L(e)?e:String(e)}function E(){return E="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=B(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},E.apply(this,arguments)}function B(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=D(t)););return t}function F(t,e){return F=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},F(t,e)}function D(t){return D=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},D(t)}var A=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&F(t,e)}(a,PIXI.Text);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=D(n);if(o){var r=D(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===L(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(t,e){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(r=i.call(this,"",e))._progress=0,r._origText=String(t),r.anchor.set(.5),r}return e=a,(r=[{key:"progress",get:function(){return this._progress},set:function(t){this._progress=t}},{key:"text",get:function(){return this._origText},set:function(t){this._origText=String(t)}},{key:"render",value:function(t){E(D(a.prototype),"render",this).call(this,t),function(t,e,r,n,o){if(!z(t,"text",r,n||t))throw new TypeError("failed to set property")}(D(a.prototype),0,this._origText.substr(0,Math.round(this._progress*this._origText.length)),this)}}])&&C(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}();function X(t){return X="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},X(t)}function H(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==X(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==X(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===X(o)?o:String(o)),n)}var o}function G(){return G="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=W(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},G.apply(this,arguments)}function N(t,e){return N=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},N(t,e)}function W(t){return W=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},W(t)}var U=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&N(t,e)}(a,PIXI.Container);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=W(n);if(o){var r=W(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===X(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this)).progress=0,t._active=!1,t._blackFill=new PIXI.Graphics,t.addChild(t._blackFill),t._blackFill.beginFill(0),t._blackFill.moveTo(-45,-20),t._blackFill.lineTo(45,-20),t._blackFill.lineTo(65,0),t._blackFill.lineTo(45,20),t._blackFill.lineTo(-45,20),t._blackFill.lineTo(-65,0),t._blackFill.lineTo(-45,-20),t._refFill=new PIXI.Graphics,t.addChild(t._refFill),t._refFill.beginFill(16711680),t._refFill.moveTo(-45,-20),t._refFill.lineTo(45,-20),t._refFill.lineTo(65,0),t._refFill.lineTo(45,20),t._refFill.lineTo(-45,20),t._refFill.lineTo(-65,0),t._refFill.lineTo(-45,-20),t._refFill.alpha=0,t._frame=new R,t.addChild(t._frame),t._frame.addSequence([-45,-20,45,-20,65,0,45,20,-45,20,-65,0,-45,-20],2,16777215),t._frame.addSequence([-43,-17,43,-17,60,0,43,17,-43,17,-60,0,-43,-17],1,16777215),t._label=new A(e,{fontFamily:"MajorMonoDisplay-Regular",fontSize:11,fill:"#ffffff",stroke:"#ffffff",strokeThickness:.5,align:"center"}),t.addChild(t._label),t.interactive=!0,t.on("pointertap",(function(){t._active||t.emit("activate")})),t}return e=a,(r=[{key:"active",get:function(){return this._active},set:function(t){this._active=t}},{key:"text",get:function(){return this._label.text},set:function(t){this._label.text=t}},{key:"render",value:function(t){this._frame.progress=this.progress,this._blackFill.alpha=this.progress,this._refFill.alpha+=((this._active?this.progress:0)-this._refFill.alpha)/7,this._label.progress=this.progress,this._label.style.stroke=this._active?0:16777215,this._label.style.fill=this._active?0:16777215,G(W(a.prototype),"render",this).call(this,t)}}])&&H(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}();function V(t){return V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},V(t)}function q(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==V(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==V(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===V(o)?o:String(o)),n)}var o}function Y(){return Y="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=$(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},Y.apply(this,arguments)}function J(t,e){return J=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},J(t,e)}function $(t){return $=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},$(t)}var K=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&J(t,e)}(a,PIXI.Container);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=$(n);if(o){var r=$(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===V(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this)).progress=0,t.statusLeftText=null,t.statusRightText=null,t._frame=new R,t._frame.addSequence([295,-90,295,120,-295,120,-295,-90,295,-90],1,16777215,.1),t._frame.addLine(90,-120,-90,-120,3,16777215,1,.5),t._frame.addSequence([455,-110,455,-120,280,-120,280,-100,300,-80,260,-80,245,-95,150,-95,125,-120,-125,-120,-150,-95,-245,-95,-260,-80,-300,-80,-280,-100,-280,-120]),t._frame.addSequence([330,0,300,0,300,120,265,120,250,105,150,105,125,130,25,130,0,105,-245,105,-260,90,-300,90,-300,115,-280,115]),t._frame.addSequence([125,-120,100,-95,90,-95,85,-100,-85,-100,-90,-95,-100,-95,-125,-120],1,16777215,1,.4,1),t._frame.addLine(-300,-60,-300,60,1,16777215,1,.5),t._frame.addSequence([330,-20,300,-20,300,-60,350,-60],1,16777215,1,0,.5),t.addChild(t._frame),t._titleLabel=new A(">> widget <<",{fontFamily:"MajorMonoDisplay-Regular",fontSize:11,fill:"#ff0000",stroke:"#ff0000",strokeThickness:1.5,align:"center"}),t._titleLabel.y=-111,t.addChild(t._titleLabel),t._statusLeftLabel=new A("1234567890",{fontFamily:"MajorMonoDisplay-Regular",fontSize:8,fill:"#ffffff",stroke:"#ffffff",strokeThickness:.5,align:"center"}),t._statusLeftLabel.alpha=.4,t._statusLeftLabel.x=-210,t._statusLeftLabel.y=-111,t.addChild(t._statusLeftLabel),t._statusRightLabel=new A("1234567890",{fontFamily:"MajorMonoDisplay-Regular",fontSize:8,fill:"#ffffff",stroke:"#ffffff",strokeThickness:.5,align:"center"}),t._statusRightLabel.alpha=.4,t._statusRightLabel.x=210,t._statusRightLabel.y=-111,t.addChild(t._statusRightLabel),t._tabButtons=[],t._tabButtons[0]=new U,t._tabButtons[0].x=200,t._tabButtons[0].y=130,t._tabButtons[1]=new U,t._tabButtons[1].x=75,t._tabButtons[1].y=103,t._tabButtons[2]=new U,t._tabButtons[2].x=-50,t._tabButtons[2].y=130,t._tabButtons.forEach((function(e,r){t.addChild(e),e.on("activate",(function(){return t.activateTab(r)})),e.visible=!1})),t._pages=[new PIXI.Container,new PIXI.Container,new PIXI.Container],t._pages.forEach((function(t){return t.y=10})),t._page=null,t.activateTab(0),t}return e=a,(r=[{key:"activateTab",value:function(t){this._tabButtons.forEach((function(e,r){return e.active=r===t})),this._page&&this.removeChild(this._page),this._page=this._pages[t],this.addChildAt(this._page,0)}},{key:"getPage",value:function(t){return this._pages[t]}},{key:"getTabButton",value:function(t){return this._tabButtons[t]}},{key:"title",get:function(){return this._titleLabel.text},set:function(t){this._titleLabel.text=t}},{key:"render",value:function(t){var e=this;Y($(a.prototype),"render",this).call(this,t),this._frame.progress=this.progress,this._titleLabel.progress=Math.max(0,2*this.progress-.5),this._statusLeftLabel.progress=this.progress,this._statusRightLabel.progress=this.progress,this._statusLeftLabel.text=null!==this.statusLeftText?this.statusLeftText:"0x"+(837231*Math.round(1e3*performance.now())%0xffffffffff).toString(16).padStart(10,"X"),this._statusRightLabel.text=null!==this.statusRightText?this.statusRightText:"0x"+(837231*Math.round(1e3*performance.now())%0xffffffffff).toString(16).padStart(10,"X"),this._tabButtons.forEach((function(t){t.progress=e.progress}))}}])&&q(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}();function Q(t){return Q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Q(t)}function Z(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Q(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==Q(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===Q(o)?o:String(o)),n)}var o}function tt(){return tt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=rt(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},tt.apply(this,arguments)}function et(t,e){return et=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},et(t,e)}function rt(t){return rt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},rt(t)}var nt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&et(t,e)}(a,PIXI.Container);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=rt(n);if(o){var r=rt(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Q(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this))._progress=0,t._size=1,t._text="",t._fontSize=10,t._chars=[],t._radius=100,t._alignOffset=.5,t._positionOffset=0,t._updated=!0,t._color=16777215,t}return e=a,(r=[{key:"progress",get:function(){return this._progress},set:function(t){this._updated=this._updated||this._progress!==t,this._updated&&(this.cacheAsBitmap=!1),this._progress=t}},{key:"size",get:function(){return this._size},set:function(t){this._updated=this._updated||this._size!==t,this._updated&&(this.cacheAsBitmap=!1),this._size=t}},{key:"text",get:function(){return this._text},set:function(t){var e=String(t);this._updated=this._updated||this._text!==e,this._updated&&(this.cacheAsBitmap=!1),this._text=e}},{key:"color",get:function(){return this._color},set:function(t){this._updated=this._updated||this._color!==t,this._updated&&(this.cacheAsBitmap=!1),this._color=t}},{key:"fontSize",get:function(){return this._fontSize},set:function(t){this._updated=this._updated||this._fontSize!==t,this._updated&&(this.cacheAsBitmap=!1),this._fontSize=t}},{key:"radius",get:function(){return this._radius},set:function(t){this._updated=this._updated||this._radius!==t,this._updated&&(this.cacheAsBitmap=!1),this._radius=t}},{key:"alignOffset",get:function(){return this._alignOffset},set:function(t){this._updated=this._updated||this._alignOffset!==t,this._updated&&(this.cacheAsBitmap=!1),this._alignOffset=t}},{key:"positionOffset",get:function(){return this._positionOffset},set:function(t){this._updated=this._updated||this._positionOffset!==t,this._updated&&(this.cacheAsBitmap=!1),this._positionOffset=t}},{key:"startAngleRange",get:function(){var t=.8*this.fontSize,e=Math.atan2(t,this.radius),r=(this._chars.length-1)*e*this.alignOffset+this.positionOffset;return[-r,-r+e*this.text.length-e]}},{key:"render",value:function(t){if(tt(rt(a.prototype),"render",this).call(this,t),this._updated){for(;this._chars.length>this.text.length;)this.removeChild(this._chars.pop());for(;this._chars.length<this.text.length;){var e=new PIXI.Text("X",{fontFamily:"MajorMonoDisplay-Regular",fontSize:this._fontSize,fill:this.color,stroke:this.color,strokeThickness:.5,align:"center"});e.anchor.set(.5),this._chars.push(e),this.addChild(e)}for(var r=.8*this.fontSize,n=Math.atan2(r,this.radius),o=(this._chars.length-1)*n*this.alignOffset+this.positionOffset,i=0;i<this._chars.length;i++)this._chars[i].text=this.text[i],this._chars[i].style.fontSize=this.fontSize,this._chars[i].x=this.radius*Math.sin(n*i-o),this._chars[i].y=-this.radius*Math.cos(n*i-o),this._chars[i].rotation=Math.atan2(this._chars[i].y,this._chars[i].x)+Math.PI/2,this._chars[i].visible=i/this._chars.length<this.progress;this._updated=!1}}}])&&Z(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}();function ot(t){return ot="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ot(t)}function it(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function at(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==ot(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==ot(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===ot(o)?o:String(o)),n)}var o}function st(){return st="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=lt(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},st.apply(this,arguments)}function ct(t,e){return ct=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ct(t,e)}function lt(t){return lt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},lt(t)}var ut=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ct(t,e)}(a,PIXI.Container);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=lt(n);if(o){var r=lt(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===ot(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Widget";return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this))._canvas=new PIXI.Graphics,t._label=new nt,t._label.text="|> ".concat(e," <|"),t.addChild(t._canvas),t.addChild(t._label),t._progress=0,t._size=1,t._updated=!0,t._stealTime=0,t}return e=a,(r=[{key:"progress",get:function(){return this._progress},set:function(t){this._updated=this._updated||this._progress!==t,this._updated&&(this.cacheAsBitmap=!1),this._progress=t}},{key:"size",get:function(){return this._size},set:function(t){this._updated=this._updated||this._size!==t,this._updated&&(this.cacheAsBitmap=!1),this._size=t}},{key:"render",value:function(t){if(st(lt(a.prototype),"render",this).call(this,t),!this._updated)return this._stealTime++,void(this.cacheAsBitmap=this._stealTime>10);this._label.progress=this.progress,this._canvas.clear();var e=100*this.size;this._label.radius=e,this._label.fontSize=6+6*this.size;var r,n,o=Math.PI/50,i=(r=this._label.startAngleRange,n=2,function(t){if(Array.isArray(t))return t}(r)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,s=[],c=!0,l=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==e);c=!0);}catch(t){l=!0,o=t}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(r,n)||function(t,e){if(t){if("string"==typeof t)return it(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?it(t,e):void 0}}(r,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),s=i[0],c=i[1];this._canvas.moveTo(e*Math.sin(c),-e*Math.cos(c));for(var l=s+2*Math.PI-c,u=c;u<=c+l*this.progress;u+=o){var f=-e*Math.cos(u);this._canvas.lineStyle({color:16777215,width:2,alpha:f>0?.3:.8}),this._canvas.lineTo(e*Math.sin(u),f)}this._canvas.lineTo(e*Math.sin(c+l*this.progress),-e*Math.cos(c+l*this.progress)),this._updated=!1,this._stealTime=0}}])&&at(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}();function ft(t){return ft="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ft(t)}function ht(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==ft(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==ft(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===ft(o)?o:String(o)),n)}var o}function pt(t,e){return pt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},pt(t,e)}function dt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function yt(){return yt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=bt(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},yt.apply(this,arguments)}function bt(t){return bt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},bt(t)}var _t=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&pt(t,e)}(a,PIXI.Container);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=bt(n);if(o){var r=bt(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===ft(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return dt(t)}(this,t)});function a(t,e){var r,n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(n=i.call(this))._id=t,n._container=new PIXI.Container,yt((r=dt(n),bt(a.prototype)),"addChild",r).call(r,n._container),n._title=e,n._frame=new ut(e),n.addChild(n._frame),n._progress=0,n.size=1,n.index=0,n._bg=new PIXI.Graphics,n._bg.beginFill(0,.01),n._bg.drawCircle(0,0,100),n.addChild(n._bg),n.interactive=!0,n.main=n.createMainScreen(),n.on("pointertap",(function(){n.emit("activate")})),n.movement={timeLeft:0,index1:0,x1:0,y1:0,size1:1,index2:0,x2:0,y2:0,size2:1,flickTime:0},n}return e=a,(r=[{key:"createMainScreen",value:function(){var t=new K;return t.visible=!1,t}},{key:"id",get:function(){return this._id}},{key:"addChild",value:function(t){this._container.addChild(t)}},{key:"addChildAt",value:function(t,e){this._container.addChildAt(t,e)}},{key:"removeChild",value:function(t){this._container.removeChild(t)}},{key:"progress",get:function(){return this._progress},set:function(t){this._progress=t}},{key:"moveTo",value:function(t){this.movement.timeLeft=1,this.movement.x1=this.x,this.movement.y1=this.y,this.movement.size1=this.size,this.movement.x2=t.x,this.movement.y2=t.y,this.movement.size2=t.size,this.movement.index1=this.index,this.movement.index2=t.index,this.movement.flickTime=Math.random()}},{key:"render",value:function(t){this._bg.scale.set(this.size),this._frame.size=this.size,this._frame.progress=this._progress;var e=function(t,e,r){return Math.min(1,Math.max(0,t-e)/(r-e))};if(this.movement.timeLeft>0){var r=this.movement,n=r.x1,o=r.y1,i=r.size1,s=r.x2,c=r.y2,l=r.size2;this.movement.timeLeft=Math.max(0,this.movement.timeLeft-.04);var u=this.movement.timeLeft,f=e(u,0,.4),h=e(u,.4,.6),p=e(u,.6,1);if(this.x=n*h+s*(1-h),this.y=o*h+c*(1-h),this.size=i*h+l*(1-h),0===this.movement.index2&&(this.main.progress=(1-f)*this.progress,this.alpha=p>0?.2+.8*Math.random():1),0===this.movement.index1&&(this.main.progress=p*this.progress),0===u&&(this.index=this.movement.index2,0!==this.index&&this.main.parent)){var d=this.main;setTimeout((function(){d.parent&&d.parent.removeChild(d)}))}}else 0===this.index?this.main.progress=this.progress:this.main.progress=0;yt(bt(a.prototype),"render",this).call(this,t)}},{key:"onMessage",value:function(t){console.log('Widget "'.concat(this._id,'" received a message:'),t)}},{key:"onConfig",value:function(t){console.log('Widget "'.concat(this._id,'" received config:'),t)}},{key:"sendMessage",value:function(t){this.emit("service",{serviceId:this._id,payload:t})}},{key:"toString",value:function(){return'[Widget title="'.concat(this._title,'"]')}}])&&ht(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}();function gt(t){return gt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gt(t)}function vt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==gt(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==gt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===gt(o)?o:String(o)),n)}var o}function mt(){return mt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Ot(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},mt.apply(this,arguments)}function wt(t,e){return wt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},wt(t,e)}function Ot(t){return Ot=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ot(t)}var Pt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&wt(t,e)}(a,PIXI.Container);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Ot(n);if(o){var r=Ot(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===gt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this))._canvas=new PIXI.Graphics,t.addChild(t._canvas),t._progress=0,t.value=0,t.lineWidth=2,t._presentedValue=0,t._size=1,t.color=16777215,t._lastUpdateHash="",t}return e=a,(r=[{key:"progress",get:function(){return this._progress},set:function(t){this._progress=t}},{key:"size",get:function(){return this._size},set:function(t){this._size=t}},{key:"render",value:function(t){mt(Ot(a.prototype),"render",this).call(this,t),this._presentedValue+=(this.value-this._presentedValue)/30;var e=this.size.toFixed(3)+"|"+this.progress.toFixed(3)+"|"+this._presentedValue.toFixed(3)+"|"+this.color.toString(16)+"|"+this.lineWidth.toFixed(0);if(e!==this._lastUpdateHash){this._lastUpdateHash=e,this._canvas.clear();var r=100*this.size,n=Math.PI/100;this._canvas.moveTo(r*Math.sin(0),-r*Math.cos(0)),this._canvas.lineStyle({color:this.color,width:this.lineWidth,alpha:.7});for(var o=0;o<=2*Math.PI*this._presentedValue*this.progress;o+=n)this._canvas.lineTo(r*Math.sin(o),-r*Math.cos(o))}}}])&&vt(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}();function St(t){return St="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},St(t)}function jt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==St(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==St(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===St(o)?o:String(o)),n)}var o}function xt(){return xt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=kt(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},xt.apply(this,arguments)}function Mt(t,e){return Mt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Mt(t,e)}function kt(t){return kt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},kt(t)}var Tt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Mt(t,e)}(a,PIXI.Container);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=kt(n);if(o){var r=kt(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===St(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this)).progress=0,t._lastCalendarUpdate=0,t.countdownName="",t.coundownDate=new Date(0);var e=["mo","tu","we","th","fr","sa","su"].join(" ");return t._pointer=new PIXI.Graphics,t._pointer.beginFill(16711680),t._pointer.drawRect(-2,-1,22,16),t.addChild(t._pointer),t._currentMonthField=new A("",{fontFamily:"MajorMonoDisplay-Regular",fontSize:11,fill:"#ffffff",stroke:"#ffffff",strokeThickness:.5,align:"left"}),t._currentMonthField.anchor.set(0,0),t._currentMonthField.x=-230,t._currentMonthField.y=-40,t.addChild(t._currentMonthField),t._nextMonthField=new A("",{fontFamily:"MajorMonoDisplay-Regular",fontSize:11,fill:"#ffffff",stroke:"#ffffff",strokeThickness:.5,align:"left"}),t._nextMonthField.anchor.set(0,0),t._nextMonthField.x=50,t._nextMonthField.y=-40,t.addChild(t._nextMonthField),t._currentMonthHeader=new A(e,{fontFamily:"MajorMonoDisplay-Regular",fontSize:11,fill:"#ff0000",stroke:"#ff0000",strokeThickness:1.5,align:"left"}),t._currentMonthHeader.anchor.set(0,0),t._currentMonthHeader.x=-230,t._currentMonthHeader.y=-60,t.addChild(t._currentMonthHeader),t._nexttMonthHeader=new A(e,{fontFamily:"MajorMonoDisplay-Regular",fontSize:11,fill:"#ff0000",stroke:"#ff0000",strokeThickness:1.5,align:"left"}),t._nexttMonthHeader.anchor.set(0,0),t._nexttMonthHeader.x=50,t._nexttMonthHeader.y=-60,t.addChild(t._nexttMonthHeader),t._currentMonthTitle=new A(e,{fontFamily:"MajorMonoDisplay-Regular",fontSize:16,fill:"#ffffff",stroke:"#ffffff",strokeThickness:.5,align:"left"}),t._currentMonthTitle.x=-150,t._currentMonthTitle.y=-75,t.addChild(t._currentMonthTitle),t._nextMonthTitle=new A(e,{fontFamily:"MajorMonoDisplay-Regular",fontSize:16,fill:"#ffffff",stroke:"#ffffff",strokeThickness:.5,align:"left"}),t._nextMonthTitle.x=130,t._nextMonthTitle.y=-75,t.addChild(t._nextMonthTitle),t._countdownTitle=new A("",{fontFamily:"MajorMonoDisplay-Regular",fontSize:11,fill:"#ffffff",stroke:"#ffffff",strokeThickness:.5,align:"center"}),t._countdownTitle.x=-140,t._countdownTitle.y=60,t.addChild(t._countdownTitle),t._countdownLabel=new A("",{fontFamily:"MajorMonoDisplay-Regular",fontSize:16,fill:"#ff0000",stroke:"#ff0000",strokeThickness:1.5,align:"center"}),t._countdownLabel.x=-140,t._countdownLabel.y=78,t.addChild(t._countdownLabel),t._lines=new R,t._lines.addSequence([-300,50,-45,50,0,95]),t.addChild(t._lines),t._refreshCalendar(),t}return e=a,r=[{key:"_getCalendarData",value:function(t){for(var e=new Date(t.getFullYear(),t.getMonth()),r=new Date(e.getTime()+3456e6),n=new Date(r.getFullYear(),r.getMonth()),o=new Date(n.getTime()-864e5),i=[[]],a=e.getDay()-1,s=0;s<a;s++)7===i[i.length-1].length&&i.push([]),i[i.length-1].push(" ");for(var c=o.getDate(),l=1;l<=c;l++)7===i[i.length-1].length&&i.push([]),i[i.length-1].push(l);return i}},{key:"_refreshCalendar",value:function(){var t=new Date,e=new Date(t.getFullYear(),t.getMonth()),r=new Date(e.getTime()+3456e6),n=this._getCalendarData(t),o=this._getCalendarData(r),i=["January","February","March","April","May","June","July","August","September","October","November","December"];this._currentMonthTitle.text=i[t.getMonth()],this._nextMonthTitle.text=i[r.getMonth()],this._nextMonthField.text=o.map((function(t){return t.map((function(t){return String(t).padStart(2," ")})).join(" ")})).join("\n"),this._currentMonthField.text=n.map((function(t){return t.map((function(t){return String(t).padStart(2," ")})).join(" ")})).join("\n");for(var a=0;a<n.length;a++)for(var s=0;s<n[a].length;s++)n[a][s]===t.getDate()&&(this._pointer.x=24.5*s-230,this._pointer.y=14*a-40)}},{key:"render",value:function(t){var e=performance.now();e>this._lastCalendarUpdate+1e3&&(this._lastCalendarUpdate=e,this._refreshCalendar()),this._currentMonthField.progress=this.progress,this._nextMonthField.progress=this.progress,this._currentMonthHeader.progress=this.progress,this._nexttMonthHeader.progress=this.progress,this._currentMonthTitle.progress=this.progress,this._nextMonthTitle.progress=this.progress,this._pointer.alpha=this.progress,this._countdownTitle.progress=this.progress,this._countdownLabel.progress=this.progress,this._lines.progress=this.progress;var r=new Date;r.getTime()>this.coundownDate.getTime()&&(this.countdownName="New Year",this.coundownDate=new Date(r.getFullYear()+1,0,0)),this._countdownTitle.text="".concat(this.countdownName," in:");var n=Math.max(0,this.coundownDate.getTime()-r.getTime()),o=Math.floor(n/864e5),i=Math.floor(n/36e5)%24,s=Math.floor(n/6e4)%60,c=Math.floor(n/1e3)%60,l=Math.floor(n)%1e3;this._countdownLabel.text="".concat(String(o).padStart(2,"0"),":").concat(String(i).padStart(2,"0"),":").concat(String(s).padStart(2,"0"),":").concat(String(c).padStart(2,"0"),".").concat(String(l).padStart(3,"0")),xt(kt(a.prototype),"render",this).call(this,t)}}],r&&jt(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}();function Rt(t){return Rt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rt(t)}function Lt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Rt(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==Rt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===Rt(o)?o:String(o)),n)}var o}function Ct(){return Ct="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=It(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},Ct.apply(this,arguments)}function zt(t,e){return zt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},zt(t,e)}function It(t){return It=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},It(t)}var Et=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],Bt=["sun","mon","tue","wed","thu","fri","sat"],Ft=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&zt(t,e)}(a,t);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=It(n);if(o){var r=It(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Rt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,"dateTime","Date & Time"))._secPointer=new Pt,t._secPointer.color=16711680,t.addChild(t._secPointer),t._minPointer=new Pt,t._minPointer.color=16711680,t.addChild(t._minPointer),t._hourPointer=new Pt,t._hourPointer.color=16711680,t.addChild(t._hourPointer),t._timeLabel=new A("00:00:00",{fontFamily:"MajorMonoDisplay-Regular",fontSize:10,fill:"#ffffff",stroke:"#ffffff",strokeThickness:.5,align:"center"}),t._timeLabel.anchor.set(.5),t.addChild(t._timeLabel),t._dateLabel=new A("???",{fontFamily:"MajorMonoDisplay-Regular",fontSize:10,fill:"#ffffff",stroke:"#ffffff",strokeThickness:.5,align:"center"}),t._dateLabel.anchor.set(.5),t.addChild(t._dateLabel),t._weekDays=[];for(var e=0;e<Bt.length;e++){var r=Bt[e],n=new nt;t._weekDays.push(n),n.text=r,n.positionOffset=1.35*Math.PI-(e+6)%7*.4,n.progress=1,t.addChild(n)}return t}return e=a,(r=[{key:"createMainScreen",value:function(){var t=new K;t.title="Date & Time";var e=t.getTabButton(0),r=t.getPage(0);e.visible=!0,e.text="Date";var n=t.getTabButton(1);return t.getPage(1),n.visible=!0,n.text="Time",this._dateScreen=new Tt,r.addChild(this._dateScreen),t}},{key:"onConfig",value:function(t){console.log(t),this._dateScreen.coundownDate=new Date(t.countdown.date),this._dateScreen.countdownName=t.countdown.name}},{key:"render",value:function(t){Ct(It(a.prototype),"render",this).call(this,t);var e=new Date,r=e.getHours().toString().padStart(2,"0"),n=e.getMinutes().toString().padStart(2,"0"),o=e.getSeconds().toString().padStart(2,"0");this._timeLabel.style.fontSize=2+20*this.size;var i="".concat(r,":").concat(n);1===this.size?(i+=":".concat(o),this._timeLabel.y=15*-this.size):(this._timeLabel.y=0,this._timeLabel.style.fontSize*=1.5),this._timeLabel.text=i,this._timeLabel.progress=this._progress,this._dateLabel.style.fontSize=2+18*this.size,this._dateLabel.text="".concat(Et[e.getMonth()]," ").concat(e.getDate()),this._dateLabel.y=15*+this.size,this._dateLabel.visible=1===this.size,this._dateLabel.progress=this._progress,this._secPointer.value=e.getSeconds()/60,this._secPointer.progress=this._progress,this._secPointer.size=this.size*(1===this.size?.86:.8),this._minPointer.value=e.getMinutes()/60,this._minPointer.progress=this._progress,this._minPointer.size=.83*this.size,this._minPointer.visible=1===this.size,this._hourPointer.value=e.getHours()/24,this._hourPointer.progress=this._progress,this._hourPointer.size=.8*this.size,this._hourPointer.visible=1===this.size;for(var s=0;s<this._weekDays.length;s++){var c=this._weekDays[s];c.radius=94*this.size,c.fontSize=4+5*this.size,c.alpha=s==e.getDay()?1:.4,c.visible=1===this.size&&this.progress>(s+6)%7/7}this._dateScreen&&this.main&&(this._dateScreen.progress=this.main.progress)}}])&&Lt(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(_t);function Dt(t){return Dt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dt(t)}function At(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Dt(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==Dt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===Dt(o)?o:String(o)),n)}var o}function Xt(){return Xt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Gt(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},Xt.apply(this,arguments)}function Ht(t,e){return Ht=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ht(t,e)}function Gt(t){return Gt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Gt(t)}var Nt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ht(t,e)}(a,PIXI.Container);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Gt(n);if(o){var r=Gt(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Dt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this))._shapes=new PIXI.Graphics,t.addChild(t._shapes),t.size=1,t.progress=0,t.count=30,t.countMax=1e5,t.length=.5,t._updateHash="",t}return e=a,(r=[{key:"render",value:function(t){Xt(Gt(a.prototype),"render",this).call(this,t);var e="".concat(this.size.toFixed(3),"|").concat(this.progress.toFixed(3),"|").concat(this.length.toFixed(3),"|").concat(this.count.toFixed(0),"|").concat(this.countMax.toFixed(0));if(this._updateHash!==e){this._updateHash=e,this._shapes.clear(),this._shapes.beginFill(16711680);for(var r=2*Math.PI/this.count,n=0;n<this.countMax&&n<this.count;n++)this._shapes.drawCircle(100*this.size*Math.sin(n*r),100*-this.size*Math.cos(n*r),2.5*this.size*this.progress)}}}])&&At(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}();function Wt(t){return Wt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wt(t)}function Ut(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Wt(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==Wt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===Wt(o)?o:String(o)),n)}var o}function Vt(){return Vt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Yt(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},Vt.apply(this,arguments)}function qt(t,e){return qt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},qt(t,e)}function Yt(t){return Yt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Yt(t)}var Jt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&qt(t,e)}(a,PIXI.Container);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Yt(n);if(o){var r=Yt(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Wt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this))._lines=new PIXI.Graphics,t.addChild(t._lines),t.size=1,t.progress=0,t.count=10,t.length=.5,t.countMax=1e5,t._updateHash="",t}return e=a,(r=[{key:"render",value:function(t){Vt(Yt(a.prototype),"render",this).call(this,t);var e="".concat(this.size.toFixed(3),"|").concat(this.progress.toFixed(3),"|").concat(this.length.toFixed(3),"|").concat(this.count.toFixed(0),"|").concat(this.countMax.toFixed(0));if(this._updateHash!==e){this._updateHash=e,this._lines.clear(),this._lines.lineStyle({color:16777215,alpha:.3,width:2});for(var r=2*Math.PI/this.count,n=100*this.size,o=100*this.progress*this.size*(1-this.length)+(1-this.progress)*n,i=0;i<this.countMax&&i<this.count;i++)this._lines.moveTo(o*Math.sin(i*r),-o*Math.cos(i*r)),this._lines.lineTo(n*Math.sin(i*r),-n*Math.cos(i*r))}}}])&&Ut(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}();function $t(t){return $t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$t(t)}function Kt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==$t(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==$t(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===$t(o)?o:String(o)),n)}var o}function Qt(){return Qt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=te(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},Qt.apply(this,arguments)}function Zt(t,e){return Zt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Zt(t,e)}function te(t){return te=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},te(t)}var ee=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Zt(t,e)}(a,PIXI.Container);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=te(n);if(o){var r=te(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===$t(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"long";!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this)).progress=0,t.size=1,t.pointerWidth=2,t._pointer=new PIXI.Graphics,t.addChild(t._pointer),t._pointerRotation=0,t._pointerUpdateHash="";var r={long:t.renderLong,arrow:t.renderArrow};return t._renderFunc=r[e],t}return e=a,(r=[{key:"pointerRotation",get:function(){return this._pointerRotation},set:function(t){this._pointerRotation=t}},{key:"render",value:function(t){Qt(te(a.prototype),"render",this).call(this,t),this._pointer.rotation=-this.progress*Math.PI*2+this._pointerRotation;var e="".concat(this.size.toFixed(3),"|").concat(this.progress.toFixed(3),"|").concat(this.pointerWidth.toFixed(1));e!==this._pointerUpdateHash&&(this._renderFunc(),this._pointerUpdateHash=e)}},{key:"renderLong",value:function(){var t=15,e=100*this.size*this.progress,r=this.pointerWidth;this._pointer.clear(),this._pointer.beginFill(16777215),this._pointer.moveTo(r,-t),this._pointer.lineTo(r,-Math.max(t,e-r)),this._pointer.lineTo(0,-Math.max(t,e)),this._pointer.lineTo(-r,-Math.max(t,e-2*r)),this._pointer.lineTo(-r,-t),this._pointer.moveTo(r,t),this._pointer.lineTo(r,t+.15*e),this._pointer.lineTo(-r,t+.15*e),this._pointer.lineTo(-r,t)}},{key:"renderArrow",value:function(){var t=100*this.size,e=this.pointerWidth*this.progress*this.size;this._pointer.clear(),this._pointer.beginFill(16777215),this._pointer.moveTo(0,-t),this._pointer.lineTo(e/2,-t+e),this._pointer.lineTo(-e/2,-t+e)}}])&&Kt(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}();function re(t){return re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},re(t)}function ne(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==re(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==re(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===re(o)?o:String(o)),n)}var o}function oe(){return oe="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=ae(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},oe.apply(this,arguments)}function ie(t,e){return ie=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ie(t,e)}function ae(t){return ae=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ae(t)}var se=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ie(t,e)}(a,PIXI.Container);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=ae(n);if(o){var r=ae(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===re(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this))._blink=!1,t._clicker=new PIXI.Graphics,t._clicker.beginFill(0,.75),t._clicker.drawCircle(0,0,30),t._clicker.endFill(),t._clicker.lineStyle({color:13421772,width:2}),t._clicker.drawCircle(0,0,25),t._clicker.lineStyle({color:8947848,width:1}),t._clicker.drawCircle(0,0,22),t.addChild(t._clicker),t.interactive=!0,t.on("pointertap",(function(e){t._blink=!0})),t}return e=a,(r=[{key:"render",value:function(t){oe(ae(a.prototype),"render",this).call(this,t);var e=this._blink?1.2:1,r=this._clicker.scale.x+(e-this._clicker.scale.x)/5;this._clicker.scale.set(r),this._clicker.scale.x>=1.18&&(this._blink=!1)}}])&&ne(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}();function ce(t){return ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ce(t)}function le(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==ce(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==ce(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===ce(o)?o:String(o)),n)}var o}function ue(){return ue="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=he(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},ue.apply(this,arguments)}function fe(t,e){return fe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},fe(t,e)}function he(t){return he=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},he(t)}var pe=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&fe(t,e)}(a,t);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=he(n);if(o){var r=he(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===ce(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this))._mode="stop",t._stopIcon=new PIXI.Graphics,t._stopIcon.beginFill(16711680),t._stopIcon.moveTo(-8,-8),t._stopIcon.lineTo(8,-8),t._stopIcon.lineTo(8,8),t._stopIcon.lineTo(-8,8),t._stopIcon.lineTo(-8,-8),t.addChild(t._stopIcon),t._playIcon=new PIXI.Graphics,t._playIcon.beginFill(16777215),t._playIcon.moveTo(-5,-10),t._playIcon.lineTo(11,0),t._playIcon.lineTo(-5,10),t._playIcon.lineTo(-5,-10),t.addChild(t._playIcon),t.on("pointertap",(function(e){e.stopPropagation(),"stop"===t.mode?(t.mode="play",t.emit("play")):(t.mode="stop",t.emit("stop"))})),t}return e=a,(r=[{key:"mode",get:function(){return this._mode},set:function(t){t!==this._mode&&(this._blink=!0),this._mode=t}},{key:"render",value:function(t){ue(he(a.prototype),"render",this).call(this,t),this._playIcon.visible="stop"===this.mode,this._stopIcon.visible="play"===this.mode}}])&&le(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(se);function de(t){return de="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},de(t)}function ye(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==de(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==de(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===de(o)?o:String(o)),n)}var o}function be(){return be="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=ge(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},be.apply(this,arguments)}function _e(t,e){return _e=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},_e(t,e)}function ge(t){return ge=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ge(t)}var ve=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_e(t,e)}(a,t);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=ge(n);if(o){var r=ge(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===de(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,"pomodoro","Pomodoro"))._ticks=new Jt,t._ticks.count=25,t._ticks.length=.1,t.addChild(t._ticks),t._redLight=new PIXI.Graphics,t._redLight.beginFill(16711680),t._redLight.drawCircle(0,0,100),t._redLight.alpha=0,t.addChildAt(t._redLight,0),t._history=t._loadHistory(),t._timerStart=Number(localStorage.getItem("Pomodoro_timerStart"))||null,t._timerStop=Number(localStorage.getItem("Pomodoro_timerStop"))||null,t._mode=localStorage.getItem("Pomodoro_mode")||"work",t._pulse=!1,t._playButton=new pe,t._updatePlayButtonStatus(),t._playButton.scale.set(0),t._playButton.on("play",(function(){t._timerStart=(new Date).getTime(),t._timerStop=null,t._mode="work"===t._mode?"break":"work",t._pulse=!1,localStorage.setItem("Pomodoro_timerStart",t._timerStart),localStorage.setItem("Pomodoro_timerStop",t._timerStop),localStorage.setItem("Pomodoro_mode",t._mode)})),t._playButton.on("stop",(function(){t._timerStop=(new Date).getTime(),t._pulse=!1,localStorage.setItem("Pomodoro_timerStop",t._timerStop)})),t._workLabel=new nt,t._workLabel.text="Work",t._workLabel.positionOffset=1.8,t.addChild(t._workLabel),t._breakLabel=new nt,t._breakLabel.text="Break",t._breakLabel.color=16711680,t._breakLabel.positionOffset=1.3,t.addChild(t._breakLabel),t._modeLabel=new A("Work",{fontFamily:"MajorMonoDisplay-Regular",fontSize:16,fill:"#ffffff",stroke:"#ffffff",strokeThickness:.5,align:"center"}),t._modeLabel.anchor.set(.5),t.addChild(t._modeLabel),t._pointer=new ee,t.addChild(t._pointer),t._clockCenter=new PIXI.Graphics,t._clockCenter.lineStyle({width:2,alpha:.8,color:16777215}),t._clockCenter.drawCircle(0,0,10),t._clockCenter.beginFill(16777215),t._clockCenter.drawCircle(0,0,2),t.addChild(t._clockCenter),t._timeBg=new PIXI.Graphics,t._timeBg.beginFill(0),t._timeBg.drawRect(-55,-9,110,20),t.addChild(t._timeBg),t._timeBgRed=new PIXI.Graphics,t._timeBgRed.beginFill(16711680),t._timeBgRed.drawRect(-55,-9,110,20),t._timeBgRed.alpha=0,t.addChild(t._timeBgRed),t._timeLabel=new A("00:00.000",{fontFamily:"MajorMonoDisplay-Regular",fontSize:16,fill:"#ffffff",stroke:"#ffffff",strokeThickness:.5,align:"center"}),t._timeLabel.anchor.set(.5),t.addChild(t._timeLabel),t.addChild(t._playButton),t._dotLabel=new nt,t._dotLabel.text="completed:",t._dotLabel.color=16711680,t._dotLabel.positionOffset=-1.6,t._dotLabel.alpha=0,t.addChild(t._dotLabel),t._dots=new Nt,t._dots.rotation=2.1,t._dots.count=40,t._dots.countMax=0,t.addChild(t._dots),t}return e=a,(r=[{key:"_loadHistory",value:function(){try{var t=localStorage.getItem("Pomodoro_history");return JSON.parse(t)||[]}catch(t){console.warn(t)}return[]}},{key:"_saveHistory",value:function(t){for(;t.length>1e3;)t.unshift();try{localStorage.setItem("Pomodoro_history",JSON.stringify(t))}catch(t){console.warn(t)}return[]}},{key:"_updatePlayButtonStatus",value:function(){this._playButton.mode=null!==this._timerStart&&null===this._timerStop?"play":"stop"}},{key:"_getCurrentTimeLimit",value:function(){return"work"===this._mode?15e5:3e5}},{key:"_updateTimer",value:function(){if(this._timerStart){var t=(new Date).getTime(),e=(this._timerStop||t)-this._timerStart,r=this._getCurrentTimeLimit();return e>r&&(this._timerStop=this._timerStart+r,localStorage.setItem("Pomodoro_timerStop",this._timerStop),this._updatePlayButtonStatus(),this._pulse=!0,"work"===this._mode&&(this._history.push((new Date).getTime()),this._saveHistory(this._history))),e/r}}},{key:"render",value:function(t){be(ge(a.prototype),"render",this).call(this,t);var e=this._updateTimer(),r=(new Date).getTime(),n=this._timerStart?(this._timerStop||r)-this._timerStart:0;n=this._getCurrentTimeLimit()-n,this._playButton.scale.set(2*this.progress*Math.max(0,this.size-.5)),this._playButton.visible=.8,this._playButton.x=-100*this.size*Math.cos(.25*Math.PI),this._playButton.y=100*this.size*Math.sin(.25*Math.PI),this._timeLabel.progress=this.progress,this._timeBg.alpha=this.progress,this._timeLabel.y=40*-this.size,this._timeBg.y=this._timeLabel.y,this._timeBg.scale.x=.2+.8*this.size,this._timeBgRed.y=this._timeBg.y,this._timeBgRed.scale.x=this._timeBg.scale.x,this._pulse?(this._timeLabel.alpha=.6+.4*Math.sin(.01*performance.now()),this._redLight.alpha=(.4+.4*Math.sin(.01*performance.now()))*this.progress):(this._timeLabel.alpha=1,this._redLight.alpha=0),this._timeBgRed.alpha=this._redLight.alpha;var o=Math.floor(n/6e4),i=Math.floor((n-1e3*o*60)/1e3),s=n%1e3,c="".concat(o.toString().padStart(2,"0"),":").concat(i.toString().padStart(2,"0"));1===this.size&&(c+=".".concat(s.toString().padStart(3,"0"))),this._timeLabel.text=c,this._modeLabel.progress=this.progress,this._modeLabel.style.fontSize=26*this.size,this._modeLabel.y=20*this.size,this._modeLabel.visible=this.size<=.65,"work"===this._mode?(this._modeLabel.text="work",this._modeLabel.style.fill=16777215,this._modeLabel.style.stroke=16777215,this._ticks.count=25):(this._modeLabel.text="break",this._modeLabel.style.fill=16711680,this._modeLabel.style.stroke=16711680,this._ticks.count=5),this._workLabel.radius=110*this.size,this._workLabel.progress=this.progress,this._workLabel.fontSize=12*this.size,this._workLabel.alpha="work"===this._mode?1:.25,this._workLabel.visible=1===this.size,this._breakLabel.radius=110*this.size,this._breakLabel.progress=this.progress,this._breakLabel.fontSize=12*this.size,this._breakLabel.alpha="break"===this._mode?1:.25,this._breakLabel.visible=1===this.size,this._pointer.progress=this.progress,this._pointer.size=.8*this.size,this._pointer.alpha=Math.max(0,2*(this.size-.5)),this._pointer.pointerRotation=2*Math.PI*e,this._clockCenter.alpha=.8*this.progress*Math.max(0,2*(this.size-.5)),this._clockCenter.scale.set(this.size),this._redLight.scale.set(1.15*this.size),this._ticks.size=.9*this.size,this._ticks.progress=this.progress,this._dots.size=1.1*this.size,this._dots.progress=this.progress,this._dots.visible=1===this.size,this._dotLabel.progress=this.progress,this._dotLabel.radius=113*this.size,this._dotLabel.fontSize=12*this.size,this._dotLabel.visible=1===this.size;var l=864e5*Math.floor(r/864e5);this._dots.countMax=Math.min(10,this._history.filter((function(t){return t>l})).length),this._dotLabel.alpha=this._dots.countMax>0?1:0}}])&&ye(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(_t);function me(t){return me="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},me(t)}function we(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Oe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==me(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==me(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===me(o)?o:String(o)),n)}var o}function Pe(){return Pe="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=je(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},Pe.apply(this,arguments)}function Se(t,e){return Se=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Se(t,e)}function je(t){return je=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},je(t)}var xe=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Se(t,e)}(a,PIXI.Container);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=je(n);if(o){var r=je(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===me(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:5,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Math.PI;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this)).value=e,t.valueMin=e,t.valueMax=e,t._scaleMin=e,t._scaleMax=r,t._angleRange=s,t.size=1,t.progress=1,t._lastHash="";var c=r-e;t._rangeIndicator=new Pt,t._rangeIndicator.color=16711680,t._rangeIndicator.lineWidth=10,t.addChild(t._rangeIndicator);var l=2*Math.PI/s;t._ticksSmall=new Jt,t._ticksSmall.count=l*c,t._ticksSmall.countMax=Math.floor(t._ticksSmall.count/l)+1,t.addChild(t._ticksSmall),t._ticksLarge=new Jt,t._ticksLarge.count=Math.floor(l*c/5),t._ticksLarge.countMax=Math.floor(t._ticksLarge.count/l)+1,t.addChild(t._ticksLarge);var u=c/(o-1);return t._labels=Array(o).fill(0).map((function(t,r){return Math.round(e+u*r)})).map((function(e,r,o){var i=new nt;return i.text=String(e)+n,i.positionOffset=-r/(o.length-1)*t._angleRange,i.radius=100,i.progress=1,t.addChild(i),i})),t._pointer=new ee("arrow"),t._pointer.pointerWidth=10,t.addChild(t._pointer),t}return e=a,(r=[{key:"render",value:function(t){Pe(je(a.prototype),"render",this).call(this,t);var e="".concat(this.size.toFixed(3),"|").concat(this.progress.toFixed(3),"|").concat(this.value.toFixed(1),"|").concat(this.valueMin.toFixed(1),"|").concat(this.valueMax.toFixed(1),"|");if(this._lastHash!==e){this._lastHash=e,this._ticksSmall.size=this.size,this._ticksSmall.progress=Math.min(1,2*this.progress),this._ticksSmall.length=.05*this.size,this._ticksLarge.size=.95*this.size,this._ticksLarge.progress=Math.max(0,2*this.progress-1),this._ticksLarge.length=.05*this.size,this._ticksLarge.length=.05*this.size;var r,n=function(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return we(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?we(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw i}}}}(this._labels);try{for(n.s();!(r=n.n()).done;){var o=r.value;o.progress=this.progress,o.radius=110*this.size,o.fontSize=4*this.size+5}}catch(t){n.e(t)}finally{n.f()}var i=this._angleRange/(2*Math.PI);this._pointer.progress=this.progress,this._pointer.size=this.size*(.9+.04/Math.max(.5,this.size)),this._pointer.pointerWidth=10/(.5+.5*Math.max(.5,this.size)),this._pointer.pointerRotation=this._angleRange*((this.value-this._scaleMin)/(this._scaleMax-this._scaleMin));var s=this._scaleMax-this._scaleMin;this._rangeIndicator.size=.95*this.size,this._rangeIndicator.lineWidth=4*this.size,this._rangeIndicator.progress=this.progress;var c=(this.valueMin-this._scaleMin)/s;this._rangeIndicator.rotation=this._angleRange*c,this._rangeIndicator.value=i*((this.valueMax-this._scaleMin)/s-c),this._rangeIndicator.visible=this.size>.7}}}])&&Oe(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}();function Me(t){return Me="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Me(t)}function ke(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Me(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==Me(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===Me(o)?o:String(o)),n)}var o}function Te(){return Te="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Le(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},Te.apply(this,arguments)}function Re(t,e){return Re=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Re(t,e)}function Le(t){return Le=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Le(t)}var Ce={"01d":"","01n":"","02d":"","02n":"","03d":"","03n":"","04d":"","04n":"","09d":"","09n":"","10d":"","10n":"","11d":"","11n":"","13d":"","13n":"","50d":"","50n":""},ze=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Re(t,e)}(a,t);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Le(n);if(o){var r=Le(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Me(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,"weather","Weather")).data={lastUpdate:null,currentTemperature:null,currentTemperatureMin:null,currentTemperatureMax:null,currentIcon:null,currentDescription:null,rainTime:null},t._dataLoadProgress=0,t._currentTempScale=new xe(-10,30,"c",5,.8*Math.PI),t._currentTempScale.rotation=.3*Math.PI+Math.PI/2,t.addChild(t._currentTempScale),t._currentTempLabel=new A("",{fontFamily:"MajorMonoDisplay-Regular",fontSize:16,fill:"#ffffff",stroke:"#ffffff",strokeThickness:.5,align:"center"}),t.addChild(t._currentTempLabel),t._currentDescriotionLabel=new A("",{fontFamily:"MajorMonoDisplay-Regular",fontSize:16,fill:"#ff0000",stroke:"#ff0000",strokeThickness:1,align:"center"}),t.addChild(t._currentDescriotionLabel),t._currentIcon=new A("",{fontFamily:"weathericons-regular-webfont",fontSize:60,fill:"#ffffff",stroke:"#ffffff",strokeThickness:.5,align:"center"}),t._currentIcon.progress=1,t.addChild(t._currentIcon),t._rainLabel=new nt,t._rainLabel.text="",t._rainLabel.color=16711680,t._rainLabel.positionOffset=.45*-Math.PI,t.addChild(t._rainLabel),t}return e=a,(r=[{key:"onMessage",value:function(t){var e=t.current,r=t.forecast;this.data.lastUpdate=(new Date).getTime(),this.data.currentTemperature=e.main.temp,this.data.currentIcon=e.weather[0].icon,this.data.currentDescription=e.weather[0].description;var n=(new Date).getTime()/1e3,o=r.list.filter((function(t){return t.dt>=n&&t.dt<=n+86400})).map((function(t){return{min:t.main.temp_min,max:t.main.temp_max}})).reduce((function(t,e){return t.min=Math.min(e.min,t.min),t.max=Math.max(e.max,t.max),t}),{min:e.main.temp,max:e.main.temp});this.data.currentTemperatureMin=o.min,this.data.currentTemperatureMax=o.max;var i=r.list.filter((function(t){return t.rain}));this.data.rainTime=i&&i.length>0?1e3*i[0].dt:null,console.log(this.data)}},{key:"render",value:function(t){if(Te(Le(a.prototype),"render",this).call(this,t),this.data.lastUpdate&&this._dataLoadProgress<1&&(this._dataLoadProgress=Math.min(1,this._dataLoadProgress+.02)),this._currentTempLabel.progress=this.progress*this._dataLoadProgress,this._currentTempLabel.text=null===this.data.currentTemperature?"":Math.round(this.data.currentTemperature)+"c",this._currentTempLabel.y=40*this.size,this._currentTempLabel.style.fontSize=8*this.size+7,this._currentIcon.alpha=this.progress*this._dataLoadProgress,this._currentIcon.text=null===this.data.currentIcon?"":Ce[this.data.currentIcon],this._currentIcon.y=-29*this.size,this._currentIcon.style.fontSize=60*this.size,this._currentDescriotionLabel.progress=this.progress*this._dataLoadProgress,this._currentDescriotionLabel.text=null===this.data.currentDescription?"":this.data.currentDescription.substring(0,17),this._currentDescriotionLabel.y=15*this.size,this._currentDescriotionLabel.visible=1===this.size,this._currentDescriotionLabel.style.fontSize=12*this.size,this._currentTempScale.size=this.size,this._currentTempScale.progress=this.progress*this._dataLoadProgress,this._currentTempScale.visible=1===this.size,null!==this.data.currentTemperature&&(this._currentTempScale.value=Math.max(-30,Math.min(30,this.data.currentTemperature))),null!==this.data.currentTemperatureMin&&(this._currentTempScale.valueMin=Math.max(-10,Math.min(30,this.data.currentTemperatureMin))),null!==this.data.currentTemperatureMax&&(this._currentTempScale.valueMax=Math.max(-10,Math.min(30,this.data.currentTemperatureMax))),this.data.rainTime){var e=(new Date).getTime(),r=Math.round(Math.max(0,this.data.rainTime-e)/1e3),n="";n+=Math.floor(r/3600).toString().padStart(2,"0")+":",n+=(Math.floor(r/60)%60).toString().padStart(2,"0")+":",n+=(r%60).toString().padStart(2,"0"),this._rainLabel.text=r?"rain in "+n:""}else this._rainLabel.text="";this._rainLabel.visible=1===this.size,this._rainLabel.progress=this.progress*this._dataLoadProgress,this._rainLabel.size=this.size,this._rainLabel.radius=110*this.size,this._rainLabel.fontSize=11*this.size}}])&&ke(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(_t);function Ie(t){return Ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ie(t)}function Ee(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Ie(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==Ie(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===Ie(o)?o:String(o)),n)}var o}function Be(){return Be="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=De(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},Be.apply(this,arguments)}function Fe(t,e){return Fe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Fe(t,e)}function De(t){return De=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},De(t)}var Ae=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Fe(t,e)}(a,t);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=De(n);if(o){var r=De(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Ie(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,"calendar","Calendar"))._dataLoadProgress=0,t.data={lastUpdate:null,allEvents:null,todayEvents:null,todayEventsLeft:null},t._statsTitle=new A("completed\ntoday",{fontFamily:"MajorMonoDisplay-Regular",fontSize:9,fill:"#ff0000",stroke:"#ff0000",strokeThickness:.5,align:"center"}),t.addChild(t._statsTitle),t._statsLabel=new A("0/0",{fontFamily:"MajorMonoDisplay-Regular",fontSize:15,fill:"#ffffff",stroke:"#ffffff",strokeThickness:.5,align:"center"}),t.addChild(t._statsLabel),t._statusProgress=new Pt,t._statusProgress.color=16711680,t._statusProgress.lineWidth=2,t._statusProgress.rotation=Math.PI/2,t.addChild(t._statusProgress),t._nextLabel=new nt,t._nextLabel.color=16711680,t._nextMeetingLabel=new nt,t._nextLabel.alignOffset=0,t._nextMeetingLabel.alignOffset=0,t._nextLabel.positionOffset=.37*-Math.PI,t._nextLabel.fontSize=11,t._nextMeetingLabel.fontSize=11,t.addChild(t._nextMeetingLabel),t.addChild(t._nextLabel),t._meetingClock=new PIXI.Container,t.addChild(t._meetingClock),t._clockAlert=new PIXI.Graphics,t._clockAlert.beginFill(16711680),t._clockAlert.drawCircle(0,0,40),t._meetingClock.addChild(t._clockAlert),t._clockAlert.visible=!1,t._clockScale=new Jt,t._clockScale.count=60,t._clockScale.length=.1,t._meetingClock.addChild(t._clockScale),t._clockSplit=new Jt,t._clockSplit.count=6,t._clockSplit.length=.5,t._meetingClock.addChild(t._clockSplit),t._clockFrame=new Pt,t._clockFrame.value=1,t._clockFrame.lineWidth=1.5,t._meetingClock.addChild(t._clockFrame),t._clockPointer=new ee,t._meetingClock.addChild(t._clockPointer),t._clockCenter=new PIXI.Graphics,t._clockCenter.lineStyle({color:11184810,width:1}),t._clockCenter.drawCircle(0,0,10),t._clockCenter.drawCircle(0,0,1),t._clockCenter.alpha=0,t._meetingClock.addChild(t._clockCenter),t._clockTitle=new nt,t._meetingClock.addChild(t._clockTitle),t}return e=a,(r=[{key:"onMessage",value:function(t){var e=864e5*Math.floor((new Date).getTime()/864e5)+6e4*(new Date).getTimezoneOffset();this.data.allEvents=t.filter((function(t){return t.start<e+6048e5})),this.data.todayEvents=this.data.allEvents.filter((function(t){return t.start<e+864e5&&!t.allDay})),this.data.todayEventsLeft=this.data.todayEvents.filter((function(t){return t.end>=(new Date).getTime()})),this.data.lastUpdate=(new Date).getTime(),console.log(this.data)}},{key:"render",value:function(t){Be(De(a.prototype),"render",this).call(this,t),this.data.lastUpdate&&this._dataLoadProgress<1&&(this._dataLoadProgress=Math.min(1,this._dataLoadProgress+.02));var e=(new Date).getTime();if(this._statsLabel.progress=this.progress*this._dataLoadProgress,this._statsTitle.progress=this.progress*this._dataLoadProgress,this._statsLabel.y=25*this.size-120*Math.max(0,this.size-.5),this._statsTitle.y=-20*this.size-80*Math.max(0,this.size-.5),this._statusProgress.progress=this.progress*this._dataLoadProgress,this._statusProgress.size=this.size,this.data.todayEvents&&this.data.todayEventsLeft){var r=this.data.todayEvents.length-this.data.todayEventsLeft.length,n=this.data.todayEvents.length;this._statsLabel.text=r+"/"+n,this._statusProgress.value=n?r/n*.5:0}if(this.data.todayEventsLeft&&this.data.todayEventsLeft.length>0){var o=this.data.todayEvents.filter((function(t){return t.start>e}));if(o.length>0){var i=new Date(o[0].start),s=i.getHours().toString().padStart(2,"0"),c=i.getMinutes().toString().padStart(2,"0");this._nextMeetingLabel.visible=!0,this._nextMeetingLabel.radius=105*this.size+5,this._nextMeetingLabel.text="".concat(s,":").concat(c," ").concat(1===this.size?o[0].summary.substring(0,40):""),this._nextMeetingLabel.progress=this.progress*this._dataLoadProgress,this._nextMeetingLabel.positionOffset=.52*-Math.PI-.5*(1-this.size),this._nextLabel.visible=!0,this._nextLabel.radius=105*this.size+5,this._nextLabel.text="next:",this._nextLabel.progress=this.progress*this._dataLoadProgress,this._nextLabel.fontSize=7+4*this.size,this._nextMeetingLabel.fontSize=7+4*this.size}else this._nextMeetingLabel.visible=!1,this._nextLabel.visible=!1}else this._nextMeetingLabel.visible=!1,this._nextLabel.visible=!1;if(1===this.size&&this.data.todayEvents){var l=this.data.todayEvents.find((function(t){return t.start<e&&t.end>e})),u=0,f=0;l&&(f=l.end-e,u=(e-l.start)/(l.end-l.start)),this._meetingClock.visible=!0,this._meetingClock.y=40*this.size,this._clockScale.size=.4*this.size,this._clockScale.progress=this.progress*this._dataLoadProgress,this._clockSplit.size=.4*this.size,this._clockSplit.progress=this.progress*this._dataLoadProgress,this._clockFrame.size=.45*this.size,this._clockFrame.progress=this.progress*this._dataLoadProgress,this._clockPointer.size=.35,this._clockPointer.progress=this.progress*this._dataLoadProgress,this._clockCenter.alpha=this.progress*this._dataLoadProgress,this._clockTitle.radius=53,this._clockTitle.progress=this.progress*this._dataLoadProgress,this._clockTitle.text=l?"meeting clock":"no meetings now",this._clockTitle.alpha=l?1:.4,this._clockPointer.pointerRotation=2*Math.PI*u,this._clockPointer.visible=!!l,this._clockAlert.visible=!0,this._clockAlert.alpha=f>0&&f<3e5?.4*Math.sin(.01*performance.now())+.4:0,this._clockAlert.alpha*=this.progress*this._dataLoadProgress}else this._meetingClock.visible=!1,this._clockAlert.visible=!1}}])&&Ee(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(_t);function Xe(t){return Xe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xe(t)}function He(){return He="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Ye(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},He.apply(this,arguments)}function Ge(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ne(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Xe(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==Xe(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===Xe(o)?o:String(o)),n)}var o}function We(t,e,r){return e&&Ne(t.prototype,e),r&&Ne(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ue(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ve(t,e)}function Ve(t,e){return Ve=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ve(t,e)}function qe(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Ye(t);if(e){var o=Ye(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===Xe(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function Ye(t){return Ye=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ye(t)}var Je=function(t){Ue(r,PIXI.Graphics);var e=qe(r);function r(){var t;return Ge(this,r),(t=e.call(this))._completed=null,t._radius=null,t._angle=null,t.radius=50,t.angle=0,t.completed=!1,t}return We(r,[{key:"completed",get:function(){return this._completed},set:function(t){t!==this._completed&&(this._completed=t,this.clear(),this.completed?(this.lineStyle({width:2,alpha:.9,color:16777215}),this.moveTo(-4,-4),this.lineTo(4,4),this.moveTo(4,-4),this.lineTo(-4,4)):(this.lineStyle({width:1.5,alpha:.8,color:16777215}),this.beginFill(0),this.drawCircle(0,0,4)))}},{key:"radius",get:function(){return this._radius},set:function(t){this._radius=t,this._updatePos()}},{key:"angle",get:function(){return this._angle},set:function(t){this._angle=t,this._updatePos()}},{key:"_updatePos",value:function(){this.x=this._radius*Math.sin(this.angle),this.y=-this._radius*Math.cos(this.angle),this.rotation=this.angle}}]),r}(),$e=function(t){Ue(r,PIXI.Container);var e=qe(r);function r(t,n){var o,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2*Math.PI;return Ge(this,r),(o=e.call(this))._startTime=t,o._endTime=n,o._angularRange=i,o._startAngle=(2*Math.PI-i)/2,o._endAngle=o._startAngle+i,o.now=t,o.size=1,o.progress=0,o._dataVersion=0,o._lastHash="",o._dots=[],o}return We(r,[{key:"setPoints",value:function(t){var e;for(this._points=t;this._dots.length>this._points.length;)this.removeChild(this._dots.pop());for(;this._dots.length<this._points.length;)(e=new Je).visible=!1,e.angle=this._startAngle,this.addChild(e),this._dots.push(e);this._dataVersion++}},{key:"render",value:function(t){He(Ye(r.prototype),"render",this).call(this,t);var e="".concat(this._dataVersion.toFixed(0),"|").concat(this.size.toFixed(3),"|").concat(this.progress.toFixed(3),"|").concat(Math.round(this.now/1e3));if(this._lastHash!==e){this._lastHash=e;for(var n=0,o=0;o<this._dots.length;o++){var i=this._points[o]||this.now,a=this._dots[o];a.visible=!0,this._points[o]?a.completed=!0:(n++,a.completed=!1),a.alpha=this.progress;var s=(i-this._startTime)/(this._endTime-this._startTime),c=this._startAngle+this._angularRange*this.progress*s;a.completed||(c+=.15*n),a.angle=Math.max(this._startAngle,Math.min(this._endAngle,c)),a.radius=100*this.size}}}}]),r}();function Ke(t){return Ke="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ke(t)}function Qe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Ke(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==Ke(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===Ke(o)?o:String(o)),n)}var o}function Ze(){return Ze="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=er(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},Ze.apply(this,arguments)}function tr(t,e){return tr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},tr(t,e)}function er(t){return er=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},er(t)}var rr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&tr(t,e)}(a,PIXI.Container);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=er(n);if(o){var r=er(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Ke(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this)).progress=0,t.count=0,t.title="Count",t._lastHash="",t._dots=[];for(var e=0,r=0,n=42,o=1;n>0;){0===r&&(e+=8);var s=2*Math.PI*e,c=Math.floor(s/8);c=2*Math.floor(c/2);var l=e?2*Math.PI/c:0;0===r&&(r=Math.round(2*Math.PI/l),o=1);var u=t._createDot(2.4,e,o*l);u.y>0?u.y+=13.5:u.y-=13.5,t.addChild(u),t._dots.push(u),r--,n--,Math.abs(Math.sin(o*l))<.01&&n>0&&((u=t._createDot(2.4,e,o*l)).y>=0?u.y-=13.5:u.y+=13.5,t.addChild(u),t._dots.push(u),n--),o++}return t._label=new A("",{fontFamily:"MajorMonoDisplay-Regular",fontSize:11,fill:"#ffffff",stroke:"#ffffff",strokeThickness:.5,align:"center"}),t.addChild(t._label),t}return e=a,(r=[{key:"_createDot",value:function(t,e,r){var n=new PIXI.Graphics;return n.lineStyle({color:16711680,width:1.5,alpha:.4}),n.beginFill(16711680,.9),n.drawCircle(0,0,t),n.x=1.35*e*Math.cos(r),n.y=e*Math.sin(r),n}},{key:"render",value:function(t){Ze(er(a.prototype),"render",this).call(this,t);var e="".concat(this.title,"|").concat(this.count.toFixed(0),"|").concat(this.progress.toFixed(3));if(this._lastHash!==e){this._lastHash=e;for(var r=0;r<this._dots.length;r++)this._dots[r].visible=this.progress>r/this._dots.length,this._dots[r].alpha=r<this.count?1:.25;this._label.progress=this.progress,this._label.text=this.count>0?"".concat(this.title,":").concat(this.count):this.title}}}])&&Qe(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}();function nr(t){return nr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nr(t)}function or(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==nr(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==nr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===nr(o)?o:String(o)),n)}var o}function ir(){return ir="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=sr(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},ir.apply(this,arguments)}function ar(t,e){return ar=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ar(t,e)}function sr(t){return sr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},sr(t)}var cr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ar(t,e)}(a,t);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=sr(n);if(o){var r=sr(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===nr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,"todo","Tasks"))._dataLoadProgress=0,t.data={lastUpdate:null,inboxList:null,actionList:null},t._scaleLarge=new Jt,t._scaleLarge.count=8,t._scaleLarge.countMax=7,t._scaleLarge.rotation=Math.PI/4,t._scaleLarge.length=.2,t.addChild(t._scaleLarge),t._inboxFrame=new Pt,t._inboxFrame.size=.51,t._inboxFrame.value=1,t._inboxFrame.lineWidth=1,t._inboxFrame.alpha=.5,t.addChild(t._inboxFrame),t._timeScale=new xe(0,24,"h",7,1.5*Math.PI),t._timeScale.rotation=.25*Math.PI,t.addChild(t._timeScale),t._dotCluster=new rr,t._dotCluster.title="inbox",t.addChild(t._dotCluster),t._timeline=new $e(0,864e5,1.5*Math.PI),t.addChild(t._timeline),t}return e=a,(r=[{key:"onMessage",value:function(t){var e=this;this.data.lastUpdate=(new Date).getTime(),this.data.inboxList=t.inbox,this.data.actionList=t.action,this.data.todayLeft=this.data.actionList.filter((function(t){return"needsAction"===t.status})),console.log(this.data);var r=864e5*Math.floor((new Date).getTime()/864e5)+6e4*(new Date).getTimezoneOffset();this._timeline.setPoints(this.data.actionList.map((function(t){return t.completed?t.completed-r:null}))),setTimeout((function(){return e.updateData()}),3e5)}},{key:"render",value:function(t){ir(sr(a.prototype),"render",this).call(this,t);var e=864e5*Math.floor((new Date).getTime()/864e5)+6e4*(new Date).getTimezoneOffset();this.data.lastUpdate&&this._dataLoadProgress<1&&(this._dataLoadProgress=Math.min(1,this._dataLoadProgress+.02)),this._dotCluster.count=this.data.inboxList?this.data.inboxList.length:0,this._dotCluster.progress=this.progress*this._dataLoadProgress,this._timeline.progress=this.progress*this._dataLoadProgress,this._timeline.size=this.size,this._timeline.now=(new Date).getTime()-e,this._scaleLarge.progress=this.progress,this._scaleLarge.size=this.size,this._scaleLarge.visible=1===this.size,this._timeScale.progress=this.progress,this._timeScale.size=1.05*this.size,this._timeScale.value=this._timeline.now/36e5,this._timeScale.visible=1===this.size,this._inboxFrame.progress=this.progress,this._inboxFrame.visible=1===this.size}}])&&or(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(_t);function lr(t){return lr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lr(t)}function ur(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==lr(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==lr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===lr(o)?o:String(o)),n)}var o}function fr(){return fr="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=pr(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},fr.apply(this,arguments)}function hr(t,e){return hr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},hr(t,e)}function pr(t){return pr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},pr(t)}var dr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&hr(t,e)}(a,t);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=pr(n);if(o){var r=pr(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===lr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(e=i.call(this))._icon=new PIXI.Text(String.fromCharCode(t),{fontFamily:"Material Symbols Outlined",fontSize:29,fill:"#ffffff",stroke:"#ffffff",strokeThickness:.5,align:"center"}),e._icon.anchor.set(.5,.35),e.addChild(e._icon),e}return e=a,(r=[{key:"render",value:function(t){fr(pr(a.prototype),"render",this).call(this,t)}}])&&ur(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(se);function yr(t){return yr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yr(t)}function br(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==yr(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==yr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===yr(o)?o:String(o)),n)}var o}function _r(){return _r="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=vr(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},_r.apply(this,arguments)}function gr(t,e){return gr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},gr(t,e)}function vr(t){return vr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},vr(t)}var mr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&gr(t,e)}(a,PIXI.Container);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=vr(n);if(o){var r=vr(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===yr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this)).size=1,t.progress=0,t._lastHash="",t._bg=new R,t.addChild(t._bg),t._coverCanvas=new PIXI.Graphics,t._doorsCanvas=new PIXI.Graphics,t.addChild(t._coverCanvas),t.addChild(t._doorsCanvas);var e=5592405,r=function(t,e){return 0==t?0:e+t*e*.02};return t._windows=[{x1:-76,y1:r(36,-10),x2:-62,y2:r(22,-10),x3:-76,y3:r(36,20),x4:-62,y4:r(22,20)},{x1:-58,y1:r(18,-10),x2:-44,y2:r(4,-10),x3:-58,y3:r(18,20),x4:-44,y4:r(4,20)},{x1:-24,y1:-9,x2:-8,y2:-9,x3:-24,y3:20,x4:-8,y4:20},{x1:60,y1:r(20,-10),x2:44,y2:r(4,-10),x3:60,y3:r(20,20),x4:44,y4:r(4,20)},{x1:76,y1:r(36,-10),x2:60,y2:r(20,-10),x3:76,y3:r(36,20),x4:60,y4:r(20,20)}],t.covers=t._windows.map((function(){return 0})),t.doors=t._windows.map((function(){return!1})),t._coversActual=t._windows.map((function(){return 0})),t._bg.addLine(-40,-20,-40,20,1,e),t._bg.addLine(-40,-20,40,-20,1,e),t._bg.addLine(40,20,40,-20,1,e),t._bg.addLine(40,20,-40,20,1,e),t._bg.addLine(-40,-20,-80,r(40,-20),1,e),t._bg.addLine(-40,20,-80,r(40,20),1,e),t._bg.addLine(40,-20,80,r(40,-20),1,e),t._bg.addLine(40,20,80,r(40,20),1,e),t._windows.forEach((function(r){var n=r.x1,o=r.x2,i=r.x3,a=r.x4,s=r.y1,c=r.y2,l=r.y3,u=r.y4;t._bg.addLine(i,l,n,s,2,e),t._bg.addLine(a,u,o,c,2,e)})),t}return e=a,(r=[{key:"render",value:function(t){var e=this;_r(vr(a.prototype),"render",this).call(this,t),this._bg.size=this.size,this._bg.progress=this.progress;for(var r=0;r<this.covers.length;r++)this._coversActual[r]+=(this.covers[r]-this._coversActual[r])/100;var n=this._coversActual.map((function(t){return t.toFixed(3)})).join("|")+"|".concat(this.size,"|").concat(this.progress,"|")+this.doors.map((function(t){return t?1:0})).join("|");n!==this._lastHash&&(this._lastHash=n,this._coverCanvas.clear(),this._coverCanvas.beginFill(16777215),this._coverCanvas.alpha=this.progress,this._doorsCanvas.clear(),this._doorsCanvas.beginFill(16711680),this._doorsCanvas.alpha=this.progress,this._windows.forEach((function(t,r){return n=t,o=e._coversActual[r],i=n.x1,a=n.x2,s=n.x3,c=n.x4,l=n.y1,u=n.y2,f=n.y3,h=n.y4,p=(.1+.9*o)*e.progress,e._coverCanvas.moveTo(i*e.size,l*e.size),e._coverCanvas.lineTo(a*e.size,u*e.size),e._coverCanvas.lineTo(c*e.size,(h*p+u*(1-p))*e.size),void e._coverCanvas.lineTo(s*e.size,(f*p+l*(1-p))*e.size);var n,o,i,a,s,c,l,u,f,h,p})),this._windows.forEach((function(t,r){var n,o,i,a,s,c,l,u,f;e.doors[r]&&(o=(n=t).x1,i=n.x2,a=n.x3,s=n.x4,c=n.y1,l=n.y2,u=n.y3,f=n.y4,e._doorsCanvas.moveTo(o*e.size,c*e.size),e._doorsCanvas.lineTo(i*e.size,l*e.size),e._doorsCanvas.lineTo(s*e.size,f*e.size),e._doorsCanvas.lineTo(a*e.size,u*e.size))})))}}])&&br(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}();function wr(t){return wr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wr(t)}function Or(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==wr(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==wr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===wr(o)?o:String(o)),n)}var o}function Pr(){return Pr="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=jr(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},Pr.apply(this,arguments)}function Sr(t,e){return Sr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Sr(t,e)}function jr(t){return jr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},jr(t)}var xr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Sr(t,e)}(a,PIXI.Container);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=jr(n);if(o){var r=jr(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===wr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this))._chartWidth=void 0!==e.width?e.width:200,t._chartHeight=void 0!==e.height?e.height:100,t._scaleMin=void 0!==e.scaleMin?e.scaleMin:0,t._scaleMax=void 0!==e.scaleMax?e.scaleMax:100,t._tickStep=void 0!==e.tickStep?e.tickStep:10,t.progress=0,t._data=[],t._renderHash="",t._scaleLines=new R,t._scaleLabels=[];for(var r=t._chartHeight;r>=-1;r-=t._tickStep*t._chartHeight/(t._scaleMax-t._scaleMin))t._scaleLines.addLine(0,r,t._chartWidth,r,1,6710886),t._scaleLabels.push(r);return t._scaleLabels=t._scaleLabels.map((function(e,r){var n=new A(t._scaleMin+r*t._tickStep,{fontFamily:"MajorMonoDisplay-Regular",fontSize:9,fill:"#ffffff",stroke:"#ffffff",strokeThickness:.5,align:"right"});return n.anchor.set(1,.6),n.y=e,n.x=-3,t.addChild(n),n})),t.addChild(t._scaleLines),t._canvas=new PIXI.Graphics,t.addChild(t._canvas),t}return e=a,(r=[{key:"data",get:function(){return this._data},set:function(t){this._data=t}},{key:"render",value:function(t){var e=this;Pr(jr(a.prototype),"render",this).call(this,t);var r="".concat(this.progress,"|").concat(this.data.join("|"));if(this._renderHash!==r){this._renderHash=r,this._scaleLines.progress=this.progress,this._scaleLabels.forEach((function(t){return t.progress=e.progress})),this._canvas.clear();var n=this._data.length?this._chartWidth/this._data.length:0;this._canvas.beginFill(16777215,.5*this.progress);for(var o=0;o<this._data.length;o++){var i=Math.min(1,2*Math.max(0,this.progress-.5*o/this._data.length)),s=(this._data[o]-this._scaleMin)/(this._scaleMax-this._scaleMin);s=i*Math.max(0,Math.min(1,s)),this._canvas.drawRect(o*n,1-this._chartHeight*s+this._chartHeight,.66*n,this._chartHeight*s)}this._canvas.beginFill(16777215);for(var c=0;c<this._data.length;c++){var l=(this._data[c]-this._scaleMin)/(this._scaleMax-this._scaleMin);l=Math.min(1,2*Math.max(0,this.progress-.5*c/this._data.length))*Math.max(0,Math.min(1,l)),this._canvas.drawRect(c*n,1-this._chartHeight*l+this._chartHeight,.66*n,Math.min(3,this._chartHeight*l))}}}}])&&Or(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}();function Mr(t){return Mr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mr(t)}function kr(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Mr(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==Mr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===Mr(o)?o:String(o)),n)}var o}function Tr(){return Tr="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Lr(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},Tr.apply(this,arguments)}function Rr(t,e){return Rr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Rr(t,e)}function Lr(t){return Lr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Lr(t)}var Cr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Rr(t,e)}(a,PIXI.Container);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Lr(n);if(o){var r=Lr(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Mr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this)).value=0,t.progress=0,t._shape=new R,t._shape.addSequence([-11.5,-6.5,11.5,-6.5,11.5,-3.5,13.5,-3.5,13.5,3.5,11.5,3.5,11.5,6.5,-11.5,6.5,-11.5,-6.5]),t.addChild(t._shape),t._bars=Array(4).fill(1);for(var e=0;e<t._bars.length;e++){var r=18/(t._bars.length-1);t._bars[e]=new PIXI.Graphics,t._bars[e].beginFill(16777215),t._bars[e].moveTo(-9+Math.max(0,r*e-r+2),4),t._bars[e].lineTo(-9+Math.max(0,r*(e+1)-2-r+2),4),t._bars[e].lineTo(-9+Math.min(18,r*(e+1)-2),-4),t._bars[e].lineTo(r*e-9,-4),t._bars[e].lineTo(-9+Math.max(0,r*e-r+2),4),t.addChild(t._bars[e])}return t._label=new A("",{fontFamily:"MajorMonoDisplay-Regular",fontSize:8,fill:"#ffffff",stroke:"#ffffff",strokeThickness:.5,align:"left"}),t.addChild(t._label),t._label.anchor.set(0,.6),t._label.x=18,t}return e=a,(r=[{key:"render",value:function(t){this._shape.progress=this.progress;for(var e=0;e<this._bars.length;e++)this._bars[e].visible=(.1+.8*this.value)/.8*this.progress>=(e+1)/this._bars.length;this._bars[1].visible?this._bars[0].alpha=1:this._bars[0].alpha=.5+.5*Math.cos(.02*performance.now()),this._label.progress=this.progress,this._label.text=Math.round(100*this.value)+"%",Tr(Lr(a.prototype),"render",this).call(this,t)}}])&&kr(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}();function zr(t){return zr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zr(t)}function Ir(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==zr(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==zr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===zr(o)?o:String(o)),n)}var o}function Er(){return Er="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Fr(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},Er.apply(this,arguments)}function Br(t,e){return Br=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Br(t,e)}function Fr(t){return Fr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Fr(t)}var Dr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Br(t,e)}(a,PIXI.Container);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Fr(n);if(o){var r=Fr(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===zr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:59411;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),t=i.call(this);var r=new PIXI.Graphics;return t.addChild(r),r.beginFill(0,.01),r.drawCircle(0,0,25),t._icon=new PIXI.Text(String.fromCharCode(e),{fontFamily:"Material Symbols Outlined",fontSize:31,fill:"#ffffff",stroke:"#ffffff",align:"center"}),t._icon.anchor.set(.5,.35),t.addChild(t._icon),t}return e=a,(r=[{key:"render",value:function(t){Er(Fr(a.prototype),"render",this).call(this,t)}}])&&Ir(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}();function Ar(t){return Ar="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ar(t)}function Xr(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Ar(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==Ar(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===Ar(o)?o:String(o)),n)}var o}function Hr(){return Hr="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Nr(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},Hr.apply(this,arguments)}function Gr(t,e){return Gr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Gr(t,e)}function Nr(t){return Nr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Nr(t)}var Wr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Gr(t,e)}(a,PIXI.Container);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Nr(n);if(o){var r=Nr(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Ar(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this)).progress=1,t._blink=!1,t._clicker=new PIXI.Graphics,t._clicker.beginFill(0,.1),t._clicker.drawCircle(0,-10,20),t.addChild(t._clicker),t._line=new PIXI.Graphics,t._line.lineStyle({width:1,color:16777215}),t._line.moveTo(0,-20),t._line.lineTo(0,10),t._line.alpha=.35,t.addChild(t._line),t._arrow=new PIXI.Graphics,t._arrow.beginFill(16777215),t._arrow.moveTo(-10,0),t._arrow.lineTo(10,0),t._arrow.lineTo(0,-10),t.addChild(t._arrow),t.interactive=!0,t.on("pointertap",(function(){t._blink=!0})),t}return e=a,(r=[{key:"render",value:function(t){this._arrow.scale.set(this.progress),this._line.scale.y=this.progress,this._clicker.visible=1===this.progress;var e=20*(1-this.progress)+(this._blink?-25:0);this._arrow.y+=(e-this._arrow.y)/4,this._arrow.y<-20&&(this._blink=!1),Hr(Nr(a.prototype),"render",this).call(this,t)}}])&&Xr(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}();function Ur(t){return Ur="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ur(t)}function Vr(t){return function(t){if(Array.isArray(t))return qr(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return qr(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?qr(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qr(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Yr(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Ur(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==Ur(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===Ur(o)?o:String(o)),n)}var o}function Jr(){return Jr="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Kr(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},Jr.apply(this,arguments)}function $r(t,e){return $r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},$r(t,e)}function Kr(t){return Kr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Kr(t)}var Qr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$r(t,e)}(a,PIXI.Container);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Kr(n);if(o){var r=Kr(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Ur(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this)).speed=0,t.isAuto=!1,t.progress=0,t._bg=new PIXI.Graphics,t._bg.beginFill(0,.001),t._bg.drawCircle(0,0,30),t.addChild(t._bg),t._pointer=new R,t._pointer.addSequence([-60,-17,-30,-17,-10,-10],1,8947848),t.addChild(t._pointer),t._turbine=new R,t.addChild(t._turbine);for(var e=function(t,e){return[e*Math.sin(t),-e*Math.cos(t)]},r=[],n=2*Math.PI/6,o=0;o<=2*Math.PI;o+=n)r.push.apply(r,Vr(e(o,5))),r.push.apply(r,Vr(e(o+.5*n,20))),r.push.apply(r,Vr(e(o+.7*n,21))),r.push.apply(r,Vr(e(o+1.1*n,20))),r.push.apply(r,Vr(e(o+.9*n,15))),r.push.apply(r,Vr(e(o+.75*n,7)));return t._turbine.addSequence(r,2,11184810),t._frame=new Pt,t._frame.value=1,t._frame.size=.25,t.addChild(t._frame),t._speedBar=new Pt,t._speedBar.value=1,t._speedBar.size=.3,t._speedBar.color=16711680,t._speedBar.lineWidth=3,t.addChild(t._speedBar),t._label=new A("",{fontFamily:"MajorMonoDisplay-Regular",fontSize:9,fill:"#ffffff",stroke:"#ffffff",strokeThickness:.5,align:"right"}),t._label.anchor.set(1,.5),t._label.y=-25,t._label.x=-32,t.addChild(t._label),t}return e=a,(r=[{key:"render",value:function(t){Jr(Kr(a.prototype),"render",this).call(this,t),this._turbine.progress=this.progress;var e=this.isAuto?.5:this.speed;this._turbine.rotation+=.3*e,this._frame.progress=this.progress,this._speedBar.progress=this.progress*e,this._label.progress=this.progress,this._label.text=this.isAuto?"Auto":Math.round(100*this.speed)+"%",this._pointer.progress=this.progress,this._bg.visible=this.progress>0}}])&&Yr(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}();function Zr(t){return Zr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zr(t)}function tn(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Zr(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==Zr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===Zr(o)?o:String(o)),n)}var o}function en(){return en="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=nn(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},en.apply(this,arguments)}function rn(t,e){return rn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},rn(t,e)}function nn(t){return nn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},nn(t)}var on=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&rn(t,e)}(a,PIXI.Container);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=nn(n);if(o){var r=nn(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Zr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this)).progress=0,t.acMode="off",t.targetTemperature=null,t.currentTemperature=null,t.acFanSpeed=null,t.tempHistory=null,t.batteryValue=null,t._icons=new PIXI.Container,t._icons.x=-230,t.addChild(t._icons),t._autoModeIcon=new Dr(58979),t._autoModeIcon.interactive=!0,t._autoModeIcon.y=-80,t._icons.addChild(t._autoModeIcon),t._coolModeIcon=new Dr(60219),t._coolModeIcon.interactive=!0,t._coolModeIcon.y=-33,t._coolModeIcon.x=-25,t._icons.addChild(t._coolModeIcon),t._heatModeIcon=new Dr(58648),t._heatModeIcon.interactive=!0,t._heatModeIcon.y=23,t._heatModeIcon.x=-25,t._icons.addChild(t._heatModeIcon),t._offModeIcon=new Dr(59564),t._offModeIcon.interactive=!0,t._offModeIcon.y=70,t._icons.addChild(t._offModeIcon),t._offModeIcon.on("pointertap",(function(){return t.emit("acMode","off")})),t._coolModeIcon.on("pointertap",(function(){return t.emit("acMode","cool")})),t._heatModeIcon.on("pointertap",(function(){return t.emit("acMode","heat")})),t._autoModeIcon.on("pointertap",(function(){return t.emit("acMode","auto")})),t._circle=new PIXI.Container,t._circle.x=-120,t.addChild(t._circle),t._acFrame=new ut("Air Conditioning"),t._acFrame.size=.7,t._circle.addChild(t._acFrame),t._tempScale=new xe(18,26,"c",5,Math.PI),t._tempScale.rotation=.5*Math.PI,t._tempScale.size=.75,t._tempScale.valueMin=18,t._circle.addChild(t._tempScale),t._targetLabel=new A("",{fontFamily:"MajorMonoDisplay-Regular",fontSize:30,fill:"#ff0000",stroke:"#ff0000",strokeThickness:.5,align:"center"}),t._circle.addChild(t._targetLabel),t._upButton=new Wr,t._upButton.y=-35,t._circle.addChild(t._upButton),t._downButton=new Wr,t._downButton.y=35,t._downButton.rotation=Math.PI,t._circle.addChild(t._downButton),t._upButton.on("pointertap",(function(){t.emit("heatUp")})),t._downButton.on("pointertap",(function(){t.emit("coolDown")})),t._fan=new Qr,t._fan.y=-60,t._fan.x=-20,t._fan.interactive=!0,t._fan.on("pointertap",(function(){t.emit("fanToggle")})),t.addChild(t._fan),t._tempChart=new xr({width:240,height:100,scaleMin:18,scaleMax:26,tickStep:1}),t._tempChart.x=43,t._tempChart.y=-65,t.addChild(t._tempChart),t._chartLabel=new A("Room Temperature:",{fontFamily:"MajorMonoDisplay-Regular",fontSize:11,fill:"#ff0000",stroke:"#ff0000",strokeThickness:.5,align:"center"}),t._chartLabel.anchor.set(0,1),t._chartLabel.x=30,t._chartLabel.y=-80,t.addChild(t._chartLabel),t._roomTempLabel=new A("",{fontFamily:"MajorMonoDisplay-Regular",fontSize:11,fill:"#ffffff",stroke:"#ffffff",strokeThickness:.5,align:"center"}),t._roomTempLabel.anchor.set(0,1),t._roomTempLabel.x=175,t._roomTempLabel.y=-80,t.addChild(t._roomTempLabel),t._battery=new Cr,t._battery.x=235,t._battery.y=55,t.addChild(t._battery),t._batteryLabel=new A("Thermometer:",{fontFamily:"MajorMonoDisplay-Regular",fontSize:8,fill:"#ffffff",stroke:"#ffffff",strokeThickness:.5,align:"center"}),t._batteryLabel.anchor.set(1,.6),t._batteryLabel.x=220,t._batteryLabel.y=55,t.addChild(t._batteryLabel),t}return e=a,(r=[{key:"render",value:function(t){this._acFrame.progress=this.progress,this._targetLabel.progress=this.progress,this._targetLabel.text=this.targetTemperature?this.targetTemperature+"c":"off",this._tempScale.progress=this.progress,this._tempScale.value+=(Math.min(26,Math.max(18,this.targetTemperature||18))-this._tempScale.value)/10,this._tempScale.valueMax=Math.min(26,Math.max(18,this.currentTemperature||18)),this._upButton.progress=this.progress,this._downButton.progress=this.progress,this._autoModeIcon.alpha="auto"===this.acMode?1:.5,this._coolModeIcon.alpha="cool"===this.acMode?1:.5,this._heatModeIcon.alpha="heat"===this.acMode?1:.5,this._offModeIcon.alpha="off"===this.acMode?1:.5,this._icons.alpha=this.progress,this._fan.progress=this.progress,"auto"===this.acFanSpeed?this._fan.isAuto=!0:(this._fan.isAuto=!1,this._fan.speed=this.acFanSpeed||0),this._tempChart.progress=this.progress,this._tempChart.data=this.tempHistory||[],this._chartLabel.progress=this.progress,this._roomTempLabel.progress=this.progress,this._roomTempLabel.text=this.currentTemperature?this.currentTemperature+"c":"",this._battery.progress=this.progress,this._batteryLabel.progress=this.progress,this._battery.value=this.batteryValue||0,en(nn(a.prototype),"render",this).call(this,t)}}])&&tn(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}();function an(t){return an="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},an(t)}function sn(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==an(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==an(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===an(o)?o:String(o)),n)}var o}function cn(){return cn="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=un(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},cn.apply(this,arguments)}function ln(t,e){return ln=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ln(t,e)}function un(t){return un=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},un(t)}var fn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ln(t,e)}(a,PIXI.Container);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=un(n);if(o){var r=un(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===an(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(t,e){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(r=i.call(this)).y=t,r._yMin=t,r._yMax=e,r._pos=0,r._clicker=new PIXI.Graphics,r._clicker.beginFill(0,.001),r._clicker.drawCircle(0,0,25),r.addChild(r._clicker),r._canvas=new PIXI.Graphics,r._canvas.beginFill(16777215),r._canvas.lineStyle({width:2,color:0}),r._canvas.drawCircle(0,0,10),r._canvas.moveTo(5,2),r._canvas.lineTo(0,5),r._canvas.lineTo(-5,2),r._canvas.moveTo(5,-2),r._canvas.lineTo(0,-5),r._canvas.lineTo(-5,-2),r.addChild(r._canvas),r.interactive=!0,r.dragging=!1,r.offsetY=0,r.on("mousedown",(function(t){return r._startDrag(t.data.global.y)})),r.on("mousemove",(function(t){return r._updateDrag(t.data.global.y)})),r.on("mouseup",(function(t){return r._stopDrag(t.data.global.y)})),r.on("pointerdown",(function(t){return r._startDrag(t.data.global.y)})),r.on("pointermove",(function(t){return r._updateDrag(t.data.global.y)})),r.on("pointerup",(function(t){return r._stopDrag(t.data.global.y)})),r}return e=a,(r=[{key:"pos",get:function(){return this._pos},set:function(t){this._pos=t}},{key:"_boundY",value:function(t){return Math.min(this._yMax,Math.max(this._yMin,t))}},{key:"_startDrag",value:function(t){this.offsetY=t-this.y,this._clicker.scale.set(100),this.dragging=!0;var e=this.parent;e.removeChild(this),e.addChild(this)}},{key:"_updateDrag",value:function(t){this.dragging&&(this.y=this._boundY(t-this.offsetY))}},{key:"_stopDrag",value:function(t){this.dragging&&(this.y=this._boundY(t-this.offsetY),this._clicker.scale.set(1),this.dragging=!1,console.log("done"),this.emit("posChange",(this.y-this._yMin)/(this._yMax-this._yMin)))}},{key:"render",value:function(t){this.dragging||(this.y+=(this._yMin+this._pos*(this._yMax-this._yMin)-this.y)/5),cn(un(a.prototype),"render",this).call(this,t)}}])&&sn(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}();function hn(t){return hn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hn(t)}function pn(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==hn(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==hn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===hn(o)?o:String(o)),n)}var o}function dn(){return dn="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=bn(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},dn.apply(this,arguments)}function yn(t,e){return yn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},yn(t,e)}function bn(t){return bn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},bn(t)}var _n=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&yn(t,e)}(a,PIXI.Container);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=bn(n);if(o){var r=bn(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===hn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this)).progress=0,t.covers=null,t.doors=null,t._roomView=new mr,t._roomView.size=3.4,t._roomView.y=-30,t.coversBattery=null,t.doorsBattery=null,t.addChild(t._roomView),t._dragButtons=[{x:-234,yMin:-68,yMax:78},{x:-173,yMin:-58,yMax:52},{x:-55,yMin:-50,yMax:38},{x:175,yMin:-58,yMax:53},{x:230,yMin:-65,yMax:76}].map((function(e,r){var n=e.x,o=e.yMin,i=e.yMax,a=new fn(o,i);return a.x=n,t.addChild(a),a.on("posChange",(function(e){t.emit("coverChange","cover".concat(r+1),e,r)})),a})),t._coverBatteryIcons=Array(5).fill(1).map((function(e,r){var n=new Cr;return n.x=30,n.y=18*r-50,t.addChild(n),n})),t._doorBatteryIcons=Array(3).fill(1).map((function(e,r){var n=new Cr;return n.x=90,n.y=18*r-50,t.addChild(n),n})),t._batteryLabel=new A("Cover     Door",{fontFamily:"MajorMonoDisplay-Regular",fontSize:8,fill:"#ff0000",stroke:"#ff0000",strokeThickness:.5,align:"left"}),t._batteryLabel.x=58,t._batteryLabel.y=-70,t.addChild(t._batteryLabel),t._lines=new R,t.addChild(t._lines),t._lines.addSequence([10,-50,5,-50,5,-80,-138,-80,-235,-100,-235,-90],1,8947848),t._lines.addSequence([10,-32,0,-32,0,-75,-138,-75,-175,-83,-175,-78],1,8947848),t._lines.addSequence([10,-14,-20,-14],1,8947848),t._lines.addSequence([10,4,5,4,5,35,8,55,170,55],1,8947848),t._lines.addSequence([10,22,-5,22,-5,35,-11,80,228,80],1,8947848),t}return e=a,(r=[{key:"render",value:function(t){if(this._roomView.progress=this.progress,this.covers&&(this._roomView.covers=this.covers),this.doors&&(this._roomView.doors=this.doors),this.covers)for(var e=0;e<this._dragButtons.length&&e<this.covers.length;e++)this._dragButtons[e].alpha=this.progress,this._dragButtons[e].dragging||(this._dragButtons[e].pos=this.covers[e]),this._dragButtons[e].visible=!this.doors[e];for(var r=0;r<this._coverBatteryIcons.length;r++)this._coverBatteryIcons[r].progress=this.progress,this.coversBattery&&(this._coverBatteryIcons[r].value=this.coversBattery[r]);for(var n=0;n<this._doorBatteryIcons.length;n++)this._doorBatteryIcons[n].progress=this.progress,this.doorsBattery&&(this._doorBatteryIcons[n].value=this.doorsBattery[n]);this._batteryLabel.progress=this.progress,this._lines.progress=this.progress,dn(bn(a.prototype),"render",this).call(this,t)}}])&&pn(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}();function gn(t){return gn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gn(t)}function vn(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==gn(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==gn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===gn(o)?o:String(o)),n)}var o}function mn(){return mn="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=On(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},mn.apply(this,arguments)}function wn(t,e){return wn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},wn(t,e)}function On(t){return On=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},On(t)}var Pn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&wn(t,e)}(a,t);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=On(n);if(o){var r=On(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===gn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,"room","rooM"))._dataLoadProgress=0,t._acFanModes=["auto","low","medium low","medium","medium high","high"],t.data={lastUpdate:null,currentTemperature:null,targetTemperature:null,acState:null,acMode:null,covers:null,doors:null,coversBattery:null,doorsBattery:null,acFanSpeed:null,acFanMode:null,tempHistory:null,tempBattery:null},t._currentTempLabel=new A("",{fontFamily:"MajorMonoDisplay-Regular",fontSize:16,fill:"#ffffff",stroke:"#ffffff",strokeThickness:.5,align:"center"}),t.addChild(t._currentTempLabel),t._acStateLabel=new A("Off",{fontFamily:"MajorMonoDisplay-Regular",fontSize:11,fill:"#ff0000",stroke:"#ff0000",strokeThickness:1,align:"center"}),t.addChild(t._acStateLabel),t._roomView=new mr,t.addChild(t._roomView),t._buttonFrame=new R,t._buttonFrame.addLine(0,45,30,45,1,11141120),t._buttonFrame.addLine(0,45,-30,45,1,11141120),t._buttonFrame.addLine(0,60,0,45,1,11141120),t._buttonFrame.addLine(45,55,30,45,1,11141120),t._buttonFrame.addLine(-45,55,-30,45,1,11141120),t.addChild(t._buttonFrame),t._dayButton=new dr(58648),t._callButton=new dr(57419),t._nightButton=new dr(58652),t.addChild(t._dayButton),t.addChild(t._callButton),t.addChild(t._nightButton),t._dayButton.on("pointertap",(function(e){e.stopPropagation(),t.sendMessage({action:"cover",target:"cover1",value:100}),t.sendMessage({action:"cover",target:"cover2",value:100}),t.sendMessage({action:"cover",target:"cover3",value:100}),t.sendMessage({action:"cover",target:"cover4",value:100}),t.sendMessage({action:"cover",target:"cover5",value:100})})),t._callButton.on("pointertap",(function(e){e.stopPropagation(),t.sendMessage({action:"cover",target:"cover1",value:100}),t.sendMessage({action:"cover",target:"cover2",value:100}),t.sendMessage({action:"cover",target:"cover3",value:30}),t.sendMessage({action:"cover",target:"cover4",value:0}),t.sendMessage({action:"cover",target:"cover5",value:0})})),t._nightButton.on("pointertap",(function(e){e.stopPropagation(),t.sendMessage({action:"cover",target:"cover1",value:0}),t.sendMessage({action:"cover",target:"cover2",value:0}),t.sendMessage({action:"cover",target:"cover3",value:0}),t.sendMessage({action:"cover",target:"cover4",value:0}),t.sendMessage({action:"cover",target:"cover5",value:0})})),t._scenesLabel=new A("SceNes",{fontFamily:"MajorMonoDisplay-Regular",fontSize:11,fill:"#aa0000",stroke:"#aa0000",strokeThickness:.5,align:"center"}),t.addChild(t._scenesLabel),t}return e=a,(r=[{key:"createMainScreen",value:function(){var t=this,e=new K;e.title="room";var r=e.getTabButton(1),n=e.getPage(1);r.visible=!0,r.text="Climate";var o=e.getTabButton(0),i=e.getPage(0);return o.visible=!0,o.text="Covers",this._coversScreen=new _n,i.addChild(this._coversScreen),this._coversScreen.on("coverChange",(function(e,r,n){var o=Math.round(100*(1-r));t.sendMessage({action:"cover",target:e,value:o}),t.data.covers[n]=r})),this._climateScreen=new on,n.addChild(this._climateScreen),this._climateScreen.on("heatUp",(function(){null===t.data.targetTemperature?t.sendMessage({action:"acMode",value:"on"}):(t.data.targetTemperature++,t.sendMessage({action:"temperature",value:t.data.targetTemperature}))})),this._climateScreen.on("coolDown",(function(){null===t.data.targetTemperature?t.sendMessage({action:"acMode",value:"on"}):(t.data.targetTemperature--,t.sendMessage({action:"temperature",value:t.data.targetTemperature}))})),this._climateScreen.on("acMode",(function(e){"off"===e&&(t.data.targetTemperature=null),t.sendMessage({action:"acMode",value:e})})),this._climateScreen.on("fanToggle",(function(){var e=t._acFanModes.indexOf(t.data.acFanMode);if(-1!==e){var r=t._acFanModes[(e+1)%t._acFanModes.length];t.sendMessage({action:"fanMode",value:r})}})),e}},{key:"onMessage",value:function(t){for(console.log(t),this.data.lastUpdate=(new Date).getTime(),this.data.currentTemperature=Number(t.temp.state),this.data.tempBattery=Number(t.tempBattery.state/100),this.data.acState="off"===t.ac.state?"off":t.ac.attributes.temperature+"c",this.data.acMode=t.ac.state,this.data.targetTemperature="off"===t.ac.state?null:t.ac.attributes.temperature,this.data.covers=[1-t.cover1.attributes.current_position/100,1-t.cover2.attributes.current_position/100,1-t.cover3.attributes.current_position/100,1-t.cover4.attributes.current_position/100,1-t.cover5.attributes.current_position/100],this.data.doors=["off"!==t.door1.state,"off"!==t.door2.state,"off"!==t.door3.state],this.data.coversBattery=[Number(t.cover1Battery.state)/100,Number(t.cover2Battery.state)/100,Number(t.cover3Battery.state)/100,Number(t.cover4Battery.state)/100,Number(t.cover5Battery.state)/100],this.data.doorsBattery=[Number(t.door1Battery.state)/100,Number(t.door2Battery.state)/100,Number(t.door3Battery.state)/100],"off"===t.ac.state?(this.data.acFanSpeed=0,this.data.acFanMode="off"):"auto"===t.ac.attributes.fan_mode?(this.data.acFanSpeed="auto",this.data.acFanMode="auto"):(this.data.acFanSpeed=this._acFanModes.indexOf(t.ac.attributes.fan_mode)/(this._acFanModes.length-1),this.data.acFanMode=t.ac.attributes.fan_mode),this.data.tempHistory=t.temp.history.map(Number)||[],this.data.tempHistory.push(Number(t.temp.state));this.data.tempHistory.length>48;)this.data.tempHistory.shift();console.log(this.data)}},{key:"render",value:function(t){mn(On(a.prototype),"render",this).call(this,t),this.data.lastUpdate&&this._dataLoadProgress<1&&(this._dataLoadProgress=Math.min(1,this._dataLoadProgress+.02)),this._currentTempLabel.progress=this.progress*this._dataLoadProgress,this._currentTempLabel.text=null===this.data.currentTemperature?"":Math.round(this.data.currentTemperature)+"c",this._climateScreen.targetTemperature=this.data.targetTemperature,this._climateScreen.currentTemperature=this.data.currentTemperature,this._climateScreen.acMode=this.data.acMode,this._currentTempLabel.y=-60*this.size,this._currentTempLabel.style.fontSize=8*this.size+7,this._acStateLabel.progress=this.progress*this._dataLoadProgress,this._acStateLabel.text=this.data.acState||"",1===this.size?(this._acStateLabel.y=-40*this.size,this._acStateLabel.style.fontSize=8*this.size+3):(this._acStateLabel.y=60*this.size,this._acStateLabel.style.fontSize=8*this.size+7),this._roomView.size=this.size,this._roomView.progress=this.progress*this._dataLoadProgress,this.data.covers&&(this._roomView.covers=this.data.covers,this._coversScreen.covers=this.data.covers),this.data.doors&&(this._roomView.doors=this.data.doors,this._coversScreen.doors=this.data.doors),this.data.coversBattery&&(this._coversScreen.coversBattery=this.data.coversBattery),this.data.doorsBattery&&(this._coversScreen.doorsBattery=this.data.doorsBattery),this._dayButton.x=-100*this.size*Math.cos(.25*Math.PI),this._dayButton.y=100*this.size*Math.sin(.25*Math.PI),this._callButton.x=-100*this.size*Math.cos(.5*Math.PI),this._callButton.y=100*this.size*Math.sin(.5*Math.PI)-10*this.size,this._nightButton.x=-100*this.size*Math.cos(.75*Math.PI),this._nightButton.y=100*this.size*Math.sin(.75*Math.PI),this._dayButton.visible=1===this.size,this._callButton.visible=1===this.size,this._nightButton.visible=1===this.size,this._dayButton.scale.set(this.progress*this._dataLoadProgress),this._callButton.scale.set(this.progress*this._dataLoadProgress),this._nightButton.scale.set(this.progress*this._dataLoadProgress),this._buttonFrame.size=this.size,this._buttonFrame.progress=this.progress,this._buttonFrame.visible=1===this.size,this._scenesLabel.progress=this.progress,this._scenesLabel.y=35,this._scenesLabel.visible=1===this.size,this._climateScreen&&this.main&&(this._climateScreen.progress=this.main.progress),this._coversScreen&&this.main&&(this._coversScreen.progress=this.main.progress),this._climateScreen.acFanSpeed=this.data.acFanSpeed,this._climateScreen.tempHistory=this.data.tempHistory,this._climateScreen.batteryValue=this.data.tempBattery}}])&&vn(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(_t);function Sn(t){return Sn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sn(t)}function jn(){jn=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,r){return t[e]=r}}function l(t,e,r,o){var i=e&&e.prototype instanceof h?e:h,a=Object.create(i.prototype),s=new j(o||[]);return n(a,"_invoke",{value:w(t,r,s)}),a}function u(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=l;var f={};function h(){}function p(){}function d(){}var y={};c(y,i,(function(){return this}));var b=Object.getPrototypeOf,_=b&&b(b(x([])));_&&_!==e&&r.call(_,i)&&(y=_);var g=d.prototype=h.prototype=Object.create(y);function v(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function m(t,e){function o(n,i,a,s){var c=u(t[n],t,i);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==Sn(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,a,s)}),(function(t){o("throw",t,a,s)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return o("throw",t,a,s)}))}s(c.arg)}var i;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return i=i?i.then(n,n):n()}})}function w(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var s=O(a,r);if(s){if(s===f)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=u(t,e,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg)}}}function O(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,O(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var o=u(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,f;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function P(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function S(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function j(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(P,this),this.reset(!0)}function x(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:M}}function M(){return{value:void 0,done:!0}}return p.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:p,configurable:!0}),p.displayName=c(d,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,s,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},v(m.prototype),c(m.prototype,a,(function(){return this})),t.AsyncIterator=m,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new m(l(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},v(g),c(g,s,"Generator"),c(g,i,(function(){return this})),c(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=x,j.prototype={constructor:j,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var s=r.call(i,"catchLoc"),c=r.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),S(r),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;S(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:x(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},t}function xn(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function Mn(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){xn(i,n,o,a,s,"next",t)}function s(t){xn(i,n,o,a,s,"throw",t)}a(void 0)}))}}Mn(jn().mark((function t(){var e,r,n,o,i;return jn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=function(){return(r=Mn(jn().mark((function t(e){var r;return jn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=new(O())(e),t.next=3,r.load();case 3:console.log(e+" has loaded.");case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)},e=function(t){return r.apply(this,arguments)},t.next=4,e("weathericons-regular-webfont");case 4:return t.next=6,e("MajorMonoDisplay-Regular");case 6:return t.next=8,e("Material Symbols Outlined");case 8:n=io(),o=new PIXI.Application({width:1480,height:320,antialias:!1,useContextAlpha:!1}),document.body.appendChild(o.view),i=new m,o.stage.addChild(i),[new Ft,new Pn,new ve,new cr,new Ae,new ze].forEach((function(t){i.addWidget(t),t.on("service",(function(t){n.emit("service",t)}))})),n.on("connect",(function(){i.online=!0})),n.on("disconnect",(function(){i.online=!1})),n.on("widget",(function(t){var e=t.widgetId,r=t.payload;i.routeMessage(e,r)})),n.on("distance",function(){var t=Mn(jn().mark((function t(e){return jn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:console.log(e),"goSleep"===e.action?i.goSleep():"wakeUp"===e.action&&i.wakeUp();case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),n.on("config",(function(t){for(var e=t.widgets,r=0,n=Object.keys(e);r<n.length;r++){var o=n[r];i.routeConfig(o,e[o])}}));case 20:case"end":return t.stop()}}),t)})))()})()})();