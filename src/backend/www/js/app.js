/*! For license information please see app.js.LICENSE.txt */
(()=>{var t={347:t=>{!function(){function e(t,e){document.addEventListener?t.addEventListener("scroll",e,!1):t.attachEvent("scroll",e)}function r(t){this.g=document.createElement("div"),this.g.setAttribute("aria-hidden","true"),this.g.appendChild(document.createTextNode(t)),this.h=document.createElement("span"),this.i=document.createElement("span"),this.m=document.createElement("span"),this.j=document.createElement("span"),this.l=-1,this.h.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.i.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.j.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.m.style.cssText="display:inline-block;width:200%;height:200%;font-size:16px;max-width:none;",this.h.appendChild(this.m),this.i.appendChild(this.j),this.g.appendChild(this.h),this.g.appendChild(this.i)}function n(t,e){t.g.style.cssText="max-width:none;min-width:20px;min-height:20px;display:inline-block;overflow:hidden;position:absolute;width:auto;margin:0;padding:0;top:-999px;white-space:nowrap;font-synthesis:none;font:"+e+";"}function o(t){var e=t.g.offsetWidth,r=e+100;return t.j.style.width=r+"px",t.i.scrollLeft=r,t.h.scrollLeft=t.h.scrollWidth+100,t.l!==e&&(t.l=e,!0)}function i(t,r){function n(){var t=i;o(t)&&null!==t.g.parentNode&&r(t.l)}var i=t;e(t.h,n),e(t.i,n),o(t)}function a(t,e,r){e=e||{},r=r||window,this.family=t,this.style=e.style||"normal",this.weight=e.weight||"normal",this.stretch=e.stretch||"normal",this.context=r}var s=null,l=null,c=null,u=null;function f(t){return null===u&&(u=!!t.document.fonts),u}function p(t,e){var r=t.style,n=t.weight;if(null===c){var o=document.createElement("div");try{o.style.font="condensed 100px sans-serif"}catch(t){}c=""!==o.style.font}return[r,n,c?t.stretch:"","100px",e].join(" ")}a.prototype.load=function(t,e){var o=this,a=t||"BESbswy",c=0,u=e||3e3,h=(new Date).getTime();return new Promise((function(t,e){if(f(o.context)&&!function(t){return null===l&&(f(t)&&/Apple/.test(window.navigator.vendor)?(t=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))(?:\.([0-9]+))/.exec(window.navigator.userAgent),l=!!t&&603>parseInt(t[1],10)):l=!1),l}(o.context)){var d=new Promise((function(t,e){!function r(){(new Date).getTime()-h>=u?e(Error(u+"ms timeout exceeded")):o.context.document.fonts.load(p(o,'"'+o.family+'"'),a).then((function(e){1<=e.length?t():setTimeout(r,25)}),e)}()})),y=new Promise((function(t,e){c=setTimeout((function(){e(Error(u+"ms timeout exceeded"))}),u)}));Promise.race([y,d]).then((function(){clearTimeout(c),t(o)}),e)}else!function(t){document.body?t():document.addEventListener?document.addEventListener("DOMContentLoaded",(function e(){document.removeEventListener("DOMContentLoaded",e),t()})):document.attachEvent("onreadystatechange",(function e(){"interactive"!=document.readyState&&"complete"!=document.readyState||(document.detachEvent("onreadystatechange",e),t())}))}((function(){function l(){var e;(e=-1!=_&&-1!=b||-1!=_&&-1!=m||-1!=b&&-1!=m)&&((e=_!=b&&_!=m&&b!=m)||(null===s&&(e=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent),s=!!e&&(536>parseInt(e[1],10)||536===parseInt(e[1],10)&&11>=parseInt(e[2],10))),e=s&&(_==g&&b==g&&m==g||_==v&&b==v&&m==v||_==w&&b==w&&m==w)),e=!e),e&&(null!==O.parentNode&&O.parentNode.removeChild(O),clearTimeout(c),t(o))}var f=new r(a),d=new r(a),y=new r(a),_=-1,b=-1,m=-1,g=-1,v=-1,w=-1,O=document.createElement("div");O.dir="ltr",n(f,p(o,"sans-serif")),n(d,p(o,"serif")),n(y,p(o,"monospace")),O.appendChild(f.g),O.appendChild(d.g),O.appendChild(y.g),o.context.document.body.appendChild(O),g=f.g.offsetWidth,v=d.g.offsetWidth,w=y.g.offsetWidth,function t(){if((new Date).getTime()-h>=u)null!==O.parentNode&&O.parentNode.removeChild(O),e(Error(u+"ms timeout exceeded"));else{var r=o.context.document.hidden;!0!==r&&void 0!==r||(_=f.g.offsetWidth,b=d.g.offsetWidth,m=y.g.offsetWidth,l()),c=setTimeout(t,50)}}(),i(f,(function(t){_=t,l()})),n(f,p(o,'"'+o.family+'",sans-serif')),i(d,(function(t){b=t,l()})),n(d,p(o,'"'+o.family+'",serif')),i(y,(function(t){m=t,l()})),n(y,p(o,'"'+o.family+'",monospace'))}))}))},t.exports=a}()}},e={};function r(n){var o=e[n];if(void 0!==o)return o.exports;var i=e[n]={exports:{}};return t[n](i,i.exports,r),i.exports}r.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return r.d(e,{a:e}),e},r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{"use strict";function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}function e(e,r){for(var n=0;n<r.length;n++){var o=r[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,(void 0,i=function(e,r){if("object"!==t(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,"string");if("object"!==t(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(o.key),"symbol"===t(i)?i:String(i)),o)}var i}function n(){return n="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=i(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},n.apply(this,arguments)}function o(t,e){return o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},o(t,e)}function i(t){return i=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},i(t)}var a=function(r){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&o(t,e)}(f,PIXI.Container);var a,s,l,c,u=(l=f,c=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var e,r=i(l);if(c){var n=i(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,r){if(r&&("object"===t(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(e)}(this,e)});function f(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,f),(t=u.call(this))._label=new PIXI.Text("",{fontFamily:"MajorMonoDisplay-Regular",fontSize:15,fill:"#ff0000",stroke:"#ff0000",strokeThickness:1.5,align:"center"}),t._label.anchor.set(0,.5),t.addChild(t._label),t._text="",t._clearTime=0,t.emptyText="",t}return a=f,(s=[{key:"text",set:function(t){this._text=String(t),this._clearTime=100}},{key:"render",value:function(t){n(i(f.prototype),"render",this).call(this,t);var e,r,o,a,s,l,c=this._label.text;if(this._text===c){if(this._clearTime>0)return void this._clearTime--;this._text=this.emptyText}this._text.length>this._label.text.length?c+="qwertyuiopasdfghjklzxcvbnmQWERTYUIOPASDFGHJKLZXCVBNM"[Math.floor(52*Math.random())]:this._text.length<c.length&&(c=c.substring(0,this._label.text.length-1)),c=c.split("");for(var u=0;u<c.length;u++)c[u]!==this._text[u]&&(c[u]=(e=c[u],r=this._text[u],void 0,void 0,a=void 0,s=void 0,l=void 0,s=(a=String(r).charCodeAt(0)-(o=String(e).charCodeAt(0)))>0?1:-1,(l=o+(s*=(a=Math.abs(a))>20?10:1))>126&&(l=32),l<32&&(l=126),String.fromCharCode(l)));this._label.text=c.join("")}}])&&e(a.prototype,s),Object.defineProperty(a,"prototype",{writable:!1}),f}();function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function l(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==s(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==s(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===s(o)?o:String(o)),n)}var o}function c(){return c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=f(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},c.apply(this,arguments)}function u(t,e){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},u(t,e)}function f(t){return f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},f(t)}var p=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&u(t,e)}(a,PIXI.Container);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=f(n);if(o){var r=f(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===s(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this))._clicker=new PIXI.Graphics,t._clicker.beginFill(0),t._clicker.drawCircle(0,0,40),t._clicker.beginFill(16711680),t._clicker.drawCircle(0,0,4),t.addChild(t._clicker),t.interactive=!0,t.pulse=!0,t}return e=a,(r=[{key:"render",value:function(t){c(f(a.prototype),"render",this).call(this,t),this.pulse?this.alpha=.6+.4*Math.sin(.01*performance.now()):this.alpha=1}}])&&l(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}();function h(t){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},h(t)}function d(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==h(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==h(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===h(o)?o:String(o)),n)}var o}function y(){return y="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=b(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},y.apply(this,arguments)}function _(t,e){return _=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},_(t,e)}function b(t){return b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},b(t)}var m=["hi","hello","hey there","what's up?","howdy","greetings","what's going on?","how's everything?","good to see you","nice to see you","what's new?","look who it is?","yo!","hello my friend","good day"],g=["bye, bye...","see ya!","goodbye","have a nice day","take care","cheers","keep in touch","have fun","have a good one","ciao","adios","peace out","catch you later","take it easy"],v=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_(t,e)}(s,PIXI.Container);var e,r,n,o,i=(n=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=b(n);if(o){var r=b(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===h(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function s(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),(t=i.call(this))._slots=[{index:0,x:810,y:165,size:1},{index:1,x:1080,y:155,size:1},{index:2,x:1265,y:100,size:.5},{index:3,x:1265,y:220,size:.5},{index:4,x:1400,y:100,size:.5},{index:5,x:1400,y:220,size:.5}],t._widgets={},t._widgetList=[],t._sleep=!localStorage.getItem("isAwake"),t._online=!1,t._sleepToggle=new p,t._sleepToggle.x=30,t._sleepToggle.y=300,t.addChild(t._sleepToggle),t._sleepToggle.on("pointertap",(function(){t._sleep=!t._sleep,t._sleep?t.goSleep():t.wakeUp()})),t._infoMessage=new a,t._infoMessage.x=55,t._infoMessage.y=298,t.addChild(t._infoMessage),t}return e=s,(r=[{key:"infoMessage",get:function(){return this._infoMessage}},{key:"goSleep",value:function(){this._sleep=!0,this._infoMessage.text=g[Math.floor(Math.random()*g.length)],localStorage.removeItem("isAwake")}},{key:"wakeUp",value:function(){this._sleep=!1,this._infoMessage.text=m[Math.floor(Math.random()*m.length)],localStorage.setItem("isAwake",!0)}},{key:"online",get:function(){return this._online},set:function(t){this._online=t,this._sleepToggle.pulse=!t}},{key:"routeMessage",value:function(t,e){this._widgets[t].onMessage(e)}},{key:"routeConfig",value:function(t,e){this._widgets[t].onConfig(e)}},{key:"addWidget",value:function(t){var e=this,r=this._widgetList.length;this._widgetList.push(t),this._widgets[t.id]=t,t.x=this._slots[r].x,t.y=this._slots[r].y,t.index=this._slots[r].index,t.size=this._slots[r].size,this.addChild(t),t.main.x=350,t.main.y=160,0===r&&this.addChild(t.main),t.on("activate",(function(){return e._activate(t)}))}},{key:"_activate",value:function(t){var e=t,r=this._widgetList.indexOf(t);0===r&&(r=1,e=this._widgetList[r]),this._widgetList[r]=this._widgetList[0],this._widgetList[0]=e,this.addChild(e.main),this._widgetList[0].moveTo(this._slots[0]),this._widgetList[r].moveTo(this._slots[r])}},{key:"render",value:function(t){for(var e=0;e<this._widgetList.length;e++){var r=this._widgetList[e];this._sleep?r.progress=Math.max(0,r.progress-.08):r.progress=Math.min(1,r.progress+.08)}this._sleepToggle.pulse&&(this._infoMessage.text="conNecting..."),y(b(s.prototype),"render",this).call(this,t)}}])&&d(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),s}(),w=r(347),O=r.n(w);function P(t){return P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},P(t)}function S(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function j(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?S(Object(r),!0).forEach((function(e){k(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):S(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function k(t,e,r){return(e=T(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function x(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,T(n.key),n)}}function T(t){var e=function(t,e){if("object"!==P(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==P(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===P(e)?e:String(e)}var M=function(){function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._listeners={};var r=(new Date).getTime(),n=36e5,o=24*n;this._pomodoroData={widgetId:"pomodoro",payload:{history:[r-n,r-o,r-o,r-o,r-o,r-3*o,r-3*o,r-3*o,r-3*o,r-3*o,r-3*o,r-3*o,r-3*o,r-3*o,r-3*o,r-4*o,r-4*o,r-6*o,r-6*o,r-6*o]}},this._roomData={widgetId:"room",payload:{ac:{entity_id:"climate.klimatyzator",state:"off",attributes:{hvac_modes:["auto","cool","dry","fan_only","heat","off"],min_temp:8,max_temp:30,target_temp_step:1,fan_modes:["auto","low","medium low","medium","medium high","high"],preset_modes:["eco","away","boost","none","sleep"],swing_modes:["off","vertical","horizontal","both"],current_temperature:22,temperature:21,fan_mode:"auto",preset_mode:"none",swing_mode:"off",friendly_name:"Klimatyzator",supported_features:57},context:{id:"01H2E0ZAPPD6FGTVAJPSC1DQBA",parent_id:null,user_id:null},last_changed:"2023-06-08T17:27:34.509Z",last_updated:"2023-06-08T17:30:52.502Z",id:"ac"},door1:{entity_id:"binary_sensor.lumi_lumi_sensor_magnet_aq2_opening",state:"off",attributes:{device_class:"opening",friendly_name:"Poddasze / Sypialnia Glowna / Drzwi Front Lewe Opening"},context:{id:"01H2E15CFJF2M1XNWW4GMP2ZNE",parent_id:null,user_id:null},last_changed:"2023-06-08T17:34:10.930Z",last_updated:"2023-06-08T17:34:10.930Z",id:"door1"},door2:{entity_id:"binary_sensor.lumi_lumi_sensor_magnet_aq2_opening_2",state:"off",attributes:{device_class:"opening",friendly_name:"Poddasze / Sypialnia Glowna / Drzwi Front Prawe Opening"},context:{id:"01H2DGW4FH1E5F27YMD4VG3XTG",parent_id:null,user_id:null},last_changed:"2023-06-08T12:49:30.609Z",last_updated:"2023-06-08T12:49:30.609Z",id:"door2"},door3:{entity_id:"binary_sensor.lumi_lumi_sensor_magnet_aq2_opening_3",state:"off",attributes:{device_class:"opening",friendly_name:"Poddasze / Sypialnia Glowna / Drzwi Boczne Opening"},context:{id:"01H28CGGE1YC619EWSZ7NNKH8V",parent_id:null,user_id:null},last_changed:"2023-06-06T12:57:03.169Z",last_updated:"2023-06-06T12:57:03.169Z",id:"door3"},cover3:{entity_id:"cover.lumi_lumi_curtain_acn002_cover",state:"open",attributes:{current_position:100,friendly_name:"Poddasze / Sypialnia Glowna / Roleta Boczna Cover",supported_features:15},context:{id:"01H2E0SSZ2NA27BB3JAKN53TTF",parent_id:null,user_id:null},last_changed:"2023-06-08T17:27:51.522Z",last_updated:"2023-06-08T17:27:51.522Z",id:"cover3"},cover1:{entity_id:"cover.poddasze_sypialnia_glowna_roleta_front_lewa_cover",state:"opening",attributes:{current_position:100,friendly_name:"Poddasze / Sypialnia Glowna / Roleta Front Lewa Cover",supported_features:15},context:{id:"01H2E0S6PS0S0WR3AJXY7SZDA1",parent_id:null,user_id:"6eca4b5cd6b0476f9a8271d7d30d855d"},last_changed:"2023-06-08T17:27:32.390Z",last_updated:"2023-06-08T17:27:32.390Z",id:"cover1"},cover2:{entity_id:"cover.poddasze_sypialnia_glowna_roleta_front_prawa_cover",state:"open",attributes:{current_position:100,friendly_name:"Poddasze / Sypialnia Glowna / Roleta Front Prawa Cover",supported_features:15},context:{id:"01H2E0SSWDB2Q2X8FX55XDTJTV",parent_id:null,user_id:null},last_changed:"2023-06-08T17:27:51.437Z",last_updated:"2023-06-08T17:27:51.437Z",id:"cover2"},cover5:{entity_id:"cover.lumi_lumi_curtain_acn002_cover_3",state:"open",attributes:{current_position:100,friendly_name:"Poddasze / Sypialnia Glowna / Roleta Ogrod Prawa Cover",supported_features:15},context:{id:"01H2E0T9MV1KY67JHQSRZ3ASAK",parent_id:null,user_id:null},last_changed:"2023-06-08T17:28:07.579Z",last_updated:"2023-06-08T17:28:07.579Z",id:"cover5"},cover4:{entity_id:"cover.lumi_lumi_curtain_acn002_cover_4",state:"open",attributes:{current_position:100,friendly_name:"Poddasze / Sypialnia Glowna / Roleta Ogrod Lewa Cover",supported_features:15},context:{id:"01H2E0T9GT4BS99A2KGQK87NVV",parent_id:null,user_id:null},last_changed:"2023-06-08T17:28:07.450Z",last_updated:"2023-06-08T17:28:07.450Z",id:"cover4"},cover3Battery:{entity_id:"sensor.lumi_lumi_curtain_acn002_battery",state:"50",attributes:{state_class:"measurement",unit_of_measurement:"%",device_class:"battery",friendly_name:"Poddasze / Sypialnia Glowna / Roleta Boczna Battery"},context:{id:"01H2E11PSD03FQTJR9QK7G293K",parent_id:null,user_id:null},last_changed:"2023-06-08T17:32:10.413Z",last_updated:"2023-06-08T17:32:10.413Z",id:"cover3Battery"},tempBattery:{entity_id:"sensor.poddasze_sypialnia_glowna_termometr_battery",state:"89",attributes:{state_class:"measurement",battery_voltage:3,unit_of_measurement:"%",device_class:"battery",friendly_name:"Poddasze / Sypialnia Glowna / Termometr Battery"},context:{id:"01H1NGX7GMP6YDST6MS3S0S6MB",parent_id:null,user_id:null},last_changed:"2023-05-30T05:08:20.116Z",last_updated:"2023-05-30T05:08:20.116Z",id:"tempBattery"},temp:{entity_id:"sensor.poddasze_sypialnia_glowna_termometr_temperature",state:"23.1",attributes:{state_class:"measurement",unit_of_measurement:"°C",device_class:"temperature",friendly_name:"Poddasze / Sypialnia Glowna / Termometr Temperature"},context:{id:"01H2DZY4G69PCB2DVX3K4CQ8H3",parent_id:null,user_id:null},last_changed:"2023-06-08T17:12:44.806Z",last_updated:"2023-06-08T17:12:44.806Z",id:"temp",history:["23.1"]},cover1Battery:{entity_id:"sensor.poddasze_sypialnia_glowna_roleta_front_lewa_battery",state:"61",attributes:{state_class:"measurement",unit_of_measurement:"%",device_class:"battery",friendly_name:"Poddasze / Sypialnia Glowna / Roleta Front Lewa Battery"},context:{id:"01H2DH95EXZ0JD2WQKQN2A0KZQ",parent_id:null,user_id:null},last_changed:"2023-06-08T12:56:37.597Z",last_updated:"2023-06-08T12:56:37.597Z",id:"cover1Battery"},cover2Battery:{entity_id:"sensor.poddasze_sypialnia_glowna_roleta_front_prawa_battery",state:"55",attributes:{state_class:"measurement",unit_of_measurement:"%",device_class:"battery",friendly_name:"Poddasze / Sypialnia Glowna / Roleta Front Prawa Battery"},context:{id:"01H2E17GBQVQV5HT6S9F3RMGA2",parent_id:null,user_id:null},last_changed:"2023-06-08T17:35:20.439Z",last_updated:"2023-06-08T17:35:20.439Z",id:"cover2Battery"},cover5Battery:{entity_id:"sensor.lumi_lumi_curtain_acn002_battery_3",state:"54",attributes:{state_class:"measurement",unit_of_measurement:"%",device_class:"battery",friendly_name:"Poddasze / Sypialnia Glowna / Roleta Ogrod Prawa Battery"},context:{id:"01H2DCHV6005Q4998P37HM7SWK",parent_id:null,user_id:null},last_changed:"2023-06-08T11:33:59.104Z",last_updated:"2023-06-08T11:33:59.104Z",id:"cover5Battery"},cover4Battery:{entity_id:"sensor.lumi_lumi_curtain_acn002_battery_4",state:"67",attributes:{state_class:"measurement",unit_of_measurement:"%",device_class:"battery",friendly_name:"Poddasze / Sypialnia Glowna / Roleta Ogrod Lewa Battery"},context:{id:"01H2DZBDWW86RDFCS4ASEK7PD2",parent_id:null,user_id:null},last_changed:"2023-06-08T17:02:31.836Z",last_updated:"2023-06-08T17:02:31.836Z",id:"cover4Battery"},door1Battery:{entity_id:"sensor.lumi_lumi_sensor_magnet_aq2_battery",state:"73",attributes:{state_class:"measurement",battery_size:"CR1632",battery_quantity:1,battery_voltage:3.02,unit_of_measurement:"%",device_class:"battery",friendly_name:"Poddasze / Sypialnia Glowna / Drzwi Front Lewe Battery"},context:{id:"01H2DZ7F0SQZ81HT00Y4N1WCPN",parent_id:null,user_id:null},last_changed:"2023-06-08T17:00:21.913Z",last_updated:"2023-06-08T17:00:21.913Z",id:"door1Battery"},door2Battery:{entity_id:"sensor.lumi_lumi_sensor_magnet_aq2_battery_2",state:"16",attributes:{state_class:"measurement",battery_size:"CR1632",battery_quantity:1,battery_voltage:2.98,unit_of_measurement:"%",device_class:"battery",friendly_name:"Poddasze / Sypialnia Glowna / Drzwi Front Prawe Battery"},context:{id:"01H22JCTYXH5839H824YXNZ8HB",parent_id:null,user_id:null},last_changed:"2023-06-04T06:44:27.741Z",last_updated:"2023-06-04T06:44:27.741Z",id:"door2Battery"},door3Battery:{entity_id:"sensor.lumi_lumi_sensor_magnet_aq2_battery_3",state:"70",attributes:{state_class:"measurement",battery_size:"CR1632",battery_quantity:1,battery_voltage:3.01,unit_of_measurement:"%",device_class:"battery",friendly_name:"Poddasze / Sypialnia Glowna / Drzwi Boczne Battery"},context:{id:"01H2DYT2SJCQWVNGGGNARGSMAA",parent_id:null,user_id:null},last_changed:"2023-06-08T16:53:03.410Z",last_updated:"2023-06-08T16:53:03.410Z",id:"door3Battery"}}},this._roomData.payload.temp.history=["22.4","22.4","22.4","22.4","22.4","22.4","22.4","22.4","22.4","22.4","22.4","22.4","22.4","22.4","22.4","24.0","24.0","23.3","23.4","23.4","23.4","23.4","23.4","23.4","23.4","23.4","23.4","23.4","23.4","23.4","23.4","23.4","23.1","23.1","23.1","24.0","24.1","23.6","23.6","23.5","23.5","23.5","23.4","23.4","23.4","23.3","23.1","23.0"],this._todoData={widgetId:"todo",payload:{inbox:[{id:"34645645643563456",title:"inbox item 1",position:"00000000000000000000",status:"needsAction",completed:null,due:null},{id:"93823723423452345",title:"inbox item 2",position:"00000000000000000001",status:"needsAction",completed:null,due:null}],action:[{id:"7645375467457645674567",title:"check emails",position:"00000000000000000000",status:"completed",completed:r-108e5,due:null},{id:"345634563475643652345",title:"review project timeline",position:"00000000000000000001",status:(new Date).getHours()>12?"completed":"needsAction",completed:(new Date).getHours()>12?r-18e6:null,due:null},{id:"754745674567543456",title:"schedule dentist appointment",position:"00000000000000000006",status:"needsAction",completed:null,due:null},{id:"74567457453456343456",title:"complete financial report",position:"00000000000000000009",status:"needsAction",completed:null,due:null},{id:"8928377200011234",title:"call rob",position:"00000000000000000010",status:"needsAction",completed:null,due:null}]}},setTimeout((function(){e._publish("connect"),e._publish("config",e._getConfig()),e._publish("widget",e._getWeatherData()),e._publish("widget",e._getTodoData()),e._publish("widget",e._getCalendarData()),e._publish("widget",e._getRoomData()),e._publish("widget",e._getPomodoroData())}),500),setTimeout((function(){e._publish("distance",{distance:15,sensorDataAge:33,action:"wakeUp"})}),1e3)}var e,r;return e=t,r=[{key:"_publish",value:function(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];this._listeners[t]||(this._listeners[t]=[]),this._listeners[t].forEach((function(t){return t.apply(void 0,r)}))}},{key:"_getRoomData",value:function(){return this._roomData}},{key:"_getPomodoroData",value:function(){return this._pomodoroData}},{key:"_getCalendarData",value:function(){var t=1e3*Math.floor((new Date).getTime()/36e5)*60*60;return{widgetId:"calendar",payload:[{id:"822245245",summary:"Product launch discussion",start:t-198e5,end:t-18e6,allDay:!1},{id:"63472245612",summary:"Stand-up",start:t-108e5,end:t-72e5,allDay:!1},{id:"345634563456345634",summary:"Project kickoff meeting",start:t,end:t+54e5,allDay:!1},{id:"6573456754633",summary:"Marketing strategy brainstorm",start:t+72e5,end:t+9e6,allDay:!1},{id:"567345673",summary:"Weekly team sync",start:t+108e5,end:t+117e5,allDay:!1}]}}},{key:"_getTodoData",value:function(){return this._todoData}},{key:"_getWeatherData",value:function(){var t=Math.round((new Date).getTime()/1e3),e={widgetId:"weather",payload:{current:{coord:{lon:19.9369,lat:50.0619},weather:[{id:802,main:"Clouds",description:"scattered clouds",icon:"03d"}],base:"stations",main:{temp:21.63,feels_like:21.55,temp_min:17.54,temp_max:22.1,pressure:1015,humidity:65},visibility:1e4,wind:{speed:6.17,deg:70},clouds:{all:40},dt:1686238399,sys:{type:2,id:2009211,country:"PL",sunrise:1686191531,sunset:1686249992},timezone:7200,id:3085041,name:"Śródmieście",cod:200},forecast:{cod:"200",message:0,cnt:40,list:[{dt:1686247200,main:{temp:20.11,feels_like:20.11,temp_min:17.07,temp_max:20.11,pressure:1015,sea_level:1015,grnd_level:988,humidity:74,temp_kf:3.04},weather:[{id:500,main:"Rain",description:"light rain",icon:"10d"}],clouds:{all:58},wind:{speed:2.43,deg:65,gust:4.87},visibility:1e4,pop:.59,rain:{"3h":.81},sys:{pod:"d"},dt_txt:"2023-06-08 18:00:00"},{dt:1686258e3,main:{temp:16.98,feels_like:16.98,temp_min:14.66,temp_max:16.98,pressure:1015,sea_level:1015,grnd_level:989,humidity:86,temp_kf:2.32},weather:[{id:803,main:"Clouds",description:"broken clouds",icon:"04n"}],clouds:{all:67},wind:{speed:2.03,deg:64,gust:3.25},visibility:1e4,pop:.36,sys:{pod:"n"},dt_txt:"2023-06-08 21:00:00"},{dt:1686268800,main:{temp:14.12,feels_like:14.15,temp_min:14.12,temp_max:14.12,pressure:1014,sea_level:1014,grnd_level:988,humidity:98,temp_kf:0},weather:[{id:500,main:"Rain",description:"light rain",icon:"10n"}],clouds:{all:84},wind:{speed:2.22,deg:54,gust:3.97},visibility:1e4,pop:.51,rain:{"3h":.34},sys:{pod:"n"},dt_txt:"2023-06-09 00:00:00"},{dt:1686279600,main:{temp:14.81,feels_like:14.93,temp_min:14.81,temp_max:14.81,pressure:1013,sea_level:1013,grnd_level:987,humidity:99,temp_kf:0},weather:[{id:500,main:"Rain",description:"light rain",icon:"10d"}],clouds:{all:99},wind:{speed:2.42,deg:63,gust:6.43},visibility:4044,pop:.83,rain:{"3h":2.49},sys:{pod:"d"},dt_txt:"2023-06-09 03:00:00"},{dt:1686290400,main:{temp:15.92,feels_like:16.07,temp_min:15.92,temp_max:15.92,pressure:1014,sea_level:1014,grnd_level:988,humidity:96,temp_kf:0},weather:[{id:500,main:"Rain",description:"light rain",icon:"10d"}],clouds:{all:100},wind:{speed:2.96,deg:62,gust:4.5},visibility:1e4,pop:.86,rain:{"3h":1.53},sys:{pod:"d"},dt_txt:"2023-06-09 06:00:00"},{dt:1686301200,main:{temp:17.48,feels_like:17.63,temp_min:17.48,temp_max:17.48,pressure:1014,sea_level:1014,grnd_level:988,humidity:90,temp_kf:0},weather:[{id:500,main:"Rain",description:"light rain",icon:"10d"}],clouds:{all:100},wind:{speed:3.2,deg:65,gust:4.01},visibility:1e4,pop:.61,rain:{"3h":.15},sys:{pod:"d"},dt_txt:"2023-06-09 09:00:00"},{dt:1686312e3,main:{temp:19.24,feels_like:19.39,temp_min:19.24,temp_max:19.24,pressure:1013,sea_level:1013,grnd_level:988,humidity:83,temp_kf:0},weather:[{id:500,main:"Rain",description:"light rain",icon:"10d"}],clouds:{all:100},wind:{speed:2.06,deg:81,gust:2.68},visibility:1e4,pop:.91,rain:{"3h":.62},sys:{pod:"d"},dt_txt:"2023-06-09 12:00:00"},{dt:1686322800,main:{temp:18.46,feels_like:18.74,temp_min:18.46,temp_max:18.46,pressure:1013,sea_level:1013,grnd_level:987,humidity:91,temp_kf:0},weather:[{id:501,main:"Rain",description:"moderate rain",icon:"10d"}],clouds:{all:100},wind:{speed:2.2,deg:58,gust:3.42},visibility:1e4,pop:1,rain:{"3h":3.02},sys:{pod:"d"},dt_txt:"2023-06-09 15:00:00"},{dt:1686333600,main:{temp:16.31,feels_like:16.48,temp_min:16.31,temp_max:16.31,pressure:1013,sea_level:1013,grnd_level:987,humidity:95,temp_kf:0},weather:[{id:500,main:"Rain",description:"light rain",icon:"10d"}],clouds:{all:99},wind:{speed:2.01,deg:53,gust:3.58},visibility:1e4,pop:1,rain:{"3h":1.62},sys:{pod:"d"},dt_txt:"2023-06-09 18:00:00"},{dt:1686344400,main:{temp:15.2,feels_like:15.23,temp_min:15.2,temp_max:15.2,pressure:1013,sea_level:1013,grnd_level:987,humidity:94,temp_kf:0},weather:[{id:804,main:"Clouds",description:"overcast clouds",icon:"04n"}],clouds:{all:99},wind:{speed:1.19,deg:71,gust:1.34},visibility:1e4,pop:.24,sys:{pod:"n"},dt_txt:"2023-06-09 21:00:00"},{dt:1686355200,main:{temp:15.03,feels_like:15.1,temp_min:15.03,temp_max:15.03,pressure:1013,sea_level:1013,grnd_level:987,humidity:96,temp_kf:0},weather:[{id:500,main:"Rain",description:"light rain",icon:"10n"}],clouds:{all:99},wind:{speed:1.7,deg:51,gust:2.3},visibility:1e4,pop:.34,rain:{"3h":.16},sys:{pod:"n"},dt_txt:"2023-06-10 00:00:00"},{dt:1686366e3,main:{temp:14.23,feels_like:14.27,temp_min:14.23,temp_max:14.23,pressure:1013,sea_level:1013,grnd_level:988,humidity:98,temp_kf:0},weather:[{id:804,main:"Clouds",description:"overcast clouds",icon:"04d"}],clouds:{all:97},wind:{speed:2.43,deg:52,gust:5.21},visibility:1e4,pop:.13,sys:{pod:"d"},dt_txt:"2023-06-10 03:00:00"},{dt:1686376800,main:{temp:15.61,feels_like:15.76,temp_min:15.61,temp_max:15.61,pressure:1014,sea_level:1014,grnd_level:988,humidity:97,temp_kf:0},weather:[{id:500,main:"Rain",description:"light rain",icon:"10d"}],clouds:{all:98},wind:{speed:3.33,deg:54,gust:6.22},visibility:5352,pop:.22,rain:{"3h":.17},sys:{pod:"d"},dt_txt:"2023-06-10 06:00:00"},{dt:1686387600,main:{temp:15.88,feels_like:16.06,temp_min:15.88,temp_max:15.88,pressure:1015,sea_level:1015,grnd_level:989,humidity:97,temp_kf:0},weather:[{id:500,main:"Rain",description:"light rain",icon:"10d"}],clouds:{all:100},wind:{speed:3.53,deg:38,gust:6.81},visibility:1e4,pop:.9,rain:{"3h":.73},sys:{pod:"d"},dt_txt:"2023-06-10 09:00:00"},{dt:1686398400,main:{temp:16.94,feels_like:17.14,temp_min:16.94,temp_max:16.94,pressure:1015,sea_level:1015,grnd_level:989,humidity:94,temp_kf:0},weather:[{id:500,main:"Rain",description:"light rain",icon:"10d"}],clouds:{all:100},wind:{speed:5.89,deg:44,gust:8.97},visibility:1e4,pop:1,rain:{"3h":1.24},sys:{pod:"d"},dt_txt:"2023-06-10 12:00:00"},{dt:1686409200,main:{temp:15.3,feels_like:15.39,temp_min:15.3,temp_max:15.3,pressure:1015,sea_level:1015,grnd_level:989,humidity:96,temp_kf:0},weather:[{id:500,main:"Rain",description:"light rain",icon:"10d"}],clouds:{all:99},wind:{speed:6.12,deg:49,gust:10.79},visibility:1e4,pop:.65,rain:{"3h":.32},sys:{pod:"d"},dt_txt:"2023-06-10 15:00:00"},{dt:168642e4,main:{temp:13.94,feels_like:13.92,temp_min:13.94,temp_max:13.94,pressure:1017,sea_level:1017,grnd_level:990,humidity:97,temp_kf:0},weather:[{id:500,main:"Rain",description:"light rain",icon:"10d"}],clouds:{all:100},wind:{speed:5.9,deg:57,gust:11.94},visibility:8495,pop:.83,rain:{"3h":.61},sys:{pod:"d"},dt_txt:"2023-06-10 18:00:00"},{dt:1686430800,main:{temp:13.57,feels_like:13.52,temp_min:13.57,temp_max:13.57,pressure:1018,sea_level:1018,grnd_level:991,humidity:97,temp_kf:0},weather:[{id:500,main:"Rain",description:"light rain",icon:"10n"}],clouds:{all:100},wind:{speed:5.77,deg:54,gust:11.54},visibility:1e4,pop:.69,rain:{"3h":1.13},sys:{pod:"n"},dt_txt:"2023-06-10 21:00:00"},{dt:1686441600,main:{temp:12.76,feels_like:12.65,temp_min:12.76,temp_max:12.76,pressure:1018,sea_level:1018,grnd_level:992,humidity:98,temp_kf:0},weather:[{id:500,main:"Rain",description:"light rain",icon:"10n"}],clouds:{all:100},wind:{speed:5.24,deg:50,gust:11.06},visibility:1e4,pop:.66,rain:{"3h":.6},sys:{pod:"n"},dt_txt:"2023-06-11 00:00:00"},{dt:1686452400,main:{temp:11.44,feels_like:11.12,temp_min:11.44,temp_max:11.44,pressure:1019,sea_level:1019,grnd_level:992,humidity:95,temp_kf:0},weather:[{id:500,main:"Rain",description:"light rain",icon:"10d"}],clouds:{all:100},wind:{speed:4.69,deg:41,gust:10.25},visibility:1e4,pop:.44,rain:{"3h":.33},sys:{pod:"d"},dt_txt:"2023-06-11 03:00:00"},{dt:1686463200,main:{temp:11.82,feels_like:11.36,temp_min:11.82,temp_max:11.82,pressure:1020,sea_level:1020,grnd_level:993,humidity:88,temp_kf:0},weather:[{id:804,main:"Clouds",description:"overcast clouds",icon:"04d"}],clouds:{all:98},wind:{speed:4.64,deg:52,gust:10.09},visibility:1e4,pop:.4,sys:{pod:"d"},dt_txt:"2023-06-11 06:00:00"},{dt:1686474e3,main:{temp:11.47,feels_like:11.1,temp_min:11.47,temp_max:11.47,pressure:1021,sea_level:1021,grnd_level:995,humidity:93,temp_kf:0},weather:[{id:500,main:"Rain",description:"light rain",icon:"10d"}],clouds:{all:99},wind:{speed:3.77,deg:65,gust:10.13},visibility:1e4,pop:.31,rain:{"3h":.36},sys:{pod:"d"},dt_txt:"2023-06-11 09:00:00"},{dt:1686484800,main:{temp:15.1,feels_like:14.78,temp_min:15.1,temp_max:15.1,pressure:1020,sea_level:1020,grnd_level:994,humidity:81,temp_kf:0},weather:[{id:500,main:"Rain",description:"light rain",icon:"10d"}],clouds:{all:98},wind:{speed:4.73,deg:72,gust:8.73},visibility:1e4,pop:.34,rain:{"3h":.17},sys:{pod:"d"},dt_txt:"2023-06-11 12:00:00"},{dt:1686495600,main:{temp:14.35,feels_like:14.11,temp_min:14.35,temp_max:14.35,pressure:1021,sea_level:1021,grnd_level:995,humidity:87,temp_kf:0},weather:[{id:500,main:"Rain",description:"light rain",icon:"10d"}],clouds:{all:82},wind:{speed:6.04,deg:85,gust:9.48},visibility:1e4,pop:.74,rain:{"3h":.98},sys:{pod:"d"},dt_txt:"2023-06-11 15:00:00"},{dt:1686506400,main:{temp:11.85,feels_like:11.49,temp_min:11.85,temp_max:11.85,pressure:1022,sea_level:1022,grnd_level:995,humidity:92,temp_kf:0},weather:[{id:500,main:"Rain",description:"light rain",icon:"10d"}],clouds:{all:83},wind:{speed:3.54,deg:68,gust:9.97},visibility:1e4,pop:.7,rain:{"3h":.24},sys:{pod:"d"},dt_txt:"2023-06-11 18:00:00"},{dt:1686517200,main:{temp:11.08,feels_like:10.67,temp_min:11.08,temp_max:11.08,pressure:1021,sea_level:1021,grnd_level:995,humidity:93,temp_kf:0},weather:[{id:803,main:"Clouds",description:"broken clouds",icon:"04n"}],clouds:{all:79},wind:{speed:4.13,deg:52,gust:10.57},visibility:1e4,pop:.09,sys:{pod:"n"},dt_txt:"2023-06-11 21:00:00"},{dt:1686528e3,main:{temp:10.37,feels_like:9.73,temp_min:10.37,temp_max:10.37,pressure:1021,sea_level:1021,grnd_level:994,humidity:87,temp_kf:0},weather:[{id:804,main:"Clouds",description:"overcast clouds",icon:"04n"}],clouds:{all:89},wind:{speed:4.08,deg:45,gust:8.71},visibility:1e4,pop:.12,sys:{pod:"n"},dt_txt:"2023-06-12 00:00:00"},{dt:1686538800,main:{temp:9.65,feels_like:7.45,temp_min:9.65,temp_max:9.65,pressure:1019,sea_level:1019,grnd_level:993,humidity:94,temp_kf:0},weather:[{id:500,main:"Rain",description:"light rain",icon:"10d"}],clouds:{all:100},wind:{speed:4.27,deg:30,gust:8.65},visibility:1e4,pop:.42,rain:{"3h":.23},sys:{pod:"d"},dt_txt:"2023-06-12 03:00:00"},{dt:1686549600,main:{temp:9.6,feels_like:7.67,temp_min:9.6,temp_max:9.6,pressure:1019,sea_level:1019,grnd_level:992,humidity:97,temp_kf:0},weather:[{id:500,main:"Rain",description:"light rain",icon:"10d"}],clouds:{all:100},wind:{speed:3.67,deg:23,gust:7.45},visibility:1e4,pop:.65,rain:{"3h":.36},sys:{pod:"d"},dt_txt:"2023-06-12 06:00:00"},{dt:1686560400,main:{temp:10.17,feels_like:9.75,temp_min:10.17,temp_max:10.17,pressure:1018,sea_level:1018,grnd_level:992,humidity:96,temp_kf:0},weather:[{id:500,main:"Rain",description:"light rain",icon:"10d"}],clouds:{all:100},wind:{speed:3,deg:24,gust:5.29},visibility:1e4,pop:.87,rain:{"3h":.46},sys:{pod:"d"},dt_txt:"2023-06-12 09:00:00"},{dt:1686571200,main:{temp:11.2,feels_like:10.75,temp_min:11.2,temp_max:11.2,pressure:1018,sea_level:1018,grnd_level:991,humidity:91,temp_kf:0},weather:[{id:500,main:"Rain",description:"light rain",icon:"10d"}],clouds:{all:100},wind:{speed:2.04,deg:35,gust:2.52},visibility:1e4,pop:.79,rain:{"3h":.36},sys:{pod:"d"},dt_txt:"2023-06-12 12:00:00"},{dt:1686582e3,main:{temp:11.87,feels_like:11.41,temp_min:11.87,temp_max:11.87,pressure:1017,sea_level:1017,grnd_level:991,humidity:88,temp_kf:0},weather:[{id:500,main:"Rain",description:"light rain",icon:"10d"}],clouds:{all:100},wind:{speed:1.15,deg:26,gust:1.33},visibility:1e4,pop:.25,rain:{"3h":.13},sys:{pod:"d"},dt_txt:"2023-06-12 15:00:00"},{dt:1686592800,main:{temp:11.76,feels_like:11.37,temp_min:11.76,temp_max:11.76,pressure:1017,sea_level:1017,grnd_level:991,humidity:91,temp_kf:0},weather:[{id:804,main:"Clouds",description:"overcast clouds",icon:"04d"}],clouds:{all:100},wind:{speed:.24,deg:321,gust:.43},visibility:1e4,pop:0,sys:{pod:"d"},dt_txt:"2023-06-12 18:00:00"},{dt:1686603600,main:{temp:9.04,feels_like:9.04,temp_min:9.04,temp_max:9.04,pressure:1017,sea_level:1017,grnd_level:991,humidity:95,temp_kf:0},weather:[{id:803,main:"Clouds",description:"broken clouds",icon:"04n"}],clouds:{all:62},wind:{speed:1.28,deg:91,gust:1.36},visibility:1e4,pop:0,sys:{pod:"n"},dt_txt:"2023-06-12 21:00:00"},{dt:1686614400,main:{temp:7.74,feels_like:7.17,temp_min:7.74,temp_max:7.74,pressure:1017,sea_level:1017,grnd_level:990,humidity:96,temp_kf:0},weather:[{id:802,main:"Clouds",description:"scattered clouds",icon:"03n"}],clouds:{all:31},wind:{speed:1.42,deg:90,gust:1.44},visibility:1e4,pop:0,sys:{pod:"n"},dt_txt:"2023-06-13 00:00:00"},{dt:1686625200,main:{temp:7.4,feels_like:6.42,temp_min:7.4,temp_max:7.4,pressure:1016,sea_level:1016,grnd_level:990,humidity:97,temp_kf:0},weather:[{id:800,main:"Clear",description:"clear sky",icon:"01d"}],clouds:{all:5},wind:{speed:1.74,deg:93,gust:1.84},visibility:1e4,pop:0,sys:{pod:"d"},dt_txt:"2023-06-13 03:00:00"},{dt:1686636e3,main:{temp:12.78,feels_like:12.36,temp_min:12.78,temp_max:12.78,pressure:1016,sea_level:1016,grnd_level:990,humidity:86,temp_kf:0},weather:[{id:801,main:"Clouds",description:"few clouds",icon:"02d"}],clouds:{all:11},wind:{speed:2.77,deg:95,gust:3.59},visibility:1e4,pop:0,sys:{pod:"d"},dt_txt:"2023-06-13 06:00:00"},{dt:1686646800,main:{temp:18.29,feels_like:17.95,temp_min:18.29,temp_max:18.29,pressure:1015,sea_level:1015,grnd_level:989,humidity:68,temp_kf:0},weather:[{id:803,main:"Clouds",description:"broken clouds",icon:"04d"}],clouds:{all:65},wind:{speed:3.01,deg:100,gust:3.63},visibility:1e4,pop:0,sys:{pod:"d"},dt_txt:"2023-06-13 09:00:00"},{dt:1686657600,main:{temp:21.34,feels_like:21.15,temp_min:21.34,temp_max:21.34,pressure:1014,sea_level:1014,grnd_level:988,humidity:62,temp_kf:0},weather:[{id:803,main:"Clouds",description:"broken clouds",icon:"04d"}],clouds:{all:54},wind:{speed:4.12,deg:63,gust:4.04},visibility:1e4,pop:0,sys:{pod:"d"},dt_txt:"2023-06-13 12:00:00"},{dt:1686668400,main:{temp:19.27,feels_like:19.34,temp_min:19.27,temp_max:19.27,pressure:1014,sea_level:1014,grnd_level:988,humidity:80,temp_kf:0},weather:[{id:500,main:"Rain",description:"light rain",icon:"10d"}],clouds:{all:98},wind:{speed:5.33,deg:71,gust:7.71},visibility:1e4,pop:.58,rain:{"3h":.49},sys:{pod:"d"},dt_txt:"2023-06-13 15:00:00"}],city:{id:3085041,name:"Śródmieście",coord:{lat:50.0619,lon:19.9369},country:"PL",population:0,timezone:7200,sunrise:1686191531,sunset:1686249992}}}};return e.payload.current.dt=t,e.payload.forecast.list=e.payload.forecast.list.map((function(e,r){var n=3600*Math.floor((t+10800*(r+1))/3600);return j(j({},e),{},{dt:n,dt_txt:new Date(1e3*n).toISOString()})})),e}},{key:"_getConfig",value:function(){return{widgets:{dateTime:{countdown:{name:"Vacations",date:new Date(864e5*Math.floor(((new Date).getTime()+14688e5)/864e5)).toISOString()},timezones:[{id:"europe/warsaw",name:"Kraków"},{id:"america/new_york",name:"New York"},{id:"america/los_angeles",name:"Los Angeles"},{id:"asia/tokyo",name:"Tokyo"}]}}}}},{key:"on",value:function(t,e){this._listeners[t]||(this._listeners[t]=[]),this._listeners[t].push(e)}},{key:"emit",value:function(t,e){var r=e.serviceId,n=e.payload;"todo"===r&&"completeNextAction"===n.action?(this._todoData.payload.action=this._todoData.payload.action.map((function(t){return t.id!==n.id?t:j(j({},t),{},{status:"completed",completed:(new Date).getTime()})})),this._publish("widget",this._getTodoData())):"todo"===r&&"uncompleteNextAction"===n.action?(this._todoData.payload.action=this._todoData.payload.action.map((function(t){return t.id!==n.id?t:j(j({},t),{},{status:"needsAction",completed:null})})),this._publish("widget",this._getTodoData())):"room"===r&&"acMode"===n.action&&"on"===n.value?(this._roomData.payload.ac.state="cool",this._publish("widget",this._getRoomData())):"room"===r&&"acMode"===n.action?(this._roomData.payload.ac.state=n.value,this._publish("widget",this._getRoomData())):"room"===r&&"fanMode"===n.action?(this._roomData.payload.ac.attributes.fan_mode=n.value,this._publish("widget",this._getRoomData())):"room"===r&&"cover"===n.action?(this._roomData.payload[n.target].attributes.current_position=n.value,this._publish("widget",this._getRoomData())):"pomodoro"===r&&"pomodoroDone"===n.action&&(this._pomodoroData.payload.history.push((new Date).getTime()),this._publish("widget",this._getPomodoroData()))}}],r&&x(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function R(t){return R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},R(t)}function C(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return L(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?L(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw i}}}}function L(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function z(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==R(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==R(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===R(o)?o:String(o)),n)}var o}function I(){return I="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=E(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},I.apply(this,arguments)}function D(t,e){return D=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},D(t,e)}function E(t){return E=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},E(t)}var B=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&D(t,e)}(a,PIXI.Container);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=E(n);if(o){var r=E(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===R(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this)).size=1,t.progress=0,t._canvas=new PIXI.Graphics,t.addChild(t._canvas),t._linesChanged=!1,t._lastHash="",t._lineGroups=[],t._lines={},t}return e=a,r=[{key:"clear",value:function(){this._lineGroups=[],this._lines={},this._lastHash="",this._canvas.clear(),this._linesChanged=!0}},{key:"addLine",value:function(t,e,r,n){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:16777215,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:1,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:1;this._linesChanged=!0;var c="".concat(o.toFixed(1),"|").concat(i.toString(16),"|").concat(a.toFixed(2));this._lineGroups.push(c),this._lines[c]||(this._lines[c]={width:o,color:i,alpha:a,children:[]}),this._lines[c].children.push({x1:t,x2:r,y1:e,y2:n,startTime:s,endTime:l})}},{key:"addSequence",value:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:16777215,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,a=0,s=2;s<t.length;s+=2){var l=t[s]-t[s-2],c=t[s+1]-t[s-1];a+=Math.sqrt(l*l+c*c)}for(var u=0,f=2;f<t.length;f+=2){var p=t[f]-t[f-2],h=t[f+1]-t[f-1],d=u+Math.sqrt(p*p+h*h)/a;this.addLine(t[f-2],t[f-1],t[f],t[f+1],e,r,n,o+u*(i-o),o+d*(i-o)),u=d}}},{key:"render",value:function(t){var e="".concat(this.size.toFixed(3),"|").concat(this.progress.toFixed(3));if(e===this._lastHash&&!this._linesChanged)return this._canvas.cacheAsBitmap=!0,void I(E(a.prototype),"render",this).call(this,t);this._canvas.cacheAsBitmap=!1,I(E(a.prototype),"render",this).call(this,t),this._lastHash=e,this._linesChanged=!1,this._canvas.clear();var r,n=C(this._lineGroups);try{for(n.s();!(r=n.n()).done;){var o=r.value,i=this._lines[o];this._canvas.lineStyle({width:i.width,alpha:i.alpha,color:i.color});var s,l=C(i.children);try{for(l.s();!(s=l.n()).done;){var c=s.value;this._canvas.moveTo(c.x1*this.size,c.y1*this.size);var u=Math.min(1,Math.max(0,this.progress-c.startTime)/(c.endTime-c.startTime));this._canvas.lineTo((c.x1+(c.x2-c.x1)*u)*this.size,(c.y1+(c.y2-c.y1)*u)*this.size)}}catch(t){l.e(t)}finally{l.f()}}}catch(t){n.e(t)}finally{n.f()}}}],r&&z(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}();function F(t){return F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},F(t)}function A(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,H(n.key),n)}}function X(t,e,r,n){return X="undefined"!=typeof Reflect&&Reflect.set?Reflect.set:function(t,e,r,n){var o,i=N(t,e);if(i){if((o=Object.getOwnPropertyDescriptor(i,e)).set)return o.set.call(n,r),!0;if(!o.writable)return!1}if(o=Object.getOwnPropertyDescriptor(n,e)){if(!o.writable)return!1;o.value=r,Object.defineProperty(n,e,o)}else!function(t,e,r){(e=H(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}(n,e,r);return!0},X(t,e,r,n)}function H(t){var e=function(t,e){if("object"!==F(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==F(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===F(e)?e:String(e)}function G(){return G="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=N(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},G.apply(this,arguments)}function N(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=W(t)););return t}function V(t,e){return V=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},V(t,e)}function W(t){return W=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},W(t)}var Z=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&V(t,e)}(a,PIXI.Text);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=W(n);if(o){var r=W(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===F(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(t,e){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(r=i.call(this,"",e))._progress=0,r._origText=String(t),r.anchor.set(.5),r}return e=a,(r=[{key:"progress",get:function(){return this._progress},set:function(t){this._progress=t}},{key:"text",get:function(){return this._origText},set:function(t){this._origText=String(t)}},{key:"render",value:function(t){G(W(a.prototype),"render",this).call(this,t),function(t,e,r,n,o){if(!X(t,"text",r,n||t))throw new TypeError("failed to set property")}(W(a.prototype),0,this._origText.substr(0,Math.round(this._progress*this._origText.length)),this)}}])&&A(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}();function q(t){return q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},q(t)}function Y(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==q(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==q(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===q(o)?o:String(o)),n)}var o}function U(){return U="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=J(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},U.apply(this,arguments)}function K(t,e){return K=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},K(t,e)}function J(t){return J=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},J(t)}var Q=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&K(t,e)}(a,PIXI.Container);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=J(n);if(o){var r=J(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===q(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this)).progress=0,t._active=!1,t._blackFill=new PIXI.Graphics,t.addChild(t._blackFill),t._blackFill.beginFill(0),t._blackFill.moveTo(-45,-20),t._blackFill.lineTo(45,-20),t._blackFill.lineTo(65,0),t._blackFill.lineTo(45,20),t._blackFill.lineTo(-45,20),t._blackFill.lineTo(-65,0),t._blackFill.lineTo(-45,-20),t._refFill=new PIXI.Graphics,t.addChild(t._refFill),t._refFill.beginFill(16711680),t._refFill.moveTo(-45,-20),t._refFill.lineTo(45,-20),t._refFill.lineTo(65,0),t._refFill.lineTo(45,20),t._refFill.lineTo(-45,20),t._refFill.lineTo(-65,0),t._refFill.lineTo(-45,-20),t._refFill.alpha=0,t._frame=new B,t.addChild(t._frame),t._frame.addSequence([-45,-20,45,-20,65,0,45,20,-45,20,-65,0,-45,-20],2,16777215),t._frame.addSequence([-43,-17,43,-17,60,0,43,17,-43,17,-60,0,-43,-17],1,16777215),t._label=new Z(e,{fontFamily:"MajorMonoDisplay-Regular",fontSize:11,fill:"#ffffff",stroke:"#ffffff",strokeThickness:.5,align:"center"}),t.addChild(t._label),t.interactive=!0,t.on("pointertap",(function(){t._active||t.emit("activate")})),t}return e=a,(r=[{key:"active",get:function(){return this._active},set:function(t){this._active=t}},{key:"text",get:function(){return this._label.text},set:function(t){this._label.text=t}},{key:"render",value:function(t){this._frame.progress=this.progress,this._blackFill.alpha=this.progress,this._refFill.alpha+=((this._active?this.progress:0)-this._refFill.alpha)/7,this._label.progress=this.progress,this._label.style.stroke=this._active?0:16777215,this._label.style.fill=this._active?0:16777215,U(J(a.prototype),"render",this).call(this,t)}}])&&Y(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}();function $(t){return $="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$(t)}function tt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==$(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==$(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===$(o)?o:String(o)),n)}var o}function et(){return et="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=nt(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},et.apply(this,arguments)}function rt(t,e){return rt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},rt(t,e)}function nt(t){return nt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},nt(t)}var ot=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&rt(t,e)}(a,PIXI.Container);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=nt(n);if(o){var r=nt(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===$(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this)).progress=0,t.statusLeftText=null,t.statusRightText=null,t._frame=new B,t._frame.addSequence([295,-90,295,120,-295,120,-295,-90,295,-90],1,16777215,.1),t._frame.addLine(90,-120,-90,-120,3,16777215,1,.5),t._frame.addSequence([455,-110,455,-120,280,-120,280,-100,300,-80,260,-80,245,-95,150,-95,125,-120,-125,-120,-150,-95,-245,-95,-260,-80,-300,-80,-280,-100,-280,-120]),t._frame.addSequence([330,0,300,0,300,120,265,120,250,105,150,105,125,130,25,130,0,105,-245,105,-260,90,-300,90,-300,115,-280,115]),t._frame.addSequence([125,-120,100,-95,90,-95,85,-100,-85,-100,-90,-95,-100,-95,-125,-120],1,16777215,1,.4,1),t._frame.addLine(-300,-60,-300,60,1,16777215,1,.5),t._frame.addSequence([330,-20,300,-20,300,-60,350,-60],1,16777215,1,0,.5),t.addChild(t._frame),t._titleLabel=new Z(">> widget <<",{fontFamily:"MajorMonoDisplay-Regular",fontSize:11,fill:"#ff0000",stroke:"#ff0000",strokeThickness:1.5,align:"center"}),t._titleLabel.y=-111,t.addChild(t._titleLabel),t._statusLeftLabel=new Z("1234567890",{fontFamily:"MajorMonoDisplay-Regular",fontSize:8,fill:"#ffffff",stroke:"#ffffff",strokeThickness:.5,align:"center"}),t._statusLeftLabel.alpha=.4,t._statusLeftLabel.x=-210,t._statusLeftLabel.y=-111,t.addChild(t._statusLeftLabel),t._statusRightLabel=new Z("1234567890",{fontFamily:"MajorMonoDisplay-Regular",fontSize:8,fill:"#ffffff",stroke:"#ffffff",strokeThickness:.5,align:"center"}),t._statusRightLabel.alpha=.4,t._statusRightLabel.x=210,t._statusRightLabel.y=-111,t.addChild(t._statusRightLabel),t._tabButtons=[],t._tabButtons[0]=new Q,t._tabButtons[0].x=200,t._tabButtons[0].y=130,t._tabButtons[1]=new Q,t._tabButtons[1].x=75,t._tabButtons[1].y=103,t._tabButtons[2]=new Q,t._tabButtons[2].x=-50,t._tabButtons[2].y=130,t._tabButtons.forEach((function(e,r){t.addChild(e),e.on("activate",(function(){return t.activateTab(r)})),e.visible=!1})),t._pages=[new PIXI.Container,new PIXI.Container,new PIXI.Container],t._pages.forEach((function(t){return t.y=10})),t._page=null,t.activateTab(0),t}return e=a,(r=[{key:"activateTab",value:function(t){this._tabButtons.forEach((function(e,r){return e.active=r===t})),this._page&&this.removeChild(this._page),this._page=this._pages[t],this.addChildAt(this._page,0)}},{key:"getPage",value:function(t){return this._pages[t]}},{key:"getTabButton",value:function(t){return this._tabButtons[t]}},{key:"title",get:function(){return this._titleLabel.text},set:function(t){this._titleLabel.text=t}},{key:"render",value:function(t){var e=this;et(nt(a.prototype),"render",this).call(this,t),this._frame.progress=this.progress,this._titleLabel.progress=Math.max(0,2*this.progress-.5),this._statusLeftLabel.progress=this.progress,this._statusRightLabel.progress=this.progress,this._statusLeftLabel.text=null!==this.statusLeftText?this.statusLeftText:"0x"+(837231*Math.round(1e3*performance.now())%0xffffffffff).toString(16).padStart(10,"X"),this._statusRightLabel.text=null!==this.statusRightText?this.statusRightText:"0x"+(837231*Math.round(1e3*performance.now())%0xffffffffff).toString(16).padStart(10,"X"),this._tabButtons.forEach((function(t){t.progress=e.progress}))}}])&&tt(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}();function it(t){return it="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},it(t)}function at(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==it(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==it(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===it(o)?o:String(o)),n)}var o}function st(){return st="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=ct(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},st.apply(this,arguments)}function lt(t,e){return lt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},lt(t,e)}function ct(t){return ct=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ct(t)}var ut=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&lt(t,e)}(a,PIXI.Container);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=ct(n);if(o){var r=ct(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===it(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this))._progress=0,t._size=1,t._text="",t._fontSize=10,t._chars=[],t._radius=100,t._alignOffset=.5,t._positionOffset=0,t._updated=!0,t._color=16777215,t}return e=a,(r=[{key:"progress",get:function(){return this._progress},set:function(t){this._updated=this._updated||this._progress!==t,this._updated&&(this.cacheAsBitmap=!1),this._progress=t}},{key:"size",get:function(){return this._size},set:function(t){this._updated=this._updated||this._size!==t,this._updated&&(this.cacheAsBitmap=!1),this._size=t}},{key:"text",get:function(){return this._text},set:function(t){var e=String(t);this._updated=this._updated||this._text!==e,this._updated&&(this.cacheAsBitmap=!1),this._text=e}},{key:"color",get:function(){return this._color},set:function(t){this._updated=this._updated||this._color!==t,this._updated&&(this.cacheAsBitmap=!1),this._color=t}},{key:"fontSize",get:function(){return this._fontSize},set:function(t){this._updated=this._updated||this._fontSize!==t,this._updated&&(this.cacheAsBitmap=!1),this._fontSize=t}},{key:"radius",get:function(){return this._radius},set:function(t){this._updated=this._updated||this._radius!==t,this._updated&&(this.cacheAsBitmap=!1),this._radius=t}},{key:"alignOffset",get:function(){return this._alignOffset},set:function(t){this._updated=this._updated||this._alignOffset!==t,this._updated&&(this.cacheAsBitmap=!1),this._alignOffset=t}},{key:"positionOffset",get:function(){return this._positionOffset},set:function(t){this._updated=this._updated||this._positionOffset!==t,this._updated&&(this.cacheAsBitmap=!1),this._positionOffset=t}},{key:"startAngleRange",get:function(){var t=.8*this.fontSize,e=Math.atan2(t,this.radius),r=(this._chars.length-1)*e*this.alignOffset+this.positionOffset;return[-r,-r+e*this.text.length-e]}},{key:"render",value:function(t){if(st(ct(a.prototype),"render",this).call(this,t),this._updated){for(;this._chars.length>this.text.length;)this.removeChild(this._chars.pop());for(;this._chars.length<this.text.length;){var e=new PIXI.Text("X",{fontFamily:"MajorMonoDisplay-Regular",fontSize:this._fontSize,fill:this.color,stroke:this.color,strokeThickness:.5,align:"center"});e.anchor.set(.5),this._chars.push(e),this.addChild(e)}for(var r=.8*this.fontSize,n=Math.atan2(r,this.radius),o=(this._chars.length-1)*n*this.alignOffset+this.positionOffset,i=0;i<this._chars.length;i++)this._chars[i].text=this.text[i],this._chars[i].style.fontSize=this.fontSize,this._chars[i].x=this.radius*Math.sin(n*i-o),this._chars[i].y=-this.radius*Math.cos(n*i-o),this._chars[i].rotation=Math.atan2(this._chars[i].y,this._chars[i].x)+Math.PI/2,this._chars[i].visible=i/this._chars.length<this.progress;this._updated=!1}}}])&&at(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}();function ft(t){return ft="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ft(t)}function pt(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function ht(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==ft(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==ft(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===ft(o)?o:String(o)),n)}var o}function dt(){return dt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=_t(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},dt.apply(this,arguments)}function yt(t,e){return yt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},yt(t,e)}function _t(t){return _t=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},_t(t)}var bt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&yt(t,e)}(a,PIXI.Container);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=_t(n);if(o){var r=_t(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===ft(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Widget";return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this))._canvas=new PIXI.Graphics,t._label=new ut,t._label.text="|> ".concat(e," <|"),t.addChild(t._canvas),t.addChild(t._label),t._progress=0,t._size=1,t._updated=!0,t._stealTime=0,t}return e=a,(r=[{key:"progress",get:function(){return this._progress},set:function(t){this._updated=this._updated||this._progress!==t,this._updated&&(this.cacheAsBitmap=!1),this._progress=t}},{key:"size",get:function(){return this._size},set:function(t){this._updated=this._updated||this._size!==t,this._updated&&(this.cacheAsBitmap=!1),this._size=t}},{key:"render",value:function(t){if(dt(_t(a.prototype),"render",this).call(this,t),!this._updated)return this._stealTime++,void(this.cacheAsBitmap=this._stealTime>10);this._label.progress=this.progress,this._canvas.clear();var e=100*this.size;this._label.radius=e,this._label.fontSize=6+6*this.size;var r,n,o=Math.PI/50,i=(r=this._label.startAngleRange,n=2,function(t){if(Array.isArray(t))return t}(r)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,s=[],l=!0,c=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(t){c=!0,o=t}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(r,n)||function(t,e){if(t){if("string"==typeof t)return pt(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?pt(t,e):void 0}}(r,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),s=i[0],l=i[1];this._canvas.moveTo(e*Math.sin(l),-e*Math.cos(l));for(var c=s+2*Math.PI-l,u=l;u<=l+c*this.progress;u+=o){var f=-e*Math.cos(u);this._canvas.lineStyle({color:16777215,width:2,alpha:f>0?.3:.8}),this._canvas.lineTo(e*Math.sin(u),f)}this._canvas.lineTo(e*Math.sin(l+c*this.progress),-e*Math.cos(l+c*this.progress)),this._updated=!1,this._stealTime=0}}])&&ht(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}();function mt(t){return mt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mt(t)}function gt(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function vt(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?gt(Object(r),!0).forEach((function(e){wt(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):gt(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function wt(t,e,r){return(e=Pt(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ot(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Pt(n.key),n)}}function Pt(t){var e=function(t,e){if("object"!==mt(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==mt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===mt(e)?e:String(e)}function St(t,e){return St=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},St(t,e)}function jt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function kt(){return kt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=xt(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},kt.apply(this,arguments)}function xt(t){return xt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},xt(t)}var Tt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&St(t,e)}(a,PIXI.Container);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=xt(n);if(o){var r=xt(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===mt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return jt(t)}(this,t)});function a(t,e){var r,n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(n=i.call(this))._id=t,n._container=new PIXI.Container,kt((r=jt(n),xt(a.prototype)),"addChild",r).call(r,n._container),n._title=e,n._frame=new bt(e),n.addChild(n._frame),n._progress=0,n.size=1,n.index=0,n._bg=new PIXI.Graphics,n._bg.beginFill(0,.01),n._bg.drawCircle(0,0,100),n.addChild(n._bg),n.interactive=!0,n.main=new ot,n.dataLoadProgress=1,n._state=null,n.on("pointertap",(function(){n.emit("activate")})),n.movement={timeLeft:0,index1:0,x1:0,y1:0,size1:1,index2:0,x2:0,y2:0,size2:1,flickTime:0},n}return e=a,r=[{key:"state",get:function(){return this._state}},{key:"initState",value:function(t){this.log("State initialized",t),this.dataLoadProgress=0,this._state=vt(vt({},t),{},{lastUpdate:null})}},{key:"updateState",value:function(t){this.log("State updated",t),this._state=vt(vt(vt({},this._state),t),{},{lastUpdate:(new Date).getTime()})}},{key:"id",get:function(){return this._id}},{key:"addChild",value:function(t){this._container.addChild(t)}},{key:"addChildAt",value:function(t,e){this._container.addChildAt(t,e)}},{key:"removeChild",value:function(t){this._container.removeChild(t)}},{key:"progress",get:function(){return this._progress},set:function(t){this._progress=t}},{key:"moveTo",value:function(t){this.movement.timeLeft=1,this.movement.x1=this.x,this.movement.y1=this.y,this.movement.size1=this.size,this.movement.x2=t.x,this.movement.y2=t.y,this.movement.size2=t.size,this.movement.index1=this.index,this.movement.index2=t.index,this.movement.flickTime=Math.random()}},{key:"render",value:function(t){this._state&&this._state.lastUpdate&&this.dataLoadProgress<1&&(this.dataLoadProgress=Math.min(1,this.dataLoadProgress+.02)),this._bg.scale.set(this.size),this._frame.size=this.size,this._frame.progress=this._progress;var e=function(t,e,r){return Math.min(1,Math.max(0,t-e)/(r-e))};if(this.movement.timeLeft>0){var r=this.movement,n=r.x1,o=r.y1,i=r.size1,s=r.x2,l=r.y2,c=r.size2;this.movement.timeLeft=Math.max(0,this.movement.timeLeft-.04);var u=this.movement.timeLeft,f=e(u,0,.4),p=e(u,.4,.6),h=e(u,.6,1);if(this.x=n*p+s*(1-p),this.y=o*p+l*(1-p),this.size=i*p+c*(1-p),0===this.movement.index2&&(this.main.progress=(1-f)*this.progress,this.alpha=h>0?.2+.8*Math.random():1),0===this.movement.index1&&(this.main.progress=h*this.progress),0===u&&(this.index=this.movement.index2,0!==this.index&&this.main.parent)){var d=this.main;setTimeout((function(){d.parent&&d.parent.removeChild(d)}))}}else 0===this.index?this.main.progress=this.progress:this.main.progress=0;kt(xt(a.prototype),"render",this).call(this,t)}},{key:"msg2state",value:function(t){return null}},{key:"onMessage",value:function(t){var e=this.msg2state(t);e&&this.updateState(e)}},{key:"onConfig",value:function(t){}},{key:"sendMessage",value:function(t){var e={serviceId:this._id,payload:t};this.log("Sending message:",e),this.emit("service",e)}},{key:"log",value:function(){for(var t,e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];(t=console).log.apply(t,["[".concat(this._id,"]")].concat(r))}},{key:"toString",value:function(){return'[Widget title="'.concat(this._title,'"]')}}],r&&Ot(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}();function Mt(t){return Mt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mt(t)}function Rt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Mt(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==Mt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===Mt(o)?o:String(o)),n)}var o}function Ct(){return Ct="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=zt(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},Ct.apply(this,arguments)}function Lt(t,e){return Lt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Lt(t,e)}function zt(t){return zt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},zt(t)}var It=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Lt(t,e)}(a,PIXI.Container);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=zt(n);if(o){var r=zt(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Mt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this))._canvas=new PIXI.Graphics,t.addChild(t._canvas),t._progress=0,t.value=0,t.lineWidth=2,t._presentedValue=0,t._size=1,t.color=16777215,t._lastUpdateHash="",t}return e=a,(r=[{key:"progress",get:function(){return this._progress},set:function(t){this._progress=t}},{key:"size",get:function(){return this._size},set:function(t){this._size=t}},{key:"render",value:function(t){Ct(zt(a.prototype),"render",this).call(this,t),this._presentedValue+=(this.value-this._presentedValue)/30;var e=this.size.toFixed(3)+"|"+this.progress.toFixed(3)+"|"+this._presentedValue.toFixed(3)+"|"+this.color.toString(16)+"|"+this.lineWidth.toFixed(0);if(e!==this._lastUpdateHash){this._lastUpdateHash=e,this._canvas.clear();var r=100*this.size,n=Math.PI/100;this._canvas.moveTo(r*Math.sin(0),-r*Math.cos(0)),this._canvas.lineStyle({color:this.color,width:this.lineWidth,alpha:.7});for(var o=0;o<=2*Math.PI*this._presentedValue*this.progress;o+=n)this._canvas.lineTo(r*Math.sin(o),-r*Math.cos(o))}}}])&&Rt(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}();function Dt(t){return Dt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dt(t)}function Et(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Dt(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==Dt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===Dt(o)?o:String(o)),n)}var o}function Bt(){return Bt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=At(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},Bt.apply(this,arguments)}function Ft(t,e){return Ft=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ft(t,e)}function At(t){return At=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},At(t)}var Xt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ft(t,e)}(a,PIXI.Container);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=At(n);if(o){var r=At(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Dt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this)).progress=0,t._lastCalendarUpdate=0,t.countdownName="",t.coundownDate=new Date(0);var e=["mo","tu","we","th","fr","sa","su"].join(" ");return t._pointer=new PIXI.Graphics,t._pointer.beginFill(16711680),t._pointer.drawRect(-2,-1,22,16),t.addChild(t._pointer),t._currentMonthField=new Z("",{fontFamily:"MajorMonoDisplay-Regular",fontSize:11,fill:"#ffffff",stroke:"#ffffff",strokeThickness:.5,align:"left"}),t._currentMonthField.anchor.set(0,0),t._currentMonthField.x=-230,t._currentMonthField.y=-40,t.addChild(t._currentMonthField),t._nextMonthField=new Z("",{fontFamily:"MajorMonoDisplay-Regular",fontSize:11,fill:"#ffffff",stroke:"#ffffff",strokeThickness:.5,align:"left"}),t._nextMonthField.anchor.set(0,0),t._nextMonthField.x=50,t._nextMonthField.y=-40,t.addChild(t._nextMonthField),t._currentMonthHeader=new Z(e,{fontFamily:"MajorMonoDisplay-Regular",fontSize:11,fill:"#ff0000",stroke:"#ff0000",strokeThickness:1.5,align:"left"}),t._currentMonthHeader.anchor.set(0,0),t._currentMonthHeader.x=-230,t._currentMonthHeader.y=-60,t.addChild(t._currentMonthHeader),t._nexttMonthHeader=new Z(e,{fontFamily:"MajorMonoDisplay-Regular",fontSize:11,fill:"#ff0000",stroke:"#ff0000",strokeThickness:1.5,align:"left"}),t._nexttMonthHeader.anchor.set(0,0),t._nexttMonthHeader.x=50,t._nexttMonthHeader.y=-60,t.addChild(t._nexttMonthHeader),t._currentMonthTitle=new Z(e,{fontFamily:"MajorMonoDisplay-Regular",fontSize:16,fill:"#ffffff",stroke:"#ffffff",strokeThickness:.5,align:"left"}),t._currentMonthTitle.x=-150,t._currentMonthTitle.y=-75,t.addChild(t._currentMonthTitle),t._nextMonthTitle=new Z(e,{fontFamily:"MajorMonoDisplay-Regular",fontSize:16,fill:"#ffffff",stroke:"#ffffff",strokeThickness:.5,align:"left"}),t._nextMonthTitle.x=130,t._nextMonthTitle.y=-75,t.addChild(t._nextMonthTitle),t._countdownTitle=new Z("",{fontFamily:"MajorMonoDisplay-Regular",fontSize:11,fill:"#ffffff",stroke:"#ffffff",strokeThickness:.5,align:"center"}),t._countdownTitle.x=-140,t._countdownTitle.y=60,t.addChild(t._countdownTitle),t._countdownLabel=new Z("",{fontFamily:"MajorMonoDisplay-Regular",fontSize:16,fill:"#ff0000",stroke:"#ff0000",strokeThickness:1.5,align:"center"}),t._countdownLabel.x=-140,t._countdownLabel.y=78,t.addChild(t._countdownLabel),t._lines=new B,t._lines.addSequence([-300,50,-45,50,0,95]),t.addChild(t._lines),t._refreshCalendar(),t}return e=a,r=[{key:"_getCalendarData",value:function(t){for(var e=new Date(t.getFullYear(),t.getMonth()),r=new Date(e.getTime()+3456e6),n=new Date(r.getFullYear(),r.getMonth()),o=new Date(n.getTime()-864e5),i=[[]],a=e.getDay()-1,s=0;s<a;s++)7===i[i.length-1].length&&i.push([]),i[i.length-1].push(" ");for(var l=o.getDate(),c=1;c<=l;c++)7===i[i.length-1].length&&i.push([]),i[i.length-1].push(c);return i}},{key:"_refreshCalendar",value:function(){var t=new Date,e=new Date(t.getFullYear(),t.getMonth()),r=new Date(e.getTime()+3456e6),n=this._getCalendarData(t),o=this._getCalendarData(r),i=["January","February","March","April","May","June","July","August","September","October","November","December"];this._currentMonthTitle.text=i[t.getMonth()],this._nextMonthTitle.text=i[r.getMonth()],this._nextMonthField.text=o.map((function(t){return t.map((function(t){return String(t).padStart(2," ")})).join(" ")})).join("\n"),this._currentMonthField.text=n.map((function(t){return t.map((function(t){return String(t).padStart(2," ")})).join(" ")})).join("\n");for(var a=0;a<n.length;a++)for(var s=0;s<n[a].length;s++)n[a][s]===t.getDate()&&(this._pointer.x=24.5*s-230,this._pointer.y=14*a-40)}},{key:"render",value:function(t){var e=performance.now();e>this._lastCalendarUpdate+1e3&&(this._lastCalendarUpdate=e,this._refreshCalendar()),this._currentMonthField.progress=this.progress,this._nextMonthField.progress=this.progress,this._currentMonthHeader.progress=this.progress,this._nexttMonthHeader.progress=this.progress,this._currentMonthTitle.progress=this.progress,this._nextMonthTitle.progress=this.progress,this._pointer.alpha=this.progress,this._countdownTitle.progress=this.progress,this._countdownLabel.progress=this.progress,this._lines.progress=this.progress;var r=new Date;r.getTime()>this.coundownDate.getTime()&&(this.countdownName="New Year",this.coundownDate=new Date(r.getFullYear()+1,0,0)),this._countdownTitle.text="".concat(this.countdownName," in:");var n=Math.max(0,this.coundownDate.getTime()-r.getTime()),o=Math.floor(n/864e5),i=Math.floor(n/36e5)%24,s=Math.floor(n/6e4)%60,l=Math.floor(n/1e3)%60,c=Math.floor(n)%1e3;this._countdownLabel.text="".concat(String(o).padStart(2,"0"),":").concat(String(i).padStart(2,"0"),":").concat(String(s).padStart(2,"0"),":").concat(String(l).padStart(2,"0"),".").concat(String(c).padStart(3,"0")),Bt(At(a.prototype),"render",this).call(this,t)}}],r&&Et(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}();function Ht(t){return Ht="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ht(t)}function Gt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Ht(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==Ht(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===Ht(o)?o:String(o)),n)}var o}function Nt(){return Nt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Wt(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},Nt.apply(this,arguments)}function Vt(t,e){return Vt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Vt(t,e)}function Wt(t){return Wt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Wt(t)}var Zt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Vt(t,e)}(a,PIXI.Container);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Wt(n);if(o){var r=Wt(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Ht(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this)).progress=0,t._bg=new PIXI.Graphics,t._bg.beginFill(6710886),t._bg.drawRect(150,-17,420,34),t._bg.beginFill(13421772),t._bg.drawRect(240,-17,240,34),t.addChild(t._bg);var e=Array(24).fill(1).map((function(t,e){return e<8||e>15?String(e+1).padStart(2,"0"):"  "})),r=Array(24).fill(1).map((function(t,e){return e<8||e>15?"  ":String(e+1).padStart(2,"0")}));return t._hourLabels=new Z(e.join(" "),{fontFamily:"MajorMonoDisplay-Regular",fontSize:13.5,fill:"#ffffff",stroke:"#ffffff",strokeThickness:.5,align:"left"}),t._hourLabels.x=4,t._hourLabels.y=0,t._hourLabels.anchor.set(0,.5),t.addChild(t._hourLabels),t._darkHourLabels=new Z(r.join(" "),{fontFamily:"MajorMonoDisplay-Regular",fontSize:13.5,fill:"#000000",stroke:"#000000",strokeThickness:.5,align:"left"}),t._darkHourLabels.x=4,t._darkHourLabels.y=0,t._darkHourLabels.anchor.set(0,.5),t.addChild(t._darkHourLabels),t}return e=a,(r=[{key:"render",value:function(t){this._hourLabels.progress=this.progress,this._darkHourLabels.progress=this.progress,this._bg.alpha=this.progress,Nt(Wt(a.prototype),"render",this).call(this,t)}}])&&Gt(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}();function qt(t){return qt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qt(t)}function Yt(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Ut(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Yt(Object(r),!0).forEach((function(e){Kt(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Yt(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Kt(t,e,r){return(e=Qt(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Jt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Qt(n.key),n)}}function Qt(t){var e=function(t,e){if("object"!==qt(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==qt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===qt(e)?e:String(e)}function $t(){return $t="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=ee(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},$t.apply(this,arguments)}function te(t,e){return te=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},te(t,e)}function ee(t){return ee=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ee(t)}var re=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&te(t,e)}(a,PIXI.Container);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=ee(n);if(o){var r=ee(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===qt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(e=i.call(this))._timezones=t,e._dragging=!1,e._offsetX=0,e._dragStartX=0,e.progress=0,e._dragV=0,e._lastDragTime=-1e4,e._timezones=t.map((function(t){var e=new Date((new Date).toLocaleString("en-GB",{hour12:!1})).getTime(),r=(new Date((new Date).toLocaleString("en-GB",{hour12:!1,timeZone:t.id})).getTime()-e)/36e5;return Ut(Ut({},t),{},{offset:r})})),e._container=new PIXI.Container,e._container.x=120,e.addChild(e._container),e._maskShape=new PIXI.Graphics,e._maskShape.beginFill(255,.5),e._maskShape.drawRect(-1,-1,332,141),e._maskShape.x=120,e._maskShape.y=-20,e.addChild(e._maskShape),e._container.mask=e._maskShape,e._nameLabels=e._timezones.map((function(t,r){var n=t.name,o=new Z(n,{fontFamily:"MajorMonoDisplay-Regular",fontSize:11,fill:"#ffffff",stroke:"#ffffff",strokeThickness:.5,align:"left"});return o.anchor.set(0,.5),o.y=34*r,e.addChild(o),o})),e._timeLabels=e._timezones.map((function(t,r){var n=new Z("00:00:00",{fontFamily:"MajorMonoDisplay-Regular",fontSize:11,fill:"#ffffff",stroke:"#ffffff",strokeThickness:.5,align:"right"});return n.anchor.set(1,.5),n.y=34*r,n.x=540,e.addChild(n),n})),e._segments=e._timezones.map((function(t,r){var n=t.offset,o=new Zt;return o.x=30*-n,o.y=34*r,e._container.addChild(o),[o]})),e._pointer=new B,e.addChild(e._pointer),e._pointer.addSequence([285,-22,285,34*e._timezones.length-17+5],4,16711680),e._pointer.alpha=.8,e._dragBox=new PIXI.Graphics,e._dragBox.beginFill(0,1e-4),e._dragBox.drawRect(-165,-68,330,136),e._dragBox.x=285,e._dragBox.y=48,e._dragBox.interactive=!0,e.addChild(e._dragBox),e._dragBox.on("mousedown",(function(t){return e._startDrag(t.data.global.x)})),e._dragBox.on("mouseup",(function(t){return e._stopDrag(t.data.global.x)})),e._dragBox.on("pointerdown",(function(t){return e._startDrag(t.data.global.x)})),e._dragBox.on("pointermove",(function(t){return e._updateDrag(t.data.global.x)})),e._dragBox.on("pointerup",(function(t){return e._stopDrag(t.data.global.x)})),e}return e=a,(r=[{key:"_startDrag",value:function(t){this._offsetX=t-this._dragBox.x,this._dragStartX=this._container.x,this._dragBox.scale.set(100),this._dragging=!0}},{key:"_updateDrag",value:function(t){if(this._dragging){this._dragBox.x=t-this._offsetX;var e=this._dragStartX+t-this._offsetX-120-165;this._dragV=Math.max(-30,Math.min(30,e-this._container.x)),this._container.x=e}}},{key:"_stopDrag",value:function(t){this._dragging&&(this._dragBox.x=285,this._dragBox.scale.set(1),this._dragging=!1,this._lastDragTime=performance.now())}},{key:"name",get:function(){return this._nameLabel.text},set:function(t){this._nameLabel.text=t}},{key:"render",value:function(t){var e,r=this;this._nameLabels.forEach((function(t){return t.progress=r.progress}));for(var n=0;n<this._segments.length;n++){for(var o=this._segments[n],i=0;i<o.length;i++)o[i].progress=this.progress;if(o.length>0){var s=o[0].x+this._container.x-120,l=s+720*o.length;l<=330&&((e=new Zt).x=o[o.length-1].x+720,e.y=o[o.length-1].y,this._container.addChild(e),o.push(e)),s>0&&((e=new Zt).x=o[0].x-720,e.y=o[0].y,this._container.addChild(e),o.unshift(e)),s+720<0?this._container.removeChild(o.shift()):l-720>330&&this._container.removeChild(o.pop())}}var c=-((this._container.x-120)/30-6);c<0&&(c+=24*Math.ceil(-c/24)),c%=24,this._pointer.progress=this.progress,this._dragBox.visible=this.progress>0;for(var u=0;u<this._timezones.length;u++){this._timeLabels[u].progress=this.progress;var f=(c+this._timezones[u].offset+24)%24,p=Math.floor(f),h=Math.floor(60*f)%60,d=Math.floor(60*f*60)%60;this._timeLabels[u].text="".concat(String(p).padStart(2,"0"),":").concat(String(h).padStart(2,"0"),":").concat(String(d).padStart(2,"0"))}if(!this._dragging){var y=this._container.x;if(performance.now()-this._lastDragTime>3e3){var _=new Date;y=120-30*(_.getHours()-1-5+_.getMinutes()/60+_.getSeconds()/3600);var b=Math.max(-6,Math.min(6,(y-this._container.x)/10));this._container.x=Math.abs(this._container.x-y)>.01?this._container.x+this._dragV:y,this._dragV+=(b-this._dragV)/10}else this._container.x+=this._dragV,this._dragV+=(0-this._dragV)/20}$t(ee(a.prototype),"render",this).call(this,t)}}])&&Jt(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}();function ne(t){return ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ne(t)}function oe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==ne(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==ne(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===ne(o)?o:String(o)),n)}var o}function ie(){return ie="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=se(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},ie.apply(this,arguments)}function ae(t,e){return ae=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ae(t,e)}function se(t){return se=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},se(t)}var le=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ae(t,e)}(a,PIXI.Container);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=se(n);if(o){var r=se(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===ne(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this)).progress=0,t._timezonePreview=null,t}return e=a,(r=[{key:"addTimezonePreview",value:function(t){this._timezonePreview&&this.removeChild(this._timezonePreview),this._timezonePreview=new re(t),this._timezonePreview.x=-280,this._timezonePreview.y=-65,this.addChild(this._timezonePreview)}},{key:"render",value:function(t){this._timezonePreview&&(this._timezonePreview.progress=this.progress),ie(se(a.prototype),"render",this).call(this,t)}}])&&oe(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}();function ce(t){return ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ce(t)}function ue(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==ce(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==ce(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===ce(o)?o:String(o)),n)}var o}function fe(){return fe="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=he(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},fe.apply(this,arguments)}function pe(t,e){return pe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},pe(t,e)}function he(t){return he=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},he(t)}var de=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],ye=["sun","mon","tue","wed","thu","fri","sat"];const _e=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&pe(t,e)}(a,t);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=he(n);if(o){var r=he(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===ce(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,"dateTime","Date & Time"))._secPointer=new It,t._secPointer.color=16711680,t.addChild(t._secPointer),t._minPointer=new It,t._minPointer.color=16711680,t.addChild(t._minPointer),t._hourPointer=new It,t._hourPointer.color=16711680,t.addChild(t._hourPointer),t._timeLabel=new Z("00:00:00",{fontFamily:"MajorMonoDisplay-Regular",fontSize:10,fill:"#ffffff",stroke:"#ffffff",strokeThickness:.5,align:"center"}),t._timeLabel.anchor.set(.5),t.addChild(t._timeLabel),t._dateLabel=new Z("???",{fontFamily:"MajorMonoDisplay-Regular",fontSize:10,fill:"#ffffff",stroke:"#ffffff",strokeThickness:.5,align:"center"}),t._dateLabel.anchor.set(.5),t.addChild(t._dateLabel),t._weekDays=[];for(var e=0;e<ye.length;e++){var r=ye[e],n=new ut;t._weekDays.push(n),n.text=r,n.positionOffset=1.35*Math.PI-(e+6)%7*.4,n.progress=1,t.addChild(n)}t.main.title="Date & Time";var o=t.main.getTabButton(0),s=t.main.getPage(0);o.visible=!0,o.text="Date";var l=t.main.getTabButton(1),c=t.main.getPage(1);return l.visible=!0,l.text="Time",t._dateScreen=new Xt,s.addChild(t._dateScreen),t._timeScreen=new le,c.addChild(t._timeScreen),t}return e=a,(r=[{key:"onConfig",value:function(t){this._dateScreen.coundownDate=new Date(t.countdown.date),this._dateScreen.countdownName=t.countdown.name,this._timeScreen.addTimezonePreview(t.timezones)}},{key:"render",value:function(t){fe(he(a.prototype),"render",this).call(this,t);var e=new Date,r=e.getHours().toString().padStart(2,"0"),n=e.getMinutes().toString().padStart(2,"0"),o=e.getSeconds().toString().padStart(2,"0");this._timeLabel.style.fontSize=2+20*this.size;var i="".concat(r,":").concat(n);1===this.size?(i+=":".concat(o),this._timeLabel.y=15*-this.size):(this._timeLabel.y=0,this._timeLabel.style.fontSize*=1.5),this._timeLabel.text=i,this._timeLabel.progress=this._progress,this._dateLabel.style.fontSize=2+18*this.size,this._dateLabel.text="".concat(de[e.getMonth()]," ").concat(e.getDate()),this._dateLabel.y=15*+this.size,this._dateLabel.visible=1===this.size,this._dateLabel.progress=this._progress,this._secPointer.value=e.getSeconds()/60,this._secPointer.progress=this._progress,this._secPointer.size=this.size*(1===this.size?.86:.8),this._minPointer.value=e.getMinutes()/60,this._minPointer.progress=this._progress,this._minPointer.size=.83*this.size,this._minPointer.visible=1===this.size,this._hourPointer.value=e.getHours()/24,this._hourPointer.progress=this._progress,this._hourPointer.size=.8*this.size,this._hourPointer.visible=1===this.size;for(var s=0;s<this._weekDays.length;s++){var l=this._weekDays[s];l.radius=94*this.size,l.fontSize=4+5*this.size,l.alpha=s==e.getDay()?1:.4,l.visible=1===this.size&&this.progress>(s+6)%7/7}this._dateScreen.progress=this.main.progress,this._timeScreen.progress=this.main.progress}}])&&ue(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(Tt);function be(t){return be="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},be(t)}function me(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==be(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==be(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===be(o)?o:String(o)),n)}var o}function ge(){return ge="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=we(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},ge.apply(this,arguments)}function ve(t,e){return ve=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ve(t,e)}function we(t){return we=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},we(t)}var Oe=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ve(t,e)}(a,PIXI.Container);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=we(n);if(o){var r=we(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===be(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"long";!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this)).progress=0,t.size=1,t.pointerWidth=2,t._pointer=new PIXI.Graphics,t.addChild(t._pointer),t._pointerRotation=0,t._pointerUpdateHash="";var r={long:t.renderLong,arrow:t.renderArrow};return t._renderFunc=r[e],t}return e=a,(r=[{key:"pointerRotation",get:function(){return this._pointerRotation},set:function(t){this._pointerRotation=t}},{key:"render",value:function(t){ge(we(a.prototype),"render",this).call(this,t),this._pointer.rotation=-this.progress*Math.PI*2+this._pointerRotation;var e="".concat(this.size.toFixed(3),"|").concat(this.progress.toFixed(3),"|").concat(this.pointerWidth.toFixed(1));e!==this._pointerUpdateHash&&(this._renderFunc(),this._pointerUpdateHash=e)}},{key:"renderLong",value:function(){var t=15,e=100*this.size*this.progress,r=this.pointerWidth;this._pointer.clear(),this._pointer.beginFill(16777215),this._pointer.moveTo(r,-t),this._pointer.lineTo(r,-Math.max(t,e-r)),this._pointer.lineTo(0,-Math.max(t,e)),this._pointer.lineTo(-r,-Math.max(t,e-2*r)),this._pointer.lineTo(-r,-t),this._pointer.moveTo(r,t),this._pointer.lineTo(r,t+.15*e),this._pointer.lineTo(-r,t+.15*e),this._pointer.lineTo(-r,t)}},{key:"renderArrow",value:function(){var t=100*this.size,e=this.pointerWidth*this.progress*this.size;this._pointer.clear(),this._pointer.beginFill(16777215),this._pointer.moveTo(0,-t),this._pointer.lineTo(e/2,-t+e),this._pointer.lineTo(-e/2,-t+e)}}])&&me(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}();function Pe(t){return Pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pe(t)}function Se(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Pe(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==Pe(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===Pe(o)?o:String(o)),n)}var o}function je(){return je="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=xe(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},je.apply(this,arguments)}function ke(t,e){return ke=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ke(t,e)}function xe(t){return xe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},xe(t)}var Te=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ke(t,e)}(a,PIXI.Container);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=xe(n);if(o){var r=xe(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Pe(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this))._lines=new PIXI.Graphics,t.addChild(t._lines),t.size=1,t.progress=0,t.count=10,t.length=.5,t.countMax=1e5,t._updateHash="",t}return e=a,(r=[{key:"render",value:function(t){je(xe(a.prototype),"render",this).call(this,t);var e="".concat(this.size.toFixed(3),"|").concat(this.progress.toFixed(3),"|").concat(this.length.toFixed(3),"|").concat(this.count.toFixed(0),"|").concat(this.countMax.toFixed(0));if(this._updateHash!==e){this._updateHash=e,this._lines.clear(),this._lines.lineStyle({color:16777215,alpha:.3,width:2});for(var r=2*Math.PI/this.count,n=100*this.size,o=100*this.progress*this.size*(1-this.length)+(1-this.progress)*n,i=0;i<this.countMax&&i<this.count;i++)this._lines.moveTo(o*Math.sin(i*r),-o*Math.cos(i*r)),this._lines.lineTo(n*Math.sin(i*r),-n*Math.cos(i*r))}}}])&&Se(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}();function Me(t){return Me="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Me(t)}function Re(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Ce(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Me(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==Me(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===Me(o)?o:String(o)),n)}var o}function Le(){return Le="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Ie(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},Le.apply(this,arguments)}function ze(t,e){return ze=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ze(t,e)}function Ie(t){return Ie=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ie(t)}var De=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ze(t,e)}(a,PIXI.Container);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Ie(n);if(o){var r=Ie(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Me(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:5,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Math.PI;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this)).value=e,t.valueMin=e,t.valueMax=e,t._scaleMin=e,t._scaleMax=r,t._angleRange=s,t.size=1,t.progress=1,t._lastHash="";var l=r-e;t._rangeIndicator=new It,t._rangeIndicator.color=16711680,t._rangeIndicator.lineWidth=10,t.addChild(t._rangeIndicator);var c=2*Math.PI/s;t._ticksSmall=new Te,t._ticksSmall.count=c*l,t._ticksSmall.countMax=Math.floor(t._ticksSmall.count/c)+1,t.addChild(t._ticksSmall),t._ticksLarge=new Te,t._ticksLarge.count=Math.floor(c*l/5),t._ticksLarge.countMax=Math.floor(t._ticksLarge.count/c)+1,t.addChild(t._ticksLarge);var u=l/(o-1);return t._labels=Array(o).fill(0).map((function(t,r){return Math.round(e+u*r)})).map((function(e,r,o){var i=new ut;return i.text=String(e)+n,i.positionOffset=-r/(o.length-1)*t._angleRange,i.radius=100,i.progress=1,t.addChild(i),i})),t._pointer=new Oe("arrow"),t._pointer.pointerWidth=10,t.addChild(t._pointer),t}return e=a,(r=[{key:"render",value:function(t){Le(Ie(a.prototype),"render",this).call(this,t);var e="".concat(this.size.toFixed(3),"|").concat(this.progress.toFixed(3),"|").concat(this.value.toFixed(1),"|").concat(this.valueMin.toFixed(1),"|").concat(this.valueMax.toFixed(1),"|");if(this._lastHash!==e){this._lastHash=e,this._ticksSmall.size=this.size,this._ticksSmall.progress=Math.min(1,2*this.progress),this._ticksSmall.length=.05*this.size,this._ticksLarge.size=.95*this.size,this._ticksLarge.progress=Math.max(0,2*this.progress-1),this._ticksLarge.length=.05*this.size,this._ticksLarge.length=.05*this.size;var r,n=function(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return Re(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Re(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw i}}}}(this._labels);try{for(n.s();!(r=n.n()).done;){var o=r.value;o.progress=this.progress,o.radius=110*this.size,o.fontSize=4*this.size+5}}catch(t){n.e(t)}finally{n.f()}var i=this._angleRange/(2*Math.PI);this._pointer.progress=this.progress,this._pointer.size=this.size*(.9+.04/Math.max(.5,this.size)),this._pointer.pointerWidth=10/(.5+.5*Math.max(.5,this.size)),this._pointer.pointerRotation=this._angleRange*((this.value-this._scaleMin)/(this._scaleMax-this._scaleMin));var s=this._scaleMax-this._scaleMin;this._rangeIndicator.size=.95*this.size,this._rangeIndicator.lineWidth=4*this.size,this._rangeIndicator.progress=this.progress;var l=(this.valueMin-this._scaleMin)/s;this._rangeIndicator.rotation=this._angleRange*l,this._rangeIndicator.value=i*((this.valueMax-this._scaleMin)/s-l),this._rangeIndicator.visible=this.size>.7}}}])&&Ce(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}();function Ee(t){return Ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ee(t)}function Be(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Ee(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==Ee(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===Ee(o)?o:String(o)),n)}var o}function Fe(){return Fe="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Xe(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},Fe.apply(this,arguments)}function Ae(t,e){return Ae=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ae(t,e)}function Xe(t){return Xe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Xe(t)}var He=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ae(t,e)}(a,PIXI.Container);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Xe(n);if(o){var r=Xe(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Ee(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this))._chartWidth=void 0!==e.width?e.width:200,t._chartHeight=void 0!==e.height?e.height:100,t._scaleMin=void 0!==e.scaleMin?e.scaleMin:0,t._scaleMax=void 0!==e.scaleMax?e.scaleMax:100,t._tickStep=void 0!==e.tickStep?e.tickStep:10,t._showScale=void 0===e.showScale||e.showScale,t._colFill=void 0!==e.colFill?e.colFill:.66,t.progress=0,t._data=[],t._renderHash="",t._showScale){t._scaleLines=new B,t._scaleLabels=[];for(var r=t._chartHeight;r>=-1;r-=t._tickStep*t._chartHeight/(t._scaleMax-t._scaleMin))t._scaleLines.addLine(0,r,t._chartWidth,r,1,6710886),t._scaleLabels.push(r);t._scaleLabels=t._scaleLabels.map((function(e,r){var n=new Z(t._scaleMin+r*t._tickStep,{fontFamily:"MajorMonoDisplay-Regular",fontSize:9,fill:"#ffffff",stroke:"#ffffff",strokeThickness:.5,align:"right"});return n.anchor.set(1,.6),n.y=e,n.x=-3,t.addChild(n),n})),t.addChild(t._scaleLines)}return t._canvas=new PIXI.Graphics,t.addChild(t._canvas),t}return e=a,(r=[{key:"data",get:function(){return this._data},set:function(t){this._data=t}},{key:"render",value:function(t){var e=this;Fe(Xe(a.prototype),"render",this).call(this,t);var r="".concat(this.progress,"|").concat(this.data.join("|"));if(this._renderHash!==r){this._renderHash=r,this._showScale&&(this._scaleLines.progress=this.progress,this._scaleLabels.forEach((function(t){return t.progress=e.progress}))),this._canvas.clear();var n=this._data.length?this._chartWidth/this._data.length:0;this._canvas.beginFill(16777215,.5*this.progress);for(var o=0;o<this._data.length;o++){var i=Math.min(1,2*Math.max(0,this.progress-.5*o/this._data.length)),s=(this._data[o]-this._scaleMin)/(this._scaleMax-this._scaleMin);s=i*Math.max(0,Math.min(1,s)),this._canvas.drawRect(o*n+(1-this._colFill)*n*.5,1-this._chartHeight*s+this._chartHeight,n*this._colFill,this._chartHeight*s)}this._canvas.beginFill(16777215);for(var l=0;l<this._data.length;l++){var c=(this._data[l]-this._scaleMin)/(this._scaleMax-this._scaleMin);c=Math.min(1,2*Math.max(0,this.progress-.5*l/this._data.length))*Math.max(0,Math.min(1,c)),this._canvas.drawRect(l*n+(1-this._colFill)*n*.5,1-this._chartHeight*c+this._chartHeight,n*this._colFill,Math.min(3,this._chartHeight*c))}}}}])&&Be(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}();function Ge(t){return Ge="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ge(t)}function Ne(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Ge(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==Ge(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===Ge(o)?o:String(o)),n)}var o}function Ve(t,e){return Ve=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ve(t,e)}function We(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ze(){return Ze="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=qe(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},Ze.apply(this,arguments)}function qe(t){return qe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},qe(t)}var Ye=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ve(t,e)}(a,PIXI.Container);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=qe(n);if(o){var r=qe(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Ge(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return We(t)}(this,t)});function a(t,e){var r,n,o,s;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(s=i.call(this)).offsetX=0,s.offsetY=0,s._windowWidth=t,s._windowHeight=e,s.dragging=!1,s.contentRect={x:-.5*Number.MAX_VALUE,y:-.5*Number.MAX_VALUE,width:Number.MAX_VALUE,height:Number.MAX_VALUE},s._content=new PIXI.Container,Ze((r=We(s),qe(a.prototype)),"addChild",r).call(r,s._content),s._contentMask=new PIXI.Graphics,s._contentMask.beginFill(255),s._contentMask.drawRect(0,0,t,e),Ze((n=We(s),qe(a.prototype)),"addChild",n).call(n,s._contentMask),s._content.mask=s._contentMask,s._scroller=new PIXI.Graphics,s._scroller.beginFill(0,1e-4),s._scroller.drawRect(0,0,t,e),s._scroller.interactive=!0,Ze((o=We(s),qe(a.prototype)),"addChild",o).call(o,s._scroller),s._scroller.on("mousedown",(function(t){return s._startDrag(t.data.global)})),s._scroller.on("mouseup",(function(t){return s._stopDrag(t.data.global)})),s._scroller.on("pointerdown",(function(t){return s._startDrag(t.data.global)})),s._scroller.on("pointermove",(function(t){return s._updateDrag(t.data.global)})),s._scroller.on("pointerup",(function(t){return s._stopDrag(t.data.global)})),s}return e=a,(r=[{key:"_boundX",value:function(t){var e=-this.contentRect.x,r=-(this.contentRect.x+Math.max(0,this.contentRect.width-this._windowWidth));return Math.max(r,Math.min(e,t))}},{key:"_boundY",value:function(t){var e=-this.contentRect.y,r=-(this.contentRect.y+Math.max(0,this.contentRect.height-this._windowHeight));return Math.max(r,Math.min(e,t))}},{key:"_startDrag",value:function(t){var e=t.x,r=t.y;this.offsetX=e-this._content.x,this.offsetY=r-this._content.y,this._scroller.scale.set(100),this.dragging=!0}},{key:"_updateDrag",value:function(t){var e=t.x,r=t.y;this.dragging&&(this._content.x=this._boundX(e-this.offsetX),this._content.y=this._boundY(r-this.offsetY))}},{key:"_stopDrag",value:function(t){var e=t.x,r=t.y;this.dragging&&(this._content.x=this._boundX(e-this.offsetX),this._content.y=this._boundY(r-this.offsetY),this._scroller.scale.set(1),this._scroller.x=0,this.dragging=!1)}},{key:"contentMask",get:function(){return this._contentMask}},{key:"scroller",get:function(){return this._scroller}},{key:"scrollTo",value:function(t,e){this._content.x=this._boundX(t),this._content.y=this._boundX(e)}},{key:"addChild",value:function(t){this._content.addChild(t)}},{key:"addChildAt",value:function(t,e){this._content.addChildAt(t,e)}},{key:"removeChild",value:function(t){this._content.removeChild(t)}}])&&Ne(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}();function Ue(t){return Ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ue(t)}function Ke(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Je(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Ue(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==Ue(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===Ue(o)?o:String(o)),n)}var o}function Qe(){return Qe="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=tr(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},Qe.apply(this,arguments)}function $e(t,e){return $e=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},$e(t,e)}function tr(t){return tr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},tr(t)}var er={"01d":"","01n":"","02d":"","02n":"","03d":"","03n":"","04d":"","04n":"","09d":"","09n":"","10d":"","10n":"","11d":"","11n":"","13d":"","13n":"","50d":"","50n":""},rr=73.2,nr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$e(t,e)}(a,PIXI.Container);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=tr(n);if(o){var r=tr(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Ue(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this)).progress=0,t._startTime=0,t._icons=[],t._pop=[],t._rain=[],t._temp=[],t._container=new Ye(580,180),t._container.contentRect.x=0,t._container.contentRect.y=0,t._container.contentRect.height=180,t._container.contentRect.width=1730,t._container.x=-290,t._container.y=-90,t.addChild(t._container),t._daySeparators=new B,t._daySeparators.y=90,t._container.addChild(t._daySeparators),t._timelineHours=new Z("",{fontFamily:"MajorMonoDisplay-Regular",fontSize:11,fill:"#ff0000",stroke:"#ff0000",strokeThickness:.5,align:"center"}),t._timelineHours.y=110,t._timelineHours.anchor.set(0,.5),t._container.addChild(t._timelineHours),t._timelineIcons=Array(24).fill(1).map((function(e,r){var n=new Z("",{fontFamily:"weathericons-regular-webfont",fontSize:21,fill:"#ffffff",stroke:"#ffffff",strokeThickness:.5,align:"center"});return n.x=r*rr+22,n.y=140,t._container.addChild(n),n})),t._timelinePop=new Z("",{fontFamily:"MajorMonoDisplay-Regular",fontSize:11,fill:"#ffffff",stroke:"#ffffff",strokeThickness:.5,align:"center"}),t._timelinePop.y=170,t._timelinePop.anchor.set(0,.5),t._container.addChild(t._timelinePop),t._rainChart=new He({height:50,width:24*73.2,scaleMax:2.5,scaleMin:0,showScale:!1,colFill:.15}),t._rainChart.y=50,t._rainChart.x=-14.64,t._container.addChild(t._rainChart),t._tempLine=new B,t._tempLine.y=90,t._tempLine.x=18.3,t._container.addChild(t._tempLine),t._tempLabels=new Z("",{fontFamily:"MajorMonoDisplay-Regular",fontSize:11,fill:"#ff0000",stroke:"#ff0000",strokeThickness:1.5,align:"center"}),t._tempLabels.y=10,t._tempLabels.anchor.set(0,.5),t._container.addChild(t._tempLabels),t}return e=a,(r=[{key:"pop",get:function(){return this._pop},set:function(t){if(t!==this._pop){this._pop=t;var e=Array(24).fill(1).map((function(e,r){var n,o=t[r];for(n=0===o?"":1===o?"100":Math.round(100*o)+"%";n.length<5;)(n=" "+n).length<5&&(n+=" ");return n})).join("    ");this._timelinePop.text=e}}},{key:"rain",get:function(){return this._rain},set:function(t){t!==this._rain&&(this._rain=t,this._rainChart.data=t.slice(0,24))}},{key:"temp",get:function(){return this._temp},set:function(t){if(t!==this._temp){this._temp=t;var e=t.slice(0,24);this._tempLine.clear();var r,n=e[0],o=e[0],i=function(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return Ke(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ke(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw i}}}}(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;n=Math.min(n,a),o=Math.max(o,a)}}catch(t){i.e(t)}finally{i.f()}for(var s=[],l=0;l<e.length;l++)s.push(l*rr,-60*(e[l]-n)/(o-n));this._tempLine.addSequence(s,3,16711680),this._tempLabels.text=Array(24).fill(1).map((function(e,r){var n,o=t[r];for(n=Math.round(o)+"°c";n.length<5;)(n=" "+n).length<5&&(n+=" ");return n})).join("    ")}}},{key:"icons",get:function(){return this._icons},set:function(t){if(t!==this._icons){this._icons=t;for(var e=0;e<this._timelineIcons.length;e++)this._timelineIcons[e].text=t[e]?er[t[e]]:""}}},{key:"startTime",get:function(){return this._startTime},set:function(t){if(t!==this._startTime){this._startTime=t;var e=new Date(t).getHours(),r=Array(24).fill(1).map((function(t,r){return(e+3*r)%24})),n=r.map((function(t){return t.toString().padStart(2,"0")+":00"})).join("    ");this._daySeparators.clear();for(var o=1;o<r.length;o++)r[o]<r[o-1]&&this._daySeparators.addLine((o-.2)*rr,-90,(o-.2)*rr,90,1,8947848);this._timelineHours.text=n}}},{key:"render",value:function(t){var e=this;this._daySeparators.progress=this.progress,this._timelineHours.progress=this.progress,this._tempLabels.progress=this.progress,this._timelinePop.progress=this.progress,this._timelineIcons.forEach((function(t){return t.progress=e.progress})),0===this.progress&&this._container.scrollTo(0,0),this._rainChart.progress=this.progress,this._tempLine.progress=this.progress<1?.4*this.progress:1,Qe(tr(a.prototype),"render",this).call(this,t)}}])&&Je(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}();function or(t){return or="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},or(t)}function ir(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==or(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==or(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===or(o)?o:String(o)),n)}var o}function ar(){return ar="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=lr(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},ar.apply(this,arguments)}function sr(t,e){return sr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},sr(t,e)}function lr(t){return lr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},lr(t)}var cr={"01d":"","01n":"","02d":"","02n":"","03d":"","03n":"","04d":"","04n":"","09d":"","09n":"","10d":"","10n":"","11d":"","11n":"","13d":"","13n":"","50d":"","50n":""};const ur=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&sr(t,e)}(a,t);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=lr(n);if(o){var r=lr(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===or(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,"weather","Weather")).initState({currentTemperature:null,currentTemperatureMin:null,currentTemperatureMax:null,currentIcon:null,currentDescription:null,rainTime:null,forecast:null}),t._currentTempScale=new De(-10,30,"°c",5,.8*Math.PI),t._currentTempScale.rotation=.3*Math.PI+Math.PI/2,t.addChild(t._currentTempScale),t._currentTempLabel=new Z("",{fontFamily:"MajorMonoDisplay-Regular",fontSize:16,fill:"#ffffff",stroke:"#ffffff",strokeThickness:.5,align:"center"}),t.addChild(t._currentTempLabel),t._currentDescriotionLabel=new Z("",{fontFamily:"MajorMonoDisplay-Regular",fontSize:16,fill:"#ff0000",stroke:"#ff0000",strokeThickness:1,align:"center"}),t.addChild(t._currentDescriotionLabel),t._currentIcon=new Z("",{fontFamily:"weathericons-regular-webfont",fontSize:60,fill:"#ffffff",stroke:"#ffffff",strokeThickness:.5,align:"center"}),t._currentIcon.progress=1,t.addChild(t._currentIcon),t._rainLabel=new ut,t._rainLabel.text="",t._rainLabel.color=16711680,t._rainLabel.positionOffset=.45*-Math.PI,t.addChild(t._rainLabel),t.main.title="3 Days Forecast";var e=t.main.getPage(0);return t._forecastScreen=new nr,e.addChild(t._forecastScreen),t}return e=a,(r=[{key:"msg2state",value:function(t){var e=t.current,r=t.forecast,n={};n.currentTemperature=e.main.temp,n.currentIcon=e.weather[0].icon,n.currentDescription=e.weather[0].description;var o=(new Date).getTime()/1e3,i=r.list.filter((function(t){return t.dt>=o&&t.dt<=o+86400})).map((function(t){return{min:t.main.temp_min,max:t.main.temp_max}})).reduce((function(t,e){return t.min=Math.min(e.min,t.min),t.max=Math.max(e.max,t.max),t}),{min:e.main.temp,max:e.main.temp});n.currentTemperatureMin=i.min,n.currentTemperatureMax=i.max;var a=r.list.filter((function(t){return t.rain}));return n.rainTime=a&&a.length>0?1e3*a[0].dt:null,n.forecast={startTime:1e3*r.list[0].dt,icons:r.list.map((function(t){return t.weather?t.weather[0].icon:void 0})),pop:r.list.map((function(t){return t.rain?t.pop:0})),rain:r.list.map((function(t){return t.rain?t.rain["3h"]:0})),temp:r.list.map((function(t){return t.main.temp}))},n}},{key:"render",value:function(t){if(ar(lr(a.prototype),"render",this).call(this,t),this._currentTempLabel.progress=this.progress*this.dataLoadProgress,this._currentTempLabel.text=null===this.state.currentTemperature?"":Math.round(this.state.currentTemperature)+"°c",this._currentTempLabel.y=40*this.size,this._currentTempLabel.style.fontSize=8*this.size+7,this._currentIcon.alpha=this.progress*this.dataLoadProgress,this._currentIcon.text=null===this.state.currentIcon?"":cr[this.state.currentIcon],this._currentIcon.y=-29*this.size,this._currentIcon.style.fontSize=60*this.size,this._currentDescriotionLabel.progress=this.progress*this.dataLoadProgress,this._currentDescriotionLabel.text=null===this.state.currentDescription?"":this.state.currentDescription.substring(0,17),this._currentDescriotionLabel.y=15*this.size,this._currentDescriotionLabel.visible=1===this.size,this._currentDescriotionLabel.style.fontSize=12*this.size,this._currentTempScale.size=this.size,this._currentTempScale.progress=this.progress*this.dataLoadProgress,this._currentTempScale.visible=1===this.size,null!==this.state.currentTemperature&&(this._currentTempScale.value=Math.max(-30,Math.min(30,this.state.currentTemperature))),null!==this.state.currentTemperatureMin&&(this._currentTempScale.valueMin=Math.max(-10,Math.min(30,this.state.currentTemperatureMin))),null!==this.state.currentTemperatureMax&&(this._currentTempScale.valueMax=Math.max(-10,Math.min(30,this.state.currentTemperatureMax))),this.state.rainTime){var e=(new Date).getTime(),r=Math.round(Math.max(0,this.state.rainTime-e)/1e3),n="";n+=Math.floor(r/3600).toString().padStart(2,"0")+":",n+=(Math.floor(r/60)%60).toString().padStart(2,"0")+":",n+=(r%60).toString().padStart(2,"0"),this._rainLabel.text=r?"rain in "+n:""}else this._rainLabel.text="";this._rainLabel.visible=1===this.size,this._rainLabel.progress=this.progress*this.dataLoadProgress,this._rainLabel.size=this.size,this._rainLabel.radius=110*this.size,this._rainLabel.fontSize=11*this.size,this._forecastScreen.progress=this.main.progress*this.dataLoadProgress,this.state.forecast&&(this._forecastScreen.startTime=this.state.forecast.startTime,this._forecastScreen.icons=this.state.forecast.icons,this._forecastScreen.pop=this.state.forecast.pop,this._forecastScreen.rain=this.state.forecast.rain,this._forecastScreen.temp=this.state.forecast.temp)}}])&&ir(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(Tt);function fr(t){return fr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fr(t)}function pr(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==fr(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==fr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===fr(o)?o:String(o)),n)}var o}function hr(){return hr="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=yr(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},hr.apply(this,arguments)}function dr(t,e){return dr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},dr(t,e)}function yr(t){return yr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},yr(t)}var _r=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&dr(t,e)}(a,PIXI.Container);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=yr(n);if(o){var r=yr(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===fr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this))._blink=!1,t._clicker=new PIXI.Graphics,t._clicker.beginFill(0,.75),t._clicker.drawCircle(0,0,30),t._clicker.endFill(),t._clicker.lineStyle({color:13421772,width:2}),t._clicker.drawCircle(0,0,25),t._clicker.lineStyle({color:8947848,width:1}),t._clicker.drawCircle(0,0,22),t.addChild(t._clicker),t.interactive=!0,t.on("pointertap",(function(e){t._blink=!0})),t}return e=a,(r=[{key:"render",value:function(t){hr(yr(a.prototype),"render",this).call(this,t);var e=this._blink?1.2:1,r=this._clicker.scale.x+(e-this._clicker.scale.x)/5;this._clicker.scale.set(r),this._clicker.scale.x>=1.18&&(this._blink=!1)}}])&&pr(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}();function br(t){return br="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},br(t)}function mr(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==br(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==br(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===br(o)?o:String(o)),n)}var o}function gr(){return gr="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=wr(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},gr.apply(this,arguments)}function vr(t,e){return vr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},vr(t,e)}function wr(t){return wr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},wr(t)}var Or=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&vr(t,e)}(a,t);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=wr(n);if(o){var r=wr(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===br(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(e=i.call(this))._icon=new PIXI.Text(String.fromCharCode(t),{fontFamily:"Material Symbols Outlined",fontSize:29,fill:"#ffffff",stroke:"#ffffff",strokeThickness:.5,align:"center"}),e._icon.anchor.set(.5,.35),e.addChild(e._icon),e}return e=a,(r=[{key:"render",value:function(t){gr(wr(a.prototype),"render",this).call(this,t)}}])&&mr(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(_r);function Pr(t){return Pr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pr(t)}function Sr(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Pr(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==Pr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===Pr(o)?o:String(o)),n)}var o}function jr(){return jr="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=xr(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},jr.apply(this,arguments)}function kr(t,e){return kr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},kr(t,e)}function xr(t){return xr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},xr(t)}var Tr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&kr(t,e)}(a,PIXI.Container);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=xr(n);if(o){var r=xr(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Pr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this)).size=1,t.progress=0,t._lastHash="",t._bg=new B,t.addChild(t._bg),t._coverCanvas=new PIXI.Graphics,t._doorsCanvas=new PIXI.Graphics,t.addChild(t._coverCanvas),t.addChild(t._doorsCanvas);var e=5592405,r=function(t,e){return 0==t?0:e+t*e*.02};return t._windows=[{x1:-76,y1:r(36,-10),x2:-62,y2:r(22,-10),x3:-76,y3:r(36,20),x4:-62,y4:r(22,20)},{x1:-58,y1:r(18,-10),x2:-44,y2:r(4,-10),x3:-58,y3:r(18,20),x4:-44,y4:r(4,20)},{x1:-24,y1:-9,x2:-8,y2:-9,x3:-24,y3:20,x4:-8,y4:20},{x1:60,y1:r(20,-10),x2:44,y2:r(4,-10),x3:60,y3:r(20,20),x4:44,y4:r(4,20)},{x1:76,y1:r(36,-10),x2:60,y2:r(20,-10),x3:76,y3:r(36,20),x4:60,y4:r(20,20)}],t.covers=t._windows.map((function(){return 0})),t.doors=t._windows.map((function(){return!1})),t._coversActual=t._windows.map((function(){return 0})),t._bg.addLine(-40,-20,-40,20,1,e),t._bg.addLine(-40,-20,40,-20,1,e),t._bg.addLine(40,20,40,-20,1,e),t._bg.addLine(40,20,-40,20,1,e),t._bg.addLine(-40,-20,-80,r(40,-20),1,e),t._bg.addLine(-40,20,-80,r(40,20),1,e),t._bg.addLine(40,-20,80,r(40,-20),1,e),t._bg.addLine(40,20,80,r(40,20),1,e),t._windows.forEach((function(r){var n=r.x1,o=r.x2,i=r.x3,a=r.x4,s=r.y1,l=r.y2,c=r.y3,u=r.y4;t._bg.addLine(i,c,n,s,2,e),t._bg.addLine(a,u,o,l,2,e)})),t}return e=a,(r=[{key:"render",value:function(t){var e=this;jr(xr(a.prototype),"render",this).call(this,t),this._bg.size=this.size,this._bg.progress=this.progress;for(var r=0;r<this.covers.length;r++)this._coversActual[r]+=(this.covers[r]-this._coversActual[r])/100;var n=this._coversActual.map((function(t){return t.toFixed(3)})).join("|")+"|".concat(this.size,"|").concat(this.progress,"|")+this.doors.map((function(t){return t?1:0})).join("|");n!==this._lastHash&&(this._lastHash=n,this._coverCanvas.clear(),this._coverCanvas.beginFill(16777215),this._coverCanvas.alpha=this.progress,this._doorsCanvas.clear(),this._doorsCanvas.beginFill(16711680),this._doorsCanvas.alpha=this.progress,this._windows.forEach((function(t,r){return n=t,o=e._coversActual[r],i=n.x1,a=n.x2,s=n.x3,l=n.x4,c=n.y1,u=n.y2,f=n.y3,p=n.y4,h=(.1+.9*o)*e.progress,e._coverCanvas.moveTo(i*e.size,c*e.size),e._coverCanvas.lineTo(a*e.size,u*e.size),e._coverCanvas.lineTo(l*e.size,(p*h+u*(1-h))*e.size),void e._coverCanvas.lineTo(s*e.size,(f*h+c*(1-h))*e.size);var n,o,i,a,s,l,c,u,f,p,h})),this._windows.forEach((function(t,r){var n,o,i,a,s,l,c,u,f;e.doors[r]&&(o=(n=t).x1,i=n.x2,a=n.x3,s=n.x4,l=n.y1,c=n.y2,u=n.y3,f=n.y4,e._doorsCanvas.moveTo(o*e.size,l*e.size),e._doorsCanvas.lineTo(i*e.size,c*e.size),e._doorsCanvas.lineTo(s*e.size,f*e.size),e._doorsCanvas.lineTo(a*e.size,u*e.size))})))}}])&&Sr(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}();function Mr(t){return Mr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mr(t)}function Rr(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Mr(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==Mr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===Mr(o)?o:String(o)),n)}var o}function Cr(){return Cr="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=zr(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},Cr.apply(this,arguments)}function Lr(t,e){return Lr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Lr(t,e)}function zr(t){return zr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},zr(t)}var Ir=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Lr(t,e)}(a,PIXI.Container);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=zr(n);if(o){var r=zr(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Mr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this)).value=0,t.progress=0,t._shape=new B,t._shape.addSequence([-11.5,-6.5,11.5,-6.5,11.5,-3.5,13.5,-3.5,13.5,3.5,11.5,3.5,11.5,6.5,-11.5,6.5,-11.5,-6.5]),t.addChild(t._shape),t._bars=Array(4).fill(1);for(var e=0;e<t._bars.length;e++){var r=18/(t._bars.length-1);t._bars[e]=new PIXI.Graphics,t._bars[e].beginFill(16777215),t._bars[e].moveTo(-9+Math.max(0,r*e-r+2),4),t._bars[e].lineTo(-9+Math.max(0,r*(e+1)-2-r+2),4),t._bars[e].lineTo(-9+Math.min(18,r*(e+1)-2),-4),t._bars[e].lineTo(r*e-9,-4),t._bars[e].lineTo(-9+Math.max(0,r*e-r+2),4),t.addChild(t._bars[e])}return t._label=new Z("",{fontFamily:"MajorMonoDisplay-Regular",fontSize:8,fill:"#ffffff",stroke:"#ffffff",strokeThickness:.5,align:"left"}),t.addChild(t._label),t._label.anchor.set(0,.6),t._label.x=18,t}return e=a,(r=[{key:"render",value:function(t){this._shape.progress=this.progress;for(var e=0;e<this._bars.length;e++)this._bars[e].visible=(.1+.8*this.value)/.8*this.progress>=(e+1)/this._bars.length;this._bars[1].visible?this._bars[0].alpha=1:this._bars[0].alpha=.5+.5*Math.cos(.02*performance.now()),this._label.progress=this.progress,this._label.text=Math.round(100*this.value)+"%",Cr(zr(a.prototype),"render",this).call(this,t)}}])&&Rr(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}();function Dr(t){return Dr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dr(t)}function Er(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Dr(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==Dr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===Dr(o)?o:String(o)),n)}var o}function Br(){return Br="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Ar(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},Br.apply(this,arguments)}function Fr(t,e){return Fr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Fr(t,e)}function Ar(t){return Ar=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ar(t)}var Xr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Fr(t,e)}(a,PIXI.Container);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Ar(n);if(o){var r=Ar(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Dr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:59411;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),t=i.call(this);var r=new PIXI.Graphics;return t.addChild(r),r.beginFill(0,.01),r.drawCircle(0,0,25),t._icon=new PIXI.Text(String.fromCharCode(e),{fontFamily:"Material Symbols Outlined",fontSize:31,fill:"#ffffff",stroke:"#ffffff",align:"center"}),t._icon.anchor.set(.5,.35),t.addChild(t._icon),t}return e=a,(r=[{key:"render",value:function(t){Br(Ar(a.prototype),"render",this).call(this,t)}}])&&Er(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}();function Hr(t){return Hr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hr(t)}function Gr(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Hr(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==Hr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===Hr(o)?o:String(o)),n)}var o}function Nr(){return Nr="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Wr(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},Nr.apply(this,arguments)}function Vr(t,e){return Vr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Vr(t,e)}function Wr(t){return Wr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Wr(t)}var Zr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Vr(t,e)}(a,PIXI.Container);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Wr(n);if(o){var r=Wr(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Hr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this)).progress=1,t._blink=!1,t._clicker=new PIXI.Graphics,t._clicker.beginFill(0,.1),t._clicker.drawCircle(0,-10,20),t.addChild(t._clicker),t._line=new PIXI.Graphics,t._line.lineStyle({width:1,color:16777215}),t._line.moveTo(0,-20),t._line.lineTo(0,10),t._line.alpha=.35,t.addChild(t._line),t._arrow=new PIXI.Graphics,t._arrow.beginFill(16777215),t._arrow.moveTo(-10,0),t._arrow.lineTo(10,0),t._arrow.lineTo(0,-10),t.addChild(t._arrow),t.interactive=!0,t.on("pointertap",(function(){t._blink=!0})),t}return e=a,(r=[{key:"render",value:function(t){this._arrow.scale.set(this.progress),this._line.scale.y=this.progress,this._clicker.visible=1===this.progress;var e=20*(1-this.progress)+(this._blink?-25:0);this._arrow.y+=(e-this._arrow.y)/4,this._arrow.y<-20&&(this._blink=!1),Nr(Wr(a.prototype),"render",this).call(this,t)}}])&&Gr(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}();function qr(t){return qr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qr(t)}function Yr(t){return function(t){if(Array.isArray(t))return Ur(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return Ur(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ur(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ur(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Kr(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==qr(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==qr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===qr(o)?o:String(o)),n)}var o}function Jr(){return Jr="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=$r(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},Jr.apply(this,arguments)}function Qr(t,e){return Qr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Qr(t,e)}function $r(t){return $r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},$r(t)}var tn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Qr(t,e)}(a,PIXI.Container);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=$r(n);if(o){var r=$r(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===qr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this)).speed=0,t.isAuto=!1,t.progress=0,t._bg=new PIXI.Graphics,t._bg.beginFill(0,.001),t._bg.drawCircle(0,0,30),t.addChild(t._bg),t._pointer=new B,t._pointer.addSequence([-60,-17,-30,-17,-10,-10],1,8947848),t.addChild(t._pointer),t._turbine=new B,t.addChild(t._turbine);for(var e=function(t,e){return[e*Math.sin(t),-e*Math.cos(t)]},r=[],n=2*Math.PI/6,o=0;o<=2*Math.PI;o+=n)r.push.apply(r,Yr(e(o,5))),r.push.apply(r,Yr(e(o+.5*n,20))),r.push.apply(r,Yr(e(o+.7*n,21))),r.push.apply(r,Yr(e(o+1.1*n,20))),r.push.apply(r,Yr(e(o+.9*n,15))),r.push.apply(r,Yr(e(o+.75*n,7)));return t._turbine.addSequence(r,2,11184810),t._frame=new It,t._frame.value=1,t._frame.size=.25,t.addChild(t._frame),t._speedBar=new It,t._speedBar.value=1,t._speedBar.size=.3,t._speedBar.color=16711680,t._speedBar.lineWidth=3,t.addChild(t._speedBar),t._label=new Z("",{fontFamily:"MajorMonoDisplay-Regular",fontSize:9,fill:"#ffffff",stroke:"#ffffff",strokeThickness:.5,align:"right"}),t._label.anchor.set(1,.5),t._label.y=-25,t._label.x=-32,t.addChild(t._label),t}return e=a,(r=[{key:"render",value:function(t){Jr($r(a.prototype),"render",this).call(this,t),this._turbine.progress=this.progress;var e=this.isAuto?.5:this.speed;this._turbine.rotation+=.3*e,this._frame.progress=this.progress,this._speedBar.progress=this.progress*e,this._label.progress=this.progress,this._label.text=this.isAuto?"Auto":Math.round(100*this.speed)+"%",this._pointer.progress=this.progress,this._bg.visible=this.progress>0}}])&&Kr(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}();function en(t){return en="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},en(t)}function rn(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==en(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==en(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===en(o)?o:String(o)),n)}var o}function nn(){return nn="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=an(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},nn.apply(this,arguments)}function on(t,e){return on=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},on(t,e)}function an(t){return an=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},an(t)}var sn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&on(t,e)}(a,PIXI.Container);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=an(n);if(o){var r=an(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===en(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this)).progress=0,t.acMode="off",t.targetTemperature=null,t.currentTemperature=null,t.acFanSpeed=null,t.tempHistory=null,t.batteryValue=null,t._icons=new PIXI.Container,t._icons.x=-230,t.addChild(t._icons),t._autoModeIcon=new Xr(58979),t._autoModeIcon.interactive=!0,t._autoModeIcon.y=-80,t._icons.addChild(t._autoModeIcon),t._coolModeIcon=new Xr(60219),t._coolModeIcon.interactive=!0,t._coolModeIcon.y=-33,t._coolModeIcon.x=-25,t._icons.addChild(t._coolModeIcon),t._heatModeIcon=new Xr(58648),t._heatModeIcon.interactive=!0,t._heatModeIcon.y=23,t._heatModeIcon.x=-25,t._icons.addChild(t._heatModeIcon),t._offModeIcon=new Xr(59564),t._offModeIcon.interactive=!0,t._offModeIcon.y=70,t._icons.addChild(t._offModeIcon),t._offModeIcon.on("pointertap",(function(){return t.emit("acMode","off")})),t._coolModeIcon.on("pointertap",(function(){return t.emit("acMode","cool")})),t._heatModeIcon.on("pointertap",(function(){return t.emit("acMode","heat")})),t._autoModeIcon.on("pointertap",(function(){return t.emit("acMode","auto")})),t._circle=new PIXI.Container,t._circle.x=-120,t.addChild(t._circle),t._acFrame=new bt("Air Conditioning"),t._acFrame.size=.7,t._circle.addChild(t._acFrame),t._tempScale=new De(18,26,"°c",5,Math.PI),t._tempScale.rotation=.5*Math.PI,t._tempScale.size=.75,t._tempScale.valueMin=18,t._circle.addChild(t._tempScale),t._targetLabel=new Z("",{fontFamily:"MajorMonoDisplay-Regular",fontSize:30,fill:"#ff0000",stroke:"#ff0000",strokeThickness:.5,align:"center"}),t._circle.addChild(t._targetLabel),t._upButton=new Zr,t._upButton.y=-35,t._circle.addChild(t._upButton),t._downButton=new Zr,t._downButton.y=35,t._downButton.rotation=Math.PI,t._circle.addChild(t._downButton),t._upButton.on("pointertap",(function(){t.emit("heatUp")})),t._downButton.on("pointertap",(function(){t.emit("coolDown")})),t._fan=new tn,t._fan.y=-60,t._fan.x=-20,t._fan.interactive=!0,t._fan.on("pointertap",(function(){t.emit("fanToggle")})),t.addChild(t._fan),t._tempChart=new He({width:240,height:100,scaleMin:18,scaleMax:26,tickStep:1}),t._tempChart.x=43,t._tempChart.y=-65,t.addChild(t._tempChart),t._chartLabel=new Z("Room Temperature:",{fontFamily:"MajorMonoDisplay-Regular",fontSize:11,fill:"#ff0000",stroke:"#ff0000",strokeThickness:.5,align:"center"}),t._chartLabel.anchor.set(0,1),t._chartLabel.x=30,t._chartLabel.y=-80,t.addChild(t._chartLabel),t._roomTempLabel=new Z("",{fontFamily:"MajorMonoDisplay-Regular",fontSize:11,fill:"#ffffff",stroke:"#ffffff",strokeThickness:.5,align:"center"}),t._roomTempLabel.anchor.set(0,1),t._roomTempLabel.x=175,t._roomTempLabel.y=-80,t.addChild(t._roomTempLabel),t._battery=new Ir,t._battery.x=235,t._battery.y=55,t.addChild(t._battery),t._batteryLabel=new Z("Thermometer:",{fontFamily:"MajorMonoDisplay-Regular",fontSize:8,fill:"#ffffff",stroke:"#ffffff",strokeThickness:.5,align:"center"}),t._batteryLabel.anchor.set(1,.6),t._batteryLabel.x=220,t._batteryLabel.y=55,t.addChild(t._batteryLabel),t}return e=a,(r=[{key:"render",value:function(t){this._acFrame.progress=this.progress,this._targetLabel.progress=this.progress,this._targetLabel.text=this.targetTemperature?this.targetTemperature+"°c":"off",this._tempScale.progress=this.progress,this._tempScale.value+=(Math.min(26,Math.max(18,this.targetTemperature||18))-this._tempScale.value)/10,this._tempScale.valueMax=Math.min(26,Math.max(18,this.currentTemperature||18)),this._upButton.progress=this.progress,this._downButton.progress=this.progress,this._autoModeIcon.alpha="auto"===this.acMode?1:.5,this._coolModeIcon.alpha="cool"===this.acMode?1:.5,this._heatModeIcon.alpha="heat"===this.acMode?1:.5,this._offModeIcon.alpha="off"===this.acMode?1:.5,this._icons.alpha=this.progress,this._fan.progress=this.progress,"auto"===this.acFanSpeed?this._fan.isAuto=!0:(this._fan.isAuto=!1,this._fan.speed=this.acFanSpeed||0),this._tempChart.progress=this.progress,this._tempChart.data=this.tempHistory||[],this._chartLabel.progress=this.progress,this._roomTempLabel.progress=this.progress,this._roomTempLabel.text=this.currentTemperature?this.currentTemperature+"°c":"",this._battery.progress=this.progress,this._batteryLabel.progress=this.progress,this._battery.value=this.batteryValue||0,nn(an(a.prototype),"render",this).call(this,t)}}])&&rn(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}();function ln(t){return ln="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ln(t)}function cn(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==ln(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==ln(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===ln(o)?o:String(o)),n)}var o}function un(){return un="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=pn(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},un.apply(this,arguments)}function fn(t,e){return fn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},fn(t,e)}function pn(t){return pn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},pn(t)}var hn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&fn(t,e)}(a,PIXI.Container);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=pn(n);if(o){var r=pn(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===ln(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(t,e){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(r=i.call(this)).y=t,r._yMin=t,r._yMax=e,r._pos=0,r._clicker=new PIXI.Graphics,r._clicker.beginFill(0,.001),r._clicker.drawCircle(0,0,25),r.addChild(r._clicker),r._canvas=new PIXI.Graphics,r._canvas.beginFill(16777215),r._canvas.lineStyle({width:2,color:0}),r._canvas.drawCircle(0,0,10),r._canvas.moveTo(5,2),r._canvas.lineTo(0,5),r._canvas.lineTo(-5,2),r._canvas.moveTo(5,-2),r._canvas.lineTo(0,-5),r._canvas.lineTo(-5,-2),r.addChild(r._canvas),r.interactive=!0,r.dragging=!1,r.offsetY=0,r.on("mousedown",(function(t){return r._startDrag(t.data.global.y)})),r.on("mousemove",(function(t){return r._updateDrag(t.data.global.y)})),r.on("mouseup",(function(t){return r._stopDrag(t.data.global.y)})),r.on("pointerdown",(function(t){return r._startDrag(t.data.global.y)})),r.on("pointermove",(function(t){return r._updateDrag(t.data.global.y)})),r.on("pointerup",(function(t){return r._stopDrag(t.data.global.y)})),r}return e=a,(r=[{key:"pos",get:function(){return this._pos},set:function(t){this._pos=t}},{key:"_boundY",value:function(t){return Math.min(this._yMax,Math.max(this._yMin,t))}},{key:"_startDrag",value:function(t){this.offsetY=t-this.y,this._clicker.scale.set(100),this.dragging=!0;var e=this.parent;e.removeChild(this),e.addChild(this)}},{key:"_updateDrag",value:function(t){this.dragging&&(this.y=this._boundY(t-this.offsetY))}},{key:"_stopDrag",value:function(t){this.dragging&&(this.y=this._boundY(t-this.offsetY),this._clicker.scale.set(1),this.dragging=!1,this.emit("posChange",(this.y-this._yMin)/(this._yMax-this._yMin)))}},{key:"render",value:function(t){this.dragging||(this.y+=(this._yMin+this._pos*(this._yMax-this._yMin)-this.y)/5),un(pn(a.prototype),"render",this).call(this,t)}}])&&cn(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}();function dn(t){return dn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dn(t)}function yn(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==dn(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==dn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===dn(o)?o:String(o)),n)}var o}function _n(){return _n="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=mn(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},_n.apply(this,arguments)}function bn(t,e){return bn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},bn(t,e)}function mn(t){return mn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},mn(t)}var gn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&bn(t,e)}(a,PIXI.Container);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=mn(n);if(o){var r=mn(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===dn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this)).progress=0,t.covers=null,t.doors=null,t._roomView=new Tr,t._roomView.size=3.4,t._roomView.y=-30,t.coversBattery=null,t.doorsBattery=null,t.addChild(t._roomView),t._dragButtons=[{x:-234,yMin:-68,yMax:78},{x:-173,yMin:-58,yMax:52},{x:-55,yMin:-50,yMax:38},{x:175,yMin:-58,yMax:53},{x:230,yMin:-65,yMax:76}].map((function(e,r){var n=e.x,o=e.yMin,i=e.yMax,a=new hn(o,i);return a.x=n,t.addChild(a),a.on("posChange",(function(e){t.emit("coverChange","cover".concat(r+1),e,r)})),a})),t._coverBatteryIcons=Array(5).fill(1).map((function(e,r){var n=new Ir;return n.x=30,n.y=18*r-50,t.addChild(n),n})),t._doorBatteryIcons=Array(3).fill(1).map((function(e,r){var n=new Ir;return n.x=90,n.y=18*r-50,t.addChild(n),n})),t._batteryLabel=new Z("Cover     Door",{fontFamily:"MajorMonoDisplay-Regular",fontSize:8,fill:"#ff0000",stroke:"#ff0000",strokeThickness:.5,align:"left"}),t._batteryLabel.x=58,t._batteryLabel.y=-70,t.addChild(t._batteryLabel),t._lines=new B,t.addChild(t._lines),t._lines.addSequence([10,-50,5,-50,5,-80,-138,-80,-235,-100,-235,-90],1,8947848),t._lines.addSequence([10,-32,0,-32,0,-75,-138,-75,-175,-83,-175,-78],1,8947848),t._lines.addSequence([10,-14,-20,-14],1,8947848),t._lines.addSequence([10,4,5,4,5,35,8,55,170,55],1,8947848),t._lines.addSequence([10,22,-5,22,-5,35,-11,80,228,80],1,8947848),t}return e=a,(r=[{key:"render",value:function(t){if(this._roomView.progress=this.progress,this.covers&&(this._roomView.covers=this.covers),this.doors&&(this._roomView.doors=this.doors),this.covers)for(var e=0;e<this._dragButtons.length&&e<this.covers.length;e++)this._dragButtons[e].alpha=this.progress,this._dragButtons[e].dragging||(this._dragButtons[e].pos=this.covers[e]),this._dragButtons[e].visible=!this.doors[e];else for(var r=0;r<this._dragButtons.length;r++)this._dragButtons[r].visible=!1;for(var n=0;n<this._coverBatteryIcons.length;n++)this._coverBatteryIcons[n].progress=this.progress,this.coversBattery&&(this._coverBatteryIcons[n].value=this.coversBattery[n]);for(var o=0;o<this._doorBatteryIcons.length;o++)this._doorBatteryIcons[o].progress=this.progress,this.doorsBattery&&(this._doorBatteryIcons[o].value=this.doorsBattery[o]);this._batteryLabel.progress=this.progress,this._lines.progress=this.progress,_n(mn(a.prototype),"render",this).call(this,t)}}])&&yn(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}();function vn(t){return vn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vn(t)}function wn(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==vn(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==vn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===vn(o)?o:String(o)),n)}var o}function On(){return On="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Sn(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},On.apply(this,arguments)}function Pn(t,e){return Pn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Pn(t,e)}function Sn(t){return Sn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Sn(t)}const jn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Pn(t,e)}(a,t);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Sn(n);if(o){var r=Sn(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===vn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,"room","rooM"))._acFanModes=["auto","low","medium low","medium","medium high","high"],t.initState({lastUpdate:null,currentTemperature:null,targetTemperature:null,acState:null,acMode:null,covers:null,doors:null,coversBattery:null,doorsBattery:null,acFanSpeed:null,acFanMode:null,tempHistory:null,tempBattery:null}),t._currentTempLabel=new Z("",{fontFamily:"MajorMonoDisplay-Regular",fontSize:16,fill:"#ffffff",stroke:"#ffffff",strokeThickness:.5,align:"center"}),t.addChild(t._currentTempLabel),t._acStateLabel=new Z("Off",{fontFamily:"MajorMonoDisplay-Regular",fontSize:11,fill:"#ff0000",stroke:"#ff0000",strokeThickness:1,align:"center"}),t.addChild(t._acStateLabel),t._roomView=new Tr,t.addChild(t._roomView),t._buttonFrame=new B,t._buttonFrame.addLine(0,45,30,45,1,11141120),t._buttonFrame.addLine(0,45,-30,45,1,11141120),t._buttonFrame.addLine(0,60,0,45,1,11141120),t._buttonFrame.addLine(45,55,30,45,1,11141120),t._buttonFrame.addLine(-45,55,-30,45,1,11141120),t.addChild(t._buttonFrame),t._dayButton=new Or(58648),t._callButton=new Or(57419),t._nightButton=new Or(58652),t.addChild(t._dayButton),t.addChild(t._callButton),t.addChild(t._nightButton),t._dayButton.on("pointertap",(function(e){e.stopPropagation(),t.sendMessage({action:"cover",target:"cover1",value:100}),t.sendMessage({action:"cover",target:"cover2",value:100}),t.sendMessage({action:"cover",target:"cover3",value:100}),t.sendMessage({action:"cover",target:"cover4",value:100}),t.sendMessage({action:"cover",target:"cover5",value:100})})),t._callButton.on("pointertap",(function(e){e.stopPropagation(),t.sendMessage({action:"cover",target:"cover1",value:100}),t.sendMessage({action:"cover",target:"cover2",value:100}),t.sendMessage({action:"cover",target:"cover3",value:30}),t.sendMessage({action:"cover",target:"cover4",value:0}),t.sendMessage({action:"cover",target:"cover5",value:0})})),t._nightButton.on("pointertap",(function(e){e.stopPropagation(),t.sendMessage({action:"cover",target:"cover1",value:0}),t.sendMessage({action:"cover",target:"cover2",value:0}),t.sendMessage({action:"cover",target:"cover3",value:0}),t.sendMessage({action:"cover",target:"cover4",value:0}),t.sendMessage({action:"cover",target:"cover5",value:0})})),t._scenesLabel=new Z("SceNes",{fontFamily:"MajorMonoDisplay-Regular",fontSize:11,fill:"#aa0000",stroke:"#aa0000",strokeThickness:.5,align:"center"}),t.addChild(t._scenesLabel),t.main.title="room";var e=t.main.getTabButton(1),r=t.main.getPage(1);e.visible=!0,e.text="Climate";var n=t.main.getTabButton(0),o=t.main.getPage(0);return n.visible=!0,n.text="Covers",t._coversScreen=new gn,o.addChild(t._coversScreen),t._coversScreen.on("coverChange",(function(e,r,n){var o=Math.round(100*(1-r));t.sendMessage({action:"cover",target:e,value:o}),t.state.covers[n]=r})),t._climateScreen=new sn,r.addChild(t._climateScreen),t._climateScreen.on("heatUp",(function(){null===t.state.targetTemperature?t.sendMessage({action:"acMode",value:"on"}):(t.state.targetTemperature++,t.sendMessage({action:"temperature",value:t.state.targetTemperature}))})),t._climateScreen.on("coolDown",(function(){null===t.state.targetTemperature?t.sendMessage({action:"acMode",value:"on"}):(t.state.targetTemperature--,t.sendMessage({action:"temperature",value:t.state.targetTemperature}))})),t._climateScreen.on("acMode",(function(e){"off"===e&&(t.state.targetTemperature=null),t.sendMessage({action:"acMode",value:e})})),t._climateScreen.on("fanToggle",(function(){var e=t._acFanModes.indexOf(t.state.acFanMode);if(-1!==e){var r=t._acFanModes[(e+1)%t._acFanModes.length];t.sendMessage({action:"fanMode",value:r})}})),t}return e=a,(r=[{key:"msg2state",value:function(t){var e={};for(e.lastUpdate=(new Date).getTime(),e.currentTemperature=Number(t.temp.state),e.tempBattery=Number(t.tempBattery.state/100),e.acState="off"===t.ac.state?"off":t.ac.attributes.temperature+"°c",e.acMode=t.ac.state,e.targetTemperature="off"===t.ac.state?null:t.ac.attributes.temperature,e.covers=[1-t.cover1.attributes.current_position/100,1-t.cover2.attributes.current_position/100,1-t.cover3.attributes.current_position/100,1-t.cover4.attributes.current_position/100,1-t.cover5.attributes.current_position/100],e.doors=["off"!==t.door1.state,"off"!==t.door2.state,"off"!==t.door3.state],e.coversBattery=[Number(t.cover1Battery.state)/100,Number(t.cover2Battery.state)/100,Number(t.cover3Battery.state)/100,Number(t.cover4Battery.state)/100,Number(t.cover5Battery.state)/100],e.doorsBattery=[Number(t.door1Battery.state)/100,Number(t.door2Battery.state)/100,Number(t.door3Battery.state)/100],"off"===t.ac.state?(e.acFanSpeed=0,e.acFanMode="off"):"auto"===t.ac.attributes.fan_mode?(e.acFanSpeed="auto",e.acFanMode="auto"):(e.acFanSpeed=this._acFanModes.indexOf(t.ac.attributes.fan_mode)/(this._acFanModes.length-1),e.acFanMode=t.ac.attributes.fan_mode),e.tempHistory=t.temp.history.map(Number)||[],e.tempHistory.push(Number(t.temp.state));e.tempHistory.length>48;)e.tempHistory.shift();return e}},{key:"render",value:function(t){On(Sn(a.prototype),"render",this).call(this,t),this._currentTempLabel.progress=this.progress*this.dataLoadProgress,this._currentTempLabel.text=null===this.state.currentTemperature?"":Math.round(this.state.currentTemperature)+"°c",this._climateScreen.targetTemperature=this.state.targetTemperature,this._climateScreen.currentTemperature=this.state.currentTemperature,this._climateScreen.acMode=this.state.acMode,this._currentTempLabel.y=-60*this.size,this._currentTempLabel.style.fontSize=8*this.size+7,this._acStateLabel.progress=this.progress*this.dataLoadProgress,this._acStateLabel.text=this.state.acState||"",1===this.size?(this._acStateLabel.y=-40*this.size,this._acStateLabel.style.fontSize=8*this.size+3):(this._acStateLabel.y=60*this.size,this._acStateLabel.style.fontSize=8*this.size+7),this._roomView.size=this.size,this._roomView.progress=this.progress*this.dataLoadProgress,this.state.covers&&(this._roomView.covers=this.state.covers,this._coversScreen.covers=this.state.covers),this.state.doors&&(this._roomView.doors=this.state.doors,this._coversScreen.doors=this.state.doors),this.state.coversBattery&&(this._coversScreen.coversBattery=this.state.coversBattery),this.state.doorsBattery&&(this._coversScreen.doorsBattery=this.state.doorsBattery),this._dayButton.x=-100*this.size*Math.cos(.25*Math.PI),this._dayButton.y=100*this.size*Math.sin(.25*Math.PI),this._callButton.x=-100*this.size*Math.cos(.5*Math.PI),this._callButton.y=100*this.size*Math.sin(.5*Math.PI)-10*this.size,this._nightButton.x=-100*this.size*Math.cos(.75*Math.PI),this._nightButton.y=100*this.size*Math.sin(.75*Math.PI),this._dayButton.visible=1===this.size,this._callButton.visible=1===this.size,this._nightButton.visible=1===this.size,this._dayButton.scale.set(this.progress*this.dataLoadProgress),this._callButton.scale.set(this.progress*this.dataLoadProgress),this._nightButton.scale.set(this.progress*this.dataLoadProgress),this._buttonFrame.size=this.size,this._buttonFrame.progress=this.progress,this._buttonFrame.visible=1===this.size,this._scenesLabel.progress=this.progress,this._scenesLabel.y=35,this._scenesLabel.visible=1===this.size,this._climateScreen.progress=this.main.progress,this._coversScreen.progress=this.main.progress,this._climateScreen.acFanSpeed=this.state.acFanSpeed,this._climateScreen.tempHistory=this.state.tempHistory,this._climateScreen.batteryValue=this.state.tempBattery}}])&&wn(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(Tt);function kn(t){return kn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kn(t)}function xn(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Tn(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==kn(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==kn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===kn(o)?o:String(o)),n)}var o}function Mn(){return Mn="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Cn(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},Mn.apply(this,arguments)}function Rn(t,e){return Rn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Rn(t,e)}function Cn(t){return Cn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Cn(t)}var Ln=11.4,zn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Rn(t,e)}(a,PIXI.Container);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Cn(n);if(o){var r=Cn(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===kn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this)).progress=0,t.events=null,t._agenda=new Z("",{fontFamily:"MajorMonoDisplay-Regular",fontSize:11,fill:"#ffffff",stroke:"#ffffff",strokeThickness:.5,align:"left"}),t._agenda.anchor.set(0,0),t.addChild(t._agenda),t._agenda.x=-270,t._agenda.y=-80,t._bg=new B,t._bg.addLine(-150,-105,-150,80,1,8947848),t._bg.addLine(200,-105,200,95);for(var e=0;e<15;e++)t._bg.addLine(200,e*Ln-76,250,e*Ln-76,1,16711680);t.addChild(t._bg);var r=Array(15).fill(1).map((function(t,e){return"".concat(String(e+6).padStart(2,"0"),":00")})).join("\n");return t._timeScale=new Z(r,{fontFamily:"MajorMonoDisplay-Regular",fontSize:9,fill:"#ff0000",stroke:"#ff0000",strokeThickness:1.5,align:"right"}),t._timeScale.y=-85,t._timeScale.x=290,t._timeScale.anchor.set(1,0),t.addChild(t._timeScale),t._busyCanvas=new PIXI.Graphics,t._busyCanvas.x=200,t._busyCanvas.y=-76,t.addChild(t._busyCanvas),t._busyPointer=new PIXI.Graphics,t._busyPointer.beginFill(16777215),t._busyPointer.moveTo(0,-5),t._busyPointer.lineTo(5,0),t._busyPointer.lineTo(0,5),t._busyPointer.lineTo(-2,5),t._busyPointer.lineTo(-2,-5),t._busyPointer.lineTo(0,-5),t._busyPointer.endFill(),t._busyPointer.lineStyle({width:1,color:16777215}),t._busyPointer.moveTo(0,0),t._busyPointer.lineTo(15,0),t._busyPointer.x=t._busyCanvas.x,t._busyPointer.y=t._busyCanvas.y,t.addChild(t._busyPointer),t}return e=a,(r=[{key:"render",value:function(t){this._agenda.progress=this.progress,this._timeScale.progress=this.progress,this._bg.progress=this.progress;var e=new Date,r=function(t){var e=new Date(t);return"".concat(e.getHours().toString().padStart(2,"0"),":").concat(e.getMinutes().toString().padStart(2,"0"))};if(this.events){this._agenda.text=this.events.slice(0,11).filter((function(t){return t.end>=e.getTime()})).map((function(t){return"".concat(r(t.start)," - ").concat(r(t.end),"   ").concat(t.summary.substring(0,41))})).join("\n")||"                no more meetings today",this._busyCanvas.clear(),this._busyCanvas.beginFill(16711680);var n,o=function(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return xn(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?xn(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw i}}}}(this.events);try{for(o.s();!(n=o.n()).done;){var i=n.value;if(!i.allDay){var s=new Date(i.start),l=new Date(i.end);s=s.getHours()+s.getMinutes()/60,s=((s=Math.min(20,Math.max(6,s)))-6)*Ln,l=l.getHours()+l.getMinutes()/60,s!==(l=((l=Math.min(20,Math.max(6,l)))-6)*Ln)&&this._busyCanvas.drawRect(5,s,40,l-s)}}}catch(t){o.e(t)}finally{o.f()}}this._busyCanvas.scale.set(this.progress,1),this._busyPointer.alpha=this.progress;var c=e.getHours()+e.getMinutes()/60;c=((c=Math.min(20,Math.max(6,c)))-6)*Ln,this._busyPointer.y=c-76,Mn(Cn(a.prototype),"render",this).call(this,t)}}])&&Tn(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}();function In(t){return In="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},In(t)}function Dn(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==In(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==In(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===In(o)?o:String(o)),n)}var o}function En(){return En="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Fn(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},En.apply(this,arguments)}function Bn(t,e){return Bn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Bn(t,e)}function Fn(t){return Fn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Fn(t)}const An=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Bn(t,e)}(a,t);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Fn(n);if(o){var r=Fn(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===In(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,"calendar","Calendar")).initState({allEvents:null,todayEvents:null,todayEventsLeft:null}),t._statsTitle=new Z("completed\ntoday",{fontFamily:"MajorMonoDisplay-Regular",fontSize:9,fill:"#ff0000",stroke:"#ff0000",strokeThickness:.5,align:"center"}),t.addChild(t._statsTitle),t._statsLabel=new Z("0/0",{fontFamily:"MajorMonoDisplay-Regular",fontSize:15,fill:"#ffffff",stroke:"#ffffff",strokeThickness:.5,align:"center"}),t.addChild(t._statsLabel),t._statusProgress=new It,t._statusProgress.color=16711680,t._statusProgress.lineWidth=2,t._statusProgress.rotation=Math.PI/2,t.addChild(t._statusProgress),t._nextLabel=new ut,t._nextLabel.color=16711680,t._nextMeetingLabel=new ut,t._nextLabel.alignOffset=0,t._nextMeetingLabel.alignOffset=0,t._nextLabel.positionOffset=.37*-Math.PI,t._nextLabel.fontSize=11,t._nextMeetingLabel.fontSize=11,t.addChild(t._nextMeetingLabel),t.addChild(t._nextLabel),t._meetingClock=new PIXI.Container,t.addChild(t._meetingClock),t._clockAlert=new PIXI.Graphics,t._clockAlert.beginFill(16711680),t._clockAlert.drawCircle(0,0,40),t._meetingClock.addChild(t._clockAlert),t._clockAlert.visible=!1,t._clockScale=new Te,t._clockScale.count=60,t._clockScale.length=.1,t._meetingClock.addChild(t._clockScale),t._clockSplit=new Te,t._clockSplit.count=6,t._clockSplit.length=.5,t._meetingClock.addChild(t._clockSplit),t._clockFrame=new It,t._clockFrame.value=1,t._clockFrame.lineWidth=1.5,t._meetingClock.addChild(t._clockFrame),t._clockPointer=new Oe,t._meetingClock.addChild(t._clockPointer),t._clockCenter=new PIXI.Graphics,t._clockCenter.lineStyle({color:11184810,width:1}),t._clockCenter.drawCircle(0,0,10),t._clockCenter.drawCircle(0,0,1),t._clockCenter.alpha=0,t._meetingClock.addChild(t._clockCenter),t._clockTitle=new ut,t._meetingClock.addChild(t._clockTitle),t.main.title="Calendar";var e=t.main.getPage(0);return t._calendarScreen=new zn,e.addChild(t._calendarScreen),t}return e=a,(r=[{key:"msg2state",value:function(t){var e=864e5*Math.floor((new Date).getTime()/864e5)+6e4*(new Date).getTimezoneOffset(),r={};return r.allEvents=t.filter((function(t){return t.start<e+6048e5})),r.todayEvents=r.allEvents.filter((function(t){return t.start<e+864e5&&!t.allDay})),r.todayEventsLeft=r.todayEvents.filter((function(t){return t.end>=(new Date).getTime()})),r}},{key:"render",value:function(t){En(Fn(a.prototype),"render",this).call(this,t);var e=(new Date).getTime();if(this._statsLabel.progress=this.progress*this.dataLoadProgress,this._statsTitle.progress=this.progress*this.dataLoadProgress,this._statsLabel.y=25*this.size-120*Math.max(0,this.size-.5),this._statsTitle.y=-20*this.size-80*Math.max(0,this.size-.5),this._statusProgress.progress=this.progress*this.dataLoadProgress,this._statusProgress.size=this.size,this.state.todayEvents&&this.state.todayEventsLeft){var r=this.state.todayEvents.length-this.state.todayEventsLeft.length,n=this.state.todayEvents.length;this._statsLabel.text=r+"/"+n,this._statusProgress.value=n?r/n*.5:0}if(this.state.todayEventsLeft&&this.state.todayEventsLeft.length>0){var o=this.state.todayEvents.filter((function(t){return t.start>e}));if(o.length>0){var i=new Date(o[0].start),s=i.getHours().toString().padStart(2,"0"),l=i.getMinutes().toString().padStart(2,"0");this._nextMeetingLabel.visible=!0,this._nextMeetingLabel.radius=105*this.size+5,this._nextMeetingLabel.text="".concat(s,":").concat(l," ").concat(1===this.size?o[0].summary.substring(0,40):""),this._nextMeetingLabel.progress=this.progress*this.dataLoadProgress,this._nextMeetingLabel.positionOffset=.52*-Math.PI-.5*(1-this.size),this._nextLabel.visible=!0,this._nextLabel.radius=105*this.size+5,this._nextLabel.text="next:",this._nextLabel.progress=this.progress*this.dataLoadProgress,this._nextLabel.fontSize=7+4*this.size,this._nextMeetingLabel.fontSize=7+4*this.size}else this._nextMeetingLabel.visible=!1,this._nextLabel.visible=!1}else this._nextMeetingLabel.visible=!1,this._nextLabel.visible=!1;if(1===this.size&&this.state.todayEvents){var c=this.state.todayEvents.find((function(t){return t.start<e&&t.end>e})),u=0,f=0;c&&(f=c.end-e,u=(e-c.start)/(c.end-c.start)),this._meetingClock.visible=!0,this._meetingClock.y=40*this.size,this._clockScale.size=.4*this.size,this._clockScale.progress=this.progress*this.dataLoadProgress,this._clockSplit.size=.4*this.size,this._clockSplit.progress=this.progress*this.dataLoadProgress,this._clockFrame.size=.45*this.size,this._clockFrame.progress=this.progress*this.dataLoadProgress,this._clockPointer.size=.35,this._clockPointer.progress=this.progress*this.dataLoadProgress,this._clockCenter.alpha=this.progress*this.dataLoadProgress,this._clockTitle.radius=53,this._clockTitle.progress=this.progress*this.dataLoadProgress,this._clockTitle.text=c?"meeting clock":"no meetings now",this._clockTitle.alpha=c?1:.4,this._clockPointer.pointerRotation=2*Math.PI*u,this._clockPointer.visible=!!c,this._clockAlert.visible=!0,this._clockAlert.alpha=f>0&&f<3e5?.4*Math.sin(.01*performance.now())+.4:0,this._clockAlert.alpha*=this.progress*this.dataLoadProgress}else this._meetingClock.visible=!1,this._clockAlert.visible=!1;this._calendarScreen.progress=this.main.progress*this.dataLoadProgress,this._calendarScreen.events=this.state.todayEvents}}])&&Dn(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(Tt);function Xn(t){return Xn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xn(t)}function Hn(){return Hn="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Yn(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},Hn.apply(this,arguments)}function Gn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Nn(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Xn(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==Xn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===Xn(o)?o:String(o)),n)}var o}function Vn(t,e,r){return e&&Nn(t.prototype,e),r&&Nn(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Wn(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Zn(t,e)}function Zn(t,e){return Zn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Zn(t,e)}function qn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Yn(t);if(e){var o=Yn(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===Xn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function Yn(t){return Yn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Yn(t)}var Un=function(t){Wn(r,PIXI.Graphics);var e=qn(r);function r(){var t;return Gn(this,r),(t=e.call(this))._completed=null,t._radius=null,t._angle=null,t.radius=50,t.angle=0,t.completed=!1,t}return Vn(r,[{key:"completed",get:function(){return this._completed},set:function(t){t!==this._completed&&(this._completed=t,this.clear(),this.completed?(this.lineStyle({width:2,alpha:.9,color:16777215}),this.moveTo(-4,-4),this.lineTo(4,4),this.moveTo(4,-4),this.lineTo(-4,4)):(this.lineStyle({width:1.5,alpha:.8,color:16777215}),this.beginFill(0),this.drawCircle(0,0,4)))}},{key:"radius",get:function(){return this._radius},set:function(t){this._radius=t,this._updatePos()}},{key:"angle",get:function(){return this._angle},set:function(t){this._angle=t,this._updatePos()}},{key:"_updatePos",value:function(){this.x=this._radius*Math.sin(this.angle),this.y=-this._radius*Math.cos(this.angle),this.rotation=this.angle}}]),r}(),Kn=function(t){Wn(r,PIXI.Container);var e=qn(r);function r(t,n){var o,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2*Math.PI;return Gn(this,r),(o=e.call(this))._startTime=t,o._endTime=n,o._angularRange=i,o._startAngle=(2*Math.PI-i)/2,o._endAngle=o._startAngle+i,o.now=t,o.size=1,o.progress=0,o._dataVersion=0,o._lastHash="",o._dots=[],o}return Vn(r,[{key:"setPoints",value:function(t){var e;for(this._points=t;this._dots.length>this._points.length;)this.removeChild(this._dots.pop());for(;this._dots.length<this._points.length;)(e=new Un).visible=!1,e.angle=this._startAngle,this.addChild(e),this._dots.push(e);this._dataVersion++}},{key:"render",value:function(t){Hn(Yn(r.prototype),"render",this).call(this,t);var e="".concat(this._dataVersion.toFixed(0),"|").concat(this.size.toFixed(3),"|").concat(this.progress.toFixed(3),"|").concat(Math.round(this.now/1e3));if(this._lastHash!==e){this._lastHash=e;for(var n=0,o=0;o<this._dots.length;o++){var i=this._points[o]||this.now,a=this._dots[o];a.visible=!0,this._points[o]?a.completed=!0:(n++,a.completed=!1),a.alpha=this.progress;var s=(i-this._startTime)/(this._endTime-this._startTime),l=this._startAngle+this._angularRange*this.progress*s;a.completed||(l+=.15*n),a.angle=Math.max(this._startAngle,Math.min(this._endAngle,l)),a.radius=100*this.size}}}}]),r}();function Jn(t){return Jn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jn(t)}function Qn(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Jn(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==Jn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===Jn(o)?o:String(o)),n)}var o}function $n(){return $n="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=eo(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},$n.apply(this,arguments)}function to(t,e){return to=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},to(t,e)}function eo(t){return eo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},eo(t)}var ro=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&to(t,e)}(a,PIXI.Container);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=eo(n);if(o){var r=eo(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Jn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this)).progress=0,t.count=0,t.title="Count",t._lastHash="",t._dots=[];for(var e=0,r=0,n=42,o=1;n>0;){0===r&&(e+=8);var s=2*Math.PI*e,l=Math.floor(s/8);l=2*Math.floor(l/2);var c=e?2*Math.PI/l:0;0===r&&(r=Math.round(2*Math.PI/c),o=1);var u=t._createDot(2.4,e,o*c);u.y>0?u.y+=13.5:u.y-=13.5,t.addChild(u),t._dots.push(u),r--,n--,Math.abs(Math.sin(o*c))<.01&&n>0&&((u=t._createDot(2.4,e,o*c)).y>=0?u.y-=13.5:u.y+=13.5,t.addChild(u),t._dots.push(u),n--),o++}return t._label=new Z("",{fontFamily:"MajorMonoDisplay-Regular",fontSize:11,fill:"#ffffff",stroke:"#ffffff",strokeThickness:.5,align:"center"}),t.addChild(t._label),t}return e=a,(r=[{key:"_createDot",value:function(t,e,r){var n=new PIXI.Graphics;return n.lineStyle({color:16711680,width:1.5,alpha:.4}),n.beginFill(16711680,.9),n.drawCircle(0,0,t),n.x=1.35*e*Math.cos(r),n.y=e*Math.sin(r),n}},{key:"render",value:function(t){$n(eo(a.prototype),"render",this).call(this,t);var e="".concat(this.title,"|").concat(this.count.toFixed(0),"|").concat(this.progress.toFixed(3));if(this._lastHash!==e){this._lastHash=e;for(var r=0;r<this._dots.length;r++)this._dots[r].visible=this.progress>r/this._dots.length,this._dots[r].alpha=r<this.count?1:.25;this._label.progress=this.progress,this._label.text=this.count>0?"".concat(this.title,":").concat(this.count):this.title}}}])&&Qn(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}();function no(t){return no="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},no(t)}function oo(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==no(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==no(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===no(o)?o:String(o)),n)}var o}function ao(){return ao="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=lo(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},ao.apply(this,arguments)}function so(t,e){return so=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},so(t,e)}function lo(t){return lo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},lo(t)}var co=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&so(t,e)}(a,PIXI.Container);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=lo(n);if(o){var r=lo(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===no(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this)).progress=0,t.id="",t._completed=!1,t._checkProgress=0,t._lockTimer=0,t._titleLabel=new Z("",{fontFamily:"MajorMonoDisplay-Regular",fontSize:13,fill:"#ffffff",stroke:"#ffffff",strokeThickness:.5,align:"left"}),t._titleLabel.x=60,t._titleLabel.anchor.set(0,.5),t.addChild(t._titleLabel),t._checkBox=new B,t._checkBox.x=20,t._checkBox.addSequence([-15,-15,15,-15,15,15,-15,15,-15,-15],1,16777215,1,0,.5),t._checkBox.addSequence([-13,0,-3,10,22,-15],2,16777215,1,.5,1),t._checkBox.addSequence([-13,-5,-3,5,22,-20],3,16777215,1,.5,1),t.addChild(t._checkBox),t._clicker=new PIXI.Graphics,t._clicker.beginFill(0,1e-5),t._clicker.drawRect(-17,-17,34,34),t._clicker.x=20,t._clicker.interactive=!0,t._clicker.on("pointertap",(function(){t._lockTimer=0,t.completed=!t.completed,t._lockTimer=500,t.emit(t.completed?"complete":"uncomplete",t.id)})),t.addChild(t._clicker),t}return e=a,(r=[{key:"title",get:function(){return this._titleLabel.text},set:function(t){this._titleLabel.text=String(t).substring(0,52)}},{key:"completed",get:function(){return this._completed},set:function(t){this._lockTimer>0||(this._completed=t)}},{key:"render",value:function(t){this._lockTimer>0&&this._lockTimer--,this._completed&&this._checkProgress<1?this._checkProgress+=.15:!this._completed&&this._checkProgress>0&&(this._checkProgress-=.15),this._titleLabel.progress=this.progress,this._checkBox.progress=this.progress*(.5+.5*this._checkProgress),this._clicker.visible=this.progress>.5,this._checkBox.alpha=1-.5*this._checkProgress,this._titleLabel.alpha=1-.5*this._checkProgress,ao(lo(a.prototype),"render",this).call(this,t)}}])&&oo(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}();function uo(t){return uo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uo(t)}function fo(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==uo(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==uo(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===uo(o)?o:String(o)),n)}var o}function po(){return po="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=yo(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},po.apply(this,arguments)}function ho(t,e){return ho=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ho(t,e)}function yo(t){return yo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},yo(t)}var _o=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ho(t,e)}(a,PIXI.Container);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=yo(n);if(o){var r=yo(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===uo(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this)).progress=0,t.actionList=null,t.offsetY=0,t.dragging=!1,t._tasks=[],t._taskContainer=new Ye(580,180),t._taskContainer.contentRect.x=0,t._taskContainer.contentRect.y=0,t._taskContainer.contentRect.height=0,t._taskContainer.contentRect.width=0,t._taskContainer.contentMask.clear(),t._taskContainer.contentMask.beginFill(255),t._taskContainer.contentMask.moveTo(-290,-90),t._taskContainer.contentMask.lineTo(-257,-90),t._taskContainer.contentMask.lineTo(-242,-105),t._taskContainer.contentMask.lineTo(250,-105),t._taskContainer.contentMask.lineTo(265,-90),t._taskContainer.contentMask.lineTo(280,-90),t._taskContainer.contentMask.lineTo(280,95),t._taskContainer.contentMask.lineTo(150,95),t._taskContainer.contentMask.lineTo(135,110),t._taskContainer.contentMask.lineTo(15,110),t._taskContainer.contentMask.lineTo(0,95),t._taskContainer.contentMask.lineTo(-250,95),t._taskContainer.contentMask.lineTo(-265,80),t._taskContainer.contentMask.lineTo(-290,80),t._taskContainer.contentMask.lineTo(-290,-90),t.addChild(t._taskContainer),t._taskContainer.scroller.clear(),t._taskContainer.scroller.beginFill(0,1e-4),t._taskContainer.scroller.drawRect(-240,-100,520,200),t._statsLabel=new Z(" todo | show | all ",{fontFamily:"MajorMonoDisplay-Regular",fontSize:8,fill:"#ff0000",stroke:"#ff0000",strokeThickness:1.5,align:"left"}),t._statsLabel.x=202,t._statsLabel.y=101,t.addChild(t._statsLabel),t._statsValues=new Z("",{fontFamily:"MajorMonoDisplay-Regular",fontSize:10.5,fill:"#ffffff",stroke:"#ffffff",strokeThickness:.5,align:"left"}),t._statsValues.x=203,t._statsValues.y=118,t.addChild(t._statsValues),t}return e=a,(r=[{key:"render",value:function(t){var e=this;if(this._taskContainer.contentRect.height=50*this._tasks.length+20,this.actionList){for(;this._tasks.length>this.actionList.length||this._tasks.length>20;)this._taskContainer.removeChild(this._tasks.pop());for(;this._tasks.length<this.actionList.length&&this._tasks.length<20;){var r=new co;r.on("complete",(function(t){return e.emit("complete",t)})),r.on("uncomplete",(function(t){return e.emit("uncomplete",t)})),r.x=-280,r.y=50*this._tasks.length-60,this._tasks.push(r),this._taskContainer.addChild(r)}for(var n=0;n<this._tasks.length;n++)this._tasks[n].progress=this.progress,this._tasks[n].title=this.actionList[n].title,this._tasks[n].id=this.actionList[n].id,this._tasks[n].completed=!!this.actionList[n].completed;this._statsValues.text=[this.actionList.filter((function(t){return!t.completed})).length,Math.min(this.actionList.length,20),this.actionList.length].map((function(t){return String(t).padStart(3," ")})).join("  ")}this._statsLabel.progress=this.progress,this._statsValues.progress=this.progress,po(yo(a.prototype),"render",this).call(this,t)}}])&&fo(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}();function bo(t){return bo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bo(t)}function mo(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==bo(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==bo(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===bo(o)?o:String(o)),n)}var o}function go(){return go="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=wo(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},go.apply(this,arguments)}function vo(t,e){return vo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},vo(t,e)}function wo(t){return wo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},wo(t)}const Oo=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&vo(t,e)}(a,t);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=wo(n);if(o){var r=wo(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===bo(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,"todo","Tasks")).dataLoadProgress=0,t.initState({inboxList:null,actionList:null}),t._scaleLarge=new Te,t._scaleLarge.count=8,t._scaleLarge.countMax=7,t._scaleLarge.rotation=Math.PI/4,t._scaleLarge.length=.2,t.addChild(t._scaleLarge),t._inboxFrame=new It,t._inboxFrame.size=.51,t._inboxFrame.value=1,t._inboxFrame.lineWidth=1,t._inboxFrame.alpha=.5,t.addChild(t._inboxFrame),t._timeScale=new De(0,24,"h",7,1.5*Math.PI),t._timeScale.rotation=.25*Math.PI,t.addChild(t._timeScale),t._dotCluster=new ro,t._dotCluster.title="inbox",t.addChild(t._dotCluster),t._timeline=new Kn(0,864e5,1.5*Math.PI),t.addChild(t._timeline),t.main.title="Getting Things Done";var e=t.main.getPage(0);return t._todoListScreen=new _o,e.addChild(t._todoListScreen),t._todoListScreen.on("complete",(function(e){t.sendMessage({action:"completeNextAction",id:e})})),t._todoListScreen.on("uncomplete",(function(e){t.sendMessage({action:"uncompleteNextAction",id:e})})),t}return e=a,(r=[{key:"msg2state",value:function(t){var e={};e.lastUpdate=(new Date).getTime(),e.inboxList=t.inbox,e.actionList=t.action,e.todayLeft=e.actionList.filter((function(t){return"needsAction"===t.status}));var r=864e5*Math.floor((new Date).getTime()/864e5)+6e4*(new Date).getTimezoneOffset();return this._timeline.setPoints(e.actionList.map((function(t){return t.completed?t.completed-r:null}))),e}},{key:"render",value:function(t){go(wo(a.prototype),"render",this).call(this,t);var e=864e5*Math.floor((new Date).getTime()/864e5)+6e4*(new Date).getTimezoneOffset();this._dotCluster.count=this.state.inboxList?this.state.inboxList.length:0,this._dotCluster.progress=this.progress*this.dataLoadProgress,this._timeline.progress=this.progress*this.dataLoadProgress,this._timeline.size=this.size,this._timeline.now=(new Date).getTime()-e,this._scaleLarge.progress=this.progress,this._scaleLarge.size=this.size,this._scaleLarge.visible=1===this.size,this._timeScale.progress=this.progress,this._timeScale.size=1.05*this.size,this._timeScale.value=this._timeline.now/36e5,this._timeScale.visible=1===this.size,this._inboxFrame.progress=this.progress,this._inboxFrame.visible=1===this.size,this._todoListScreen.progress=this.main.progress*this.dataLoadProgress,this._todoListScreen.actionList=this.state.actionList}}])&&mo(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(Tt);function Po(t){return Po="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Po(t)}function So(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Po(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==Po(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===Po(o)?o:String(o)),n)}var o}function jo(){return jo="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=xo(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},jo.apply(this,arguments)}function ko(t,e){return ko=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ko(t,e)}function xo(t){return xo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},xo(t)}var To=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ko(t,e)}(a,PIXI.Container);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=xo(n);if(o){var r=xo(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Po(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this))._shapes=new PIXI.Graphics,t.addChild(t._shapes),t.size=1,t.progress=0,t.count=30,t.countMax=1e5,t.length=.5,t._updateHash="",t}return e=a,(r=[{key:"render",value:function(t){jo(xo(a.prototype),"render",this).call(this,t);var e="".concat(this.size.toFixed(3),"|").concat(this.progress.toFixed(3),"|").concat(this.length.toFixed(3),"|").concat(this.count.toFixed(0),"|").concat(this.countMax.toFixed(0));if(this._updateHash!==e){this._updateHash=e,this._shapes.clear(),this._shapes.beginFill(16711680);for(var r=2*Math.PI/this.count,n=0;n<this.countMax&&n<this.count;n++)this._shapes.drawCircle(100*this.size*Math.sin(n*r),100*-this.size*Math.cos(n*r),2.5*this.size*this.progress)}}}])&&So(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}();function Mo(t){return Mo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mo(t)}function Ro(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Mo(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==Mo(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===Mo(o)?o:String(o)),n)}var o}function Co(){return Co="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=zo(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},Co.apply(this,arguments)}function Lo(t,e){return Lo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Lo(t,e)}function zo(t){return zo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},zo(t)}var Io=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Lo(t,e)}(a,t);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=zo(n);if(o){var r=zo(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Mo(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this))._mode="stop",t._stopIcon=new PIXI.Graphics,t._stopIcon.beginFill(16711680),t._stopIcon.moveTo(-8,-8),t._stopIcon.lineTo(8,-8),t._stopIcon.lineTo(8,8),t._stopIcon.lineTo(-8,8),t._stopIcon.lineTo(-8,-8),t.addChild(t._stopIcon),t._playIcon=new PIXI.Graphics,t._playIcon.beginFill(16777215),t._playIcon.moveTo(-5,-10),t._playIcon.lineTo(11,0),t._playIcon.lineTo(-5,10),t._playIcon.lineTo(-5,-10),t.addChild(t._playIcon),t.on("pointertap",(function(e){e.stopPropagation(),"stop"===t.mode?(t.mode="play",t.emit("play")):(t.mode="stop",t.emit("stop"))})),t}return e=a,(r=[{key:"mode",get:function(){return this._mode},set:function(t){t!==this._mode&&(this._blink=!0),this._mode=t}},{key:"render",value:function(t){Co(zo(a.prototype),"render",this).call(this,t),this._playIcon.visible="stop"===this.mode,this._stopIcon.visible="play"===this.mode}}])&&Ro(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(_r);function Do(t){return Do="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Do(t)}function Eo(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Do(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==Do(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===Do(o)?o:String(o)),n)}var o}function Bo(){return Bo="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Ao(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},Bo.apply(this,arguments)}function Fo(t,e){return Fo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Fo(t,e)}function Ao(t){return Ao=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ao(t)}var Xo=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Fo(t,e)}(a,PIXI.Container);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Ao(n);if(o){var r=Ao(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Do(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this)).progress=0,t._ground=new B,t._ground.addLine(-20,0,20,0),t.addChild(t._ground),t._trunk=new B,t._fruits=[],t._leaves=[],t.addChild(t._trunk);for(var e=[],r=0;r<120;r+=10){var n=15*(1-r/130)*Math.sin(.1*r);if(e.push(n),e.push(-r),r>5&&r%10==0&&r<105){var o=t._leaves.length;t._leaves[o]=new PIXI.Graphics,t._leaves[o].beginFill(16777215),t._leaves[o].moveTo(-3,0),t._leaves[o].lineTo(3,2),t._leaves[o].lineTo(17,0),t._leaves[o].lineTo(3,-5),t._leaves[o].lineTo(-3,0),t._leaves[o].x=n,t._leaves[o].y=-r-7,t._leaves[o].rotation=o%2!=0?-.5:3.5,t.addChildAt(t._leaves[o],0)}if(r>0&&r<=100&&r%10==0){var s=Math.floor(r/10)-1,l=13+7*(1-r/130),c=s%2==0?-1:1;t._fruits[s]=new PIXI.Graphics,t._fruits[s].beginFill(16711680),t._fruits[s].drawCircle(0,0,7),t._fruits[s].endFill(),t._fruits[s].lineStyle({width:1,color:16777215}),t._fruits[s].moveTo(0,-7),t._fruits[s].lineTo(4,-3),t._fruits[s].moveTo(0,-7),t._fruits[s].lineTo(-3,-3),t._fruits[s].x=n+c*l*.5,t._fruits[s].y=3-r,t.addChild(t._fruits[s])}}return t._trunk.addSequence(e),t._dayLabel=new Z("",{fontFamily:"MajorMonoDisplay-Regular",fontSize:10,fill:"#ff0000",stroke:"#ff0000",strokeThickness:1.5,align:"center"}),t.addChild(t._dayLabel),t._dayLabel.y=10,t._valueLabel=new Z("",{fontFamily:"MajorMonoDisplay-Regular",fontSize:14,fill:"#ffffff",stroke:"#ffffff",strokeThickness:.5,align:"center"}),t.addChild(t._valueLabel),t._valueLabel.y=25,t}return e=a,(r=[{key:"label",get:function(){return this._dayLabel.text},set:function(t){this._dayLabel.text=t}},{key:"render",value:function(t){this._ground.progress=this.progress,this._dayLabel.progress=this.progress,this._valueLabel.progress=this.progress,this._valueLabel.text=this.value,this._trunk.progress=this.progress*Math.min(1,(this.value+1)/11);for(var e=0;e<this._fruits.length;e++)this._fruits[e].scale.set(Math.max(0,Math.min(1,(this.value*this.progress-e)/.8)));for(var r=0;r<this._leaves.length;r++)this._leaves[r].scale.set(Math.max(0,Math.min(1,(this.value*this.progress-r)/.8)));Bo(Ao(a.prototype),"render",this).call(this,t)}}])&&Eo(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}();function Ho(t){return Ho="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ho(t)}function Go(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Ho(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==Ho(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===Ho(o)?o:String(o)),n)}var o}function No(){return No="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Wo(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},No.apply(this,arguments)}function Vo(t,e){return Vo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Vo(t,e)}function Wo(t){return Wo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Wo(t)}var Zo=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],qo=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Vo(t,e)}(a,PIXI.Container);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Wo(n);if(o){var r=Wo(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Ho(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this)).progress=0,t.value=0,t.stats=Array(7).fill(0),t._scale=new B,t._scale.addLine(-285,40,285,40,1,4473924),t._scale.addLine(-285,20,285,20,1,4473924),t._scale.addLine(-285,0,285,0,1,4473924),t._scale.addLine(-285,-20,285,-20,1,4473924),t._scale.addLine(-285,-40,285,-40,1,4473924),t._scale.addLine(-285,-60,285,-60,1,4473924),t._scale.addLine(-285,-80,285,-80,1,4473924),t.addChild(t._scale),t._plants=Array(7).fill(1).map((function(e,r){var n=new Xo;return t.addChild(n),n.x=80*r-250,n.y=40,n.value=0,n})),t}return e=a,(r=[{key:"render",value:function(t){var e=(new Date).getDay();if(this._scale.progress=this.progress,this.stats)for(var r=0;r<this._plants.length;r++)this._plants[r].progress=this.progress,this._plants[r].label=Zo[(r+e+1)%7],this._plants[r].value=this.stats[r];No(Wo(a.prototype),"render",this).call(this,t)}}])&&Go(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}();function Yo(t){return Yo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yo(t)}function Uo(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Yo(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==Yo(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===Yo(o)?o:String(o)),n)}var o}function Ko(){return Ko="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Qo(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},Ko.apply(this,arguments)}function Jo(t,e){return Jo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Jo(t,e)}function Qo(t){return Qo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Qo(t)}const $o=[_e,ur,jn,An,Oo,function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Jo(t,e)}(a,t);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Qo(n);if(o){var r=Qo(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Yo(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,"pomodoro","Pomodoro")).initState({history:null,stats:null}),t._ticks=new Te,t._ticks.count=25,t._ticks.length=.1,t.addChild(t._ticks),t._redLight=new PIXI.Graphics,t._redLight.beginFill(16711680),t._redLight.drawCircle(0,0,100),t._redLight.alpha=0,t.addChildAt(t._redLight,0),t._timerStart=Number(localStorage.getItem("Pomodoro_timerStart"))||null,t._timerStop=Number(localStorage.getItem("Pomodoro_timerStop"))||null,t._mode=localStorage.getItem("Pomodoro_mode")||"work",t._pulse=!1,t._playButton=new Io,t._updatePlayButtonStatus(),t._playButton.scale.set(0),t._playButton.on("play",(function(){t._timerStart=(new Date).getTime(),t._timerStop=null,t._mode="work"===t._mode?"break":"work",t._pulse=!1,localStorage.setItem("Pomodoro_timerStart",t._timerStart),localStorage.setItem("Pomodoro_timerStop",t._timerStop),localStorage.setItem("Pomodoro_mode",t._mode)})),t._playButton.on("stop",(function(){t._timerStop=(new Date).getTime(),t._pulse=!1,localStorage.setItem("Pomodoro_timerStop",t._timerStop)})),t._workLabel=new ut,t._workLabel.text="Work",t._workLabel.positionOffset=1.8,t.addChild(t._workLabel),t._breakLabel=new ut,t._breakLabel.text="Break",t._breakLabel.color=16711680,t._breakLabel.positionOffset=1.3,t.addChild(t._breakLabel),t._modeLabel=new Z("Work",{fontFamily:"MajorMonoDisplay-Regular",fontSize:16,fill:"#ffffff",stroke:"#ffffff",strokeThickness:.5,align:"center"}),t._modeLabel.anchor.set(.5),t.addChild(t._modeLabel),t._pointer=new Oe,t.addChild(t._pointer),t._clockCenter=new PIXI.Graphics,t._clockCenter.lineStyle({width:2,alpha:.8,color:16777215}),t._clockCenter.drawCircle(0,0,10),t._clockCenter.beginFill(16777215),t._clockCenter.drawCircle(0,0,2),t.addChild(t._clockCenter),t._timeBg=new PIXI.Graphics,t._timeBg.beginFill(0),t._timeBg.drawRect(-55,-9,110,20),t.addChild(t._timeBg),t._timeBgRed=new PIXI.Graphics,t._timeBgRed.beginFill(16711680),t._timeBgRed.drawRect(-55,-9,110,20),t._timeBgRed.alpha=0,t.addChild(t._timeBgRed),t._timeLabel=new Z("00:00.000",{fontFamily:"MajorMonoDisplay-Regular",fontSize:16,fill:"#ffffff",stroke:"#ffffff",strokeThickness:.5,align:"center"}),t._timeLabel.anchor.set(.5),t.addChild(t._timeLabel),t.addChild(t._playButton),t._dotLabel=new ut,t._dotLabel.text="completed:",t._dotLabel.color=16711680,t._dotLabel.positionOffset=-1.6,t._dotLabel.alpha=0,t.addChild(t._dotLabel),t._dots=new To,t._dots.rotation=2.1,t._dots.count=40,t._dots.countMax=0,t.addChild(t._dots),t.main.title="Pomodoro stats";var e=t.main.getPage(0);return t._statsScreen=new qo,e.addChild(t._statsScreen),t}return e=a,(r=[{key:"msg2state",value:function(t){var e=Math.floor((new Date).getTime()/864e5);return{history:t.history,stats:t.history.map((function(t){return Math.floor(t/864e5-e+6)})).filter((function(t){return t>=0})).reduce((function(t,e){return t[e]++,t}),Array(7).fill(0))}}},{key:"_updatePlayButtonStatus",value:function(){this._playButton.mode=null!==this._timerStart&&null===this._timerStop?"play":"stop"}},{key:"_getCurrentTimeLimit",value:function(){return"work"===this._mode?15e5:3e5}},{key:"_updateTimer",value:function(){if(this._timerStart){var t=(new Date).getTime(),e=(this._timerStop||t)-this._timerStart,r=this._getCurrentTimeLimit();return e>r&&(this._timerStop=this._timerStart+r,localStorage.setItem("Pomodoro_timerStop",this._timerStop),this._updatePlayButtonStatus(),this._pulse=!0,"work"===this._mode&&this.sendMessage({action:"pomodoroDone"})),e/r}}},{key:"render",value:function(t){Ko(Qo(a.prototype),"render",this).call(this,t);var e=this._updateTimer(),r=(new Date).getTime(),n=this._timerStart?(this._timerStop||r)-this._timerStart:0;n=this._getCurrentTimeLimit()-n,this._playButton.scale.set(2*this.progress*Math.max(0,this.size-.5)),this._playButton.visible=.8,this._playButton.x=-100*this.size*Math.cos(.25*Math.PI),this._playButton.y=100*this.size*Math.sin(.25*Math.PI),this._timeLabel.progress=this.progress,this._timeBg.alpha=this.progress,this._timeLabel.y=40*-this.size,this._timeBg.y=this._timeLabel.y,this._timeBg.scale.x=.2+.8*this.size,this._timeBgRed.y=this._timeBg.y,this._timeBgRed.scale.x=this._timeBg.scale.x,this._pulse?(this._timeLabel.alpha=.6+.4*Math.sin(.01*performance.now()),this._redLight.alpha=(.4+.4*Math.sin(.01*performance.now()))*this.progress):(this._timeLabel.alpha=1,this._redLight.alpha=0),this._timeBgRed.alpha=this._redLight.alpha;var o=Math.floor(n/6e4),i=Math.floor((n-1e3*o*60)/1e3),s=n%1e3,l="".concat(o.toString().padStart(2,"0"),":").concat(i.toString().padStart(2,"0"));1===this.size&&(l+=".".concat(s.toString().padStart(3,"0"))),this._timeLabel.text=l,this._modeLabel.progress=this.progress,this._modeLabel.style.fontSize=26*this.size,this._modeLabel.y=20*this.size,this._modeLabel.visible=this.size<=.65,"work"===this._mode?(this._modeLabel.text="work",this._modeLabel.style.fill=16777215,this._modeLabel.style.stroke=16777215,this._ticks.count=25):(this._modeLabel.text="break",this._modeLabel.style.fill=16711680,this._modeLabel.style.stroke=16711680,this._ticks.count=5),this._workLabel.radius=110*this.size,this._workLabel.progress=this.progress,this._workLabel.fontSize=12*this.size,this._workLabel.alpha="work"===this._mode?1:.25,this._workLabel.visible=1===this.size,this._breakLabel.radius=110*this.size,this._breakLabel.progress=this.progress,this._breakLabel.fontSize=12*this.size,this._breakLabel.alpha="break"===this._mode?1:.25,this._breakLabel.visible=1===this.size,this._pointer.progress=this.progress,this._pointer.size=.8*this.size,this._pointer.alpha=Math.max(0,2*(this.size-.5)),this._pointer.pointerRotation=2*Math.PI*e,this._clockCenter.alpha=.8*this.progress*Math.max(0,2*(this.size-.5)),this._clockCenter.scale.set(this.size),this._redLight.scale.set(1.15*this.size),this._ticks.size=.9*this.size,this._ticks.progress=this.progress,this._dots.size=1.1*this.size,this._dots.progress=this.progress,this._dots.visible=1===this.size,this._dotLabel.progress=this.progress,this._dotLabel.radius=113*this.size,this._dotLabel.fontSize=12*this.size,this._dotLabel.visible=1===this.size;var c=864e5*Math.floor(r/864e5);this.state.history&&(this._dots.countMax=Math.min(10,this.state.history.filter((function(t){return t>c})).length)),this._dotLabel.alpha=this._dots.countMax>0?1:0,this._statsScreen.progress=this.main.progress,this._statsScreen.stats=this.state.stats}}])&&Uo(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(Tt)];function ti(t){return ti="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ti(t)}function ei(){ei=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,r){return t[e]=r}}function c(t,e,r,o){var i=e&&e.prototype instanceof p?e:p,a=Object.create(i.prototype),s=new j(o||[]);return n(a,"_invoke",{value:w(t,r,s)}),a}function u(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var f={};function p(){}function h(){}function d(){}var y={};l(y,i,(function(){return this}));var _=Object.getPrototypeOf,b=_&&_(_(k([])));b&&b!==e&&r.call(b,i)&&(y=b);var m=d.prototype=p.prototype=Object.create(y);function g(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function v(t,e){function o(n,i,a,s){var l=u(t[n],t,i);if("throw"!==l.type){var c=l.arg,f=c.value;return f&&"object"==ti(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,a,s)}),(function(t){o("throw",t,a,s)})):e.resolve(f).then((function(t){c.value=t,a(c)}),(function(t){return o("throw",t,a,s)}))}s(l.arg)}var i;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return i=i?i.then(n,n):n()}})}function w(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var s=O(a,r);if(s){if(s===f)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=u(t,e,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function O(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,O(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var o=u(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,f;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function P(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function S(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function j(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(P,this),this.reset(!0)}function k(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:x}}function x(){return{value:void 0,done:!0}}return h.prototype=d,n(m,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,l(t,s,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},g(v.prototype),l(v.prototype,a,(function(){return this})),t.AsyncIterator=v,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new v(c(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},g(m),l(m,s,"Generator"),l(m,i,(function(){return this})),l(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=k,j.prototype={constructor:j,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var s=r.call(i,"catchLoc"),l=r.call(i,"finallyLoc");if(s&&l){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),S(r),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;S(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:k(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},t}function ri(t,e,r,n,o,i,a){try{var s=t[i](a),l=s.value}catch(t){return void r(t)}s.done?e(l):Promise.resolve(l).then(n,o)}function ni(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){ri(i,n,o,a,s,"next",t)}function s(t){ri(i,n,o,a,s,"throw",t)}a(void 0)}))}}var oi="#demo"===window.location.hash,ii="font-weight:bold;background-color:green;color:white",ai="[core]";oi&&console.log(ai,"DEMO MODE is turned on"),ni(ei().mark((function t(){var e,r,n,o,i;return ei().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=function(){return(r=ni(ei().mark((function t(e){var r;return ei().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=new(O())(e),t.next=3,r.load();case 3:console.log(ai,'Font "'.concat(e,'" has been loaded'));case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)},e=function(t){return r.apply(this,arguments)},console.groupCollapsed("%c".concat(ai," Loading fonts...."),ii),t.next=5,e("weathericons-regular-webfont");case 5:return t.next=7,e("MajorMonoDisplay-Regular");case 7:return t.next=9,e("Material Symbols Outlined");case 9:console.groupEnd(),n=oi?new M:io(),o=new PIXI.Application({width:1480,height:320,antialias:!1,useContextAlpha:!1}),document.body.appendChild(o.view),i=new v,oi&&(i.infoMessage.emptyText="[Demo Mode]"),o.stage.addChild(i),$o.map((function(t){return new t})).forEach((function(t){i.addWidget(t),t.on("service",(function(t){n.emit("service",t)}))})),n.on("connect",(function(){console.log("%c".concat(ai," Socket connected"),ii),i.online=!0})),n.on("disconnect",(function(){console.log("".concat(ai," Socket disconnected"),ii),i.online=!1})),n.on("widget",(function(t){console.log("%c[".concat(t.widgetId||"core",'] Socket message "widget":'),ii,t);var e=t.widgetId,r=t.payload;i.routeMessage(e,r)})),n.on("distance",function(){var t=ni(ei().mark((function t(e){return ei().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:console.log("%c".concat(ai,' Socket message "distance":'),ii,e),"goSleep"===e.action?i.goSleep():"wakeUp"===e.action&&i.wakeUp();case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),n.on("config",(function(t){console.log("%c".concat(ai,' Socket message "config":'),ii,t);for(var e=t.widgets,r=0,n=Object.keys(e);r<n.length;r++){var o=n[r];i.routeConfig(o,e[o])}}));case 23:case"end":return t.stop()}}),t)})))()})()})();